

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>NIRSpec IFU Pipeline Notebook &#8212; JWST Pipeline Notebooks</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/main.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/NIRSPEC/IFU/JWPipeNB-NIRSpec-IFU';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="NIRSpec MOS Pipeline Notebook" href="../MOS/JWPipeNB-NIRSpec-MOS.html" />
    <link rel="prev" title="NIRSpec FS Pipeline Notebook" href="../FSlit/JWPipeNB-NIRSpec-FS.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/stsci_logo2.png" class="logo__image only-light" alt="JWST Pipeline Notebooks - Home"/>
    <script>document.write(`<img src="../../../_static/stsci_logo2.png" class="logo__image only-dark" alt="JWST Pipeline Notebooks - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    JWST Pipeline Notebooks $${\color{red}UNDER—CONSTRUCTION}$$
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">MIRI Imaging</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../MIRI/Imaging/JWPipeNB-MIRI-imaging.html">MIRI Imaging Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MIRI Imaging TSO</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../MIRI/Imaging-TSO/JWPipeNB-MIRI-imaging-TSO.html">MIRI Imaging TSO Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MIRI LRS Slit</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../MIRI/LRS-slit/JWPipeNB-MIRI-LRS-slit.html">MIRI LRS Slit Mode Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MIRI LRS Slitless</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../MIRI/LRS-slitless-TSO/JWPipeNB-MIRI-LRS-slitless-TSO.html">MIRI LRS Slitless Mode TSO Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MIRI MRS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../MIRI/MRS/JWPipeNB-MIRI-MRS.html">MIRI MRS Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NIRCAM Imaging</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../NIRCAM/Imaging/JWPipeNB-nircam-imaging.html">NIRCam Imaging Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NIRISS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../NIRISS/Imaging/JWPipeNB-niriss-imaging.html">NIRISS Imaging Pipeline Notebook</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NIRSpec BOTS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../BOTS/JWPipeNB-NIRSpec-BOTS.html">NIRSpec BOTS Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NIRSpec Fixed Slit</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../FSlit/JWPipeNB-NIRSpec-FS.html">NIRSpec FS Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NIRSpec IFU</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">NIRSpec IFU Pipeline Notebook</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NIRSpec MOS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../MOS/JWPipeNB-NIRSpec-MOS.html">NIRSpec MOS Pipeline Notebook</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/spacetelescope/jwst-pipeline-notebooks" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/spacetelescope/jwst-pipeline-notebooks/issues/new?title=Issue%20on%20page%20%2Fnotebooks/NIRSPEC/IFU/JWPipeNB-NIRSpec-IFU.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/notebooks/NIRSPEC/IFU/JWPipeNB-NIRSpec-IFU.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>NIRSpec IFU Pipeline Notebook</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#table-of-contents">Table of Contents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">1. Configuration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-dependencies-and-parameters">Install dependencies and parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-crds-context-and-server">Set CRDS Context and Server</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#package-imports">2. Package Imports</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-convience-functions">Define Convience Functions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#demo-mode-setup-ignore-if-not-using-demo-data">3. Demo Mode Setup (ignore if not using demo data)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#directory-setup">4. Directory Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-1-detector1pipeline-calwebb-detector1">5. Stage 1: <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-detector1pipeline">5.1 Configure <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#run-detector1pipeline">5.2 Run <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#calibrating-science-files">5.2.1 Calibrating Science Files</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#calibrating-background-files">5.2.2 Calibrating Background Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-2-spec2pipeline-calwebb-spec2">6. Stage 2: <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-spec2pipeline">6.1 Configure <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-spec2pipeline-association-files">6.2 Create <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> Association Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#run-spec2pipeline">6.3 Run <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">6.3.1 Calibrating Science Files</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">6.3.2 Calibrating Background Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-3-spec3pipeline-calwebb-spec3">7. Stage 3: <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_spec3</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-spec3pipeline">7.1 Configure <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-spec3pipeline-association-files">7.2 Create <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> Association Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#run-spec3pipeline">7.3 Run <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualize-the-data">8. Visualize the Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#display-detector1pipeline-products">8.1 Display <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> Products</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#display-spec3pipeline-products">8.2 Display <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> Products</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modifying-the-extract1d-reference-file-as-needed">9. Modifying the EXTRACT1D Reference File (as needed)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#related-notebooks">Related Notebooks</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <a class="reference internal image-reference" href="https://github.com/spacetelescope/jwst-pipeline-notebooks/raw/main/_static/stsci_header.png"><img alt="stsci_logo" src="https://github.com/spacetelescope/jwst-pipeline-notebooks/raw/main/_static/stsci_header.png" style="width: 900px;" /></a>
<section id="nirspec-ifu-pipeline-notebook">
<h1>NIRSpec IFU Pipeline Notebook<a class="headerlink" href="#nirspec-ifu-pipeline-notebook" title="Permalink to this heading">#</a></h1>
<p><strong>Authors</strong>: Kayli Glidic (kglidic&#64;stsci.edu), Maria Pena-Guerrero (pena&#64;stsci.edu), Leonardo Ubeda (lubeda&#64;stsci.edu); NIRSpec branch<br>
<strong>Last Updated</strong>: February 7, 2025 </br>
<strong>Pipeline Version</strong>: 1.17.1 (Build 11.2, Context jwst_1322.pmap)</p>
<p><strong>Purpose</strong>:<br>
End-to-end calibration with the James Webb Space Telescope (JWST) pipeline is divided into three main processing stages. This notebook provides a framework for processing generic Near-Infrared Spectrograph (NIRSpec) fixed slit (FS) data through <a class="reference external" href="https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline/stages-of-jwst-data-processing#gsc.tab=0">stages 1-3 of the JWST pipeline</a>, including how to use associations for multi-exposure observations and how to interact and work with JWST datamodels. Data is assumed to be organized into three folders: science, background, and associations, as specified in the paths set up below. In most cases, editing cells outside the <span class="xref myst">Configuration</span> section is unnecessary unless the standard pipeline processing options or plot parameters need to be modified.</p>
<p><strong><span class="xref myst">Data</span></strong>:<br>
This notebook is set up to use observations of Tarantula Nebula with the G140H, G235H, and G395H grisms obtained by Proposal ID (PID) 2729, Observation 5. This observation has a CYCLING dither pattern with 8 points. These observations do not include a nod or background. The demo data will automatically download unless disabled (i.e., to use local files instead).</p>
<p><strong><span class="xref myst">JWST pipeline version and CRDS context</span></strong>:<br>
This notebook was written for the above-specified pipeline version and associated build context for this version of the JWST Calibration Pipeline. Information about this and other contexts can be found in the JWST Calibration Reference Data System (CRDS <a class="reference external" href="https://jwst-crds.stsci.edu/">server</a>). If you use different pipeline versions, please refer to the table <a class="reference external" href="https://jwst-crds.stsci.edu/display_build_contexts/">here</a> to determine what context to use. To learn more about the differences for the pipeline, read the relevant <a class="reference external" href="https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline/jwst-operations-pipeline-build-information#references">documentation</a>.<br></p>
<p>Please note that pipeline software development is a continuous process, so results in some cases may be slightly different if a subsequent version is used. <strong>For optimal results, users are strongly encouraged to reprocess their data using the most recent pipeline version and <a class="reference external" href="https://jwst-crds.stsci.edu/display_build_contexts/">associated CRDS context</a>, taking advantage of bug fixes and algorithm improvements.</strong>
Any <a class="reference external" href="https://jwst-docs.stsci.edu/known-issues-with-jwst-data/nirspec-known-issues/nirspec-ifu-known-issues#gsc.tab=0">known issues</a> for this build are noted in the notebook.</p>
<p><strong>Updates</strong>:<br>
This notebook is regularly updated to incorporate the latest pipeline improvements. Find the most up-to-date version of this notebook <a class="reference external" href="https://github.com/spacetelescope/jwst-pipeline-notebooks/">here</a>.</p>
<p><strong>Recent Changes</strong>:</br></p>
<ul class="simple">
<li><p>October 15, 2024: Converted notebook to follow standard template. </br></p></li>
<li><p>November 4, 2024: Notebook updated to JWST pipeline version 1.16.0 (Build 11.1).</p></li>
<li><p>January 7, 2025: Add handling for background and CRDS.</p></li>
<li><p>February 7, 2025: Always construct associations within this notebook, generalize plotting.</p></li>
</ul>
<hr class="docutils" />
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><span class="xref myst">1. Configuration</span></p></li>
<li><p><span class="xref myst">2. Package Imports</span></p></li>
<li><p><span class="xref myst">3. Demo Mode Setup</span></p></li>
<li><p><span class="xref myst">4. Directory Setup</span></p></li>
<li><p><span class="xref myst">5. Stage 1: <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code>)</span></p>
<ul>
<li><p><span class="xref myst">5.1 Configure <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code></span></p></li>
<li><p><span class="xref myst">5.2 Run <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code></span></p>
<ul>
<li><p><span class="xref myst">5.2.1 Calibrating Science Files</span></p></li>
<li><p><span class="xref myst">5.2.2 Calibrating Background Files</span></p></li>
</ul>
</li>
</ul>
</li>
<li><p><span class="xref myst">6. Stage 2: <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code>)</span></p>
<ul>
<li><p><span class="xref myst">6.1 Configure <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code></span></p></li>
<li><p><span class="xref myst">6.2 Create <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> Association Files</span></p></li>
<li><p><span class="xref myst">6.3 Run <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code></span></p>
<ul>
<li><p><span class="xref myst">6.3.1 Calibrating Science Files</span></p></li>
<li><p><span class="xref myst">6.3.2 Calibrating Background Files</span></p></li>
</ul>
</li>
</ul>
</li>
<li><p><span class="xref myst">7. Stage 3: <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_spec3</span></code>)</span></p>
<ul>
<li><p><span class="xref myst">7.1 Configure <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code></span></p></li>
<li><p><span class="xref myst">7.2 Create <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> Association Files</span></p></li>
<li><p><span class="xref myst">7.3 Run <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code></span></p></li>
</ul>
</li>
<li><p><span class="xref myst">8. Visualize the Data</span></p>
<ul>
<li><p><span class="xref myst">8.1 Display <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> Products</span></p></li>
<li><p><span class="xref myst">8.2 Display <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> Products</span></p></li>
</ul>
</li>
<li><p><span class="xref myst">9. Modifying the EXTRACT1D Reference File (as needed)</span></p></li>
</ul>
</section>
<hr class="docutils" />
<section id="configuration">
<h2>1. Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">#</a></h2>
<section id="install-dependencies-and-parameters">
<h3>Install dependencies and parameters<a class="headerlink" href="#install-dependencies-and-parameters" title="Permalink to this heading">#</a></h3>
<p>To make sure that the pipeline version is compatible with the steps discussed below and that the required dependencies and packages get installed, you can create a fresh Conda environment and install the provided requirements.txt file before starting this notebook:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>conda create -n nirspec_ifu_pipeline python=3.12
conda activate nirspec_ifu_pipeline
pip install -r requirements.txt
</pre></div>
</div>
<p>Set the basic parameters to configure the notebook. These parameters determine what data gets used, where data is located (if already on disk), and the type of background subtraction (if any). The list of parameters includes:<br></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">demo_mode</span></code>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>: Downloads example data from the <a class="reference external" href="https://archive.stsci.edu/">Barbara A. Mikulski Archive for Space Telescopes (MAST)</a> and processes it through the pipeline. All processing will occur in a local directory unless modified in <span class="xref myst">Section 3</span> below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>: Process your own downloaded data; provide its location. <br><br></p></li>
</ul>
</li>
<li><p><strong>Directories with data</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">sci_dir</span></code>: Directory where science observation data is stored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bg_dir</span></code>: Directory where background observation data is stored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">asn_dir</span></code>: Directory where Stage 2/3 associations are stored.<br><br></p></li>
</ul>
</li>
<li><p><strong><a class="reference external" href="https://jwst-docs.stsci.edu/jwst-near-infrared-spectrograph/nirspec-observing-strategies/nirspec-background-recommended-strategies#gsc.tab=0">Backgroud subtraction methods</a></strong> (<code class="docutils literal notranslate"><span class="pre">True</span></code> = run, <code class="docutils literal notranslate"><span class="pre">False</span></code> = skip):</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">master_bg</span></code>: Apply master-background subtraction in <code class="docutils literal notranslate"><span class="pre">calwebb_spec3</span></code>? Uses dedicated background observations.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pixel_bg</span></code>: Apply pixel-to-pixel background subtraction in <code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code>? This is the default pipeline setting. Uses noded observations.<br><br></p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Basic import necessary for configuration.</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

<span class="c1"># Control logging level: INFO, WARNING, ERROR</span>
<span class="c1"># Run command loging.disable if want to hide logging</span>
<span class="c1"># ERROR messages.</span>
<span class="c1"># logging.disable(logging.ERROR)</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="ne">RuntimeWarning</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-block alert-warning">
<p>Note that <code class="docutils literal notranslate"><span class="pre">demo_mode</span></code> must be set appropriately below.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set parameters for demo_mode, data mode directories, and processing steps.</span>

<span class="c1"># -------------------------------DEMO MODE-----------------------------------</span>
<span class="n">demo_mode</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">if</span> <span class="n">demo_mode</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Running in demonstration mode using online example data!&#39;</span><span class="p">)</span>

<span class="c1"># ----------------------------User Mode Directories--------------------------</span>
<span class="k">else</span><span class="p">:</span>  <span class="c1"># If demo_mode = False, look for user data in these paths.</span>

    <span class="c1"># Set directory paths for processing specific data; adjust to your local</span>
    <span class="c1"># directory setup (examples provided below).</span>
    <span class="n">basedir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># Directory to science observation data; expects uncalibrated data in</span>
    <span class="c1"># sci_dir/uncal/ and results in stage1, stage2, and stage3 directories.</span>
    <span class="n">sci_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="s1">&#39;ifu_data_02729/Obs005&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># Directory to dedicated background observation data; expects uncalibrated data in</span>
    <span class="c1"># bg_dir/uncal/ and results in stage1, stage2, and stage3 directories.</span>
    <span class="c1"># bg_dir = os.path.join(basedir, &#39;ifu_data_02729/Obs002&#39;, &#39;&#39;)</span>
    <span class="n">bg_dir</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>  <span class="c1"># If no dedicated background observation, use an empty string.</span>

<span class="c1"># ---------------------------Set Processing Steps----------------------------</span>
<span class="c1"># Individual pipeline stages can be turned on/off here.  Note that a later</span>
<span class="c1"># stage won&#39;t be able to run unless data products have already been</span>
<span class="c1"># produced from the prior stage.</span>

<span class="c1"># Science processing.</span>
<span class="n">dodet1</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># calwebb_detector1</span>
<span class="n">dospec2</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># calwebb_spec2</span>
<span class="n">dospec3</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># calwebb_spec3</span>
<span class="n">doviz</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># Visualize calwebb outputs</span>

<span class="c1"># Dedicated Background Processing</span>
<span class="n">dodet1bg</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># calwebb_detector1</span>
<span class="n">dospec2bg</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># calwebb_spec2 (needed for Master Background subtraction)</span>

<span class="c1"># How should background subtraction be done?</span>
<span class="c1"># Dedicated backgrounds can either use master or pixel-based subtraction</span>
<span class="c1"># Nodded backgrounds can use only pixel-based subtraction</span>
<span class="c1"># If none are selected, data will not be background subtracted.</span>
<span class="n">master_bg</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Master-background subtraction in spec3.</span>
<span class="n">pixel_bg</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Pixel-based background subtraction in spec2.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Running in demonstration mode using online example data!
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="set-crds-context-and-server">
<h3>Set CRDS Context and Server<a class="headerlink" href="#set-crds-context-and-server" title="Permalink to this heading">#</a></h3>
<p>Before importing <code class="docutils literal notranslate"><span class="pre">CRDS</span></code> and <code class="docutils literal notranslate"><span class="pre">JWST</span></code> modules, we need to configure our environment. This includes defining a CRDS cache directory in which to keep the reference files that will be used by the calibration pipeline. If the local CRDS cache directory has not been set, it will automatically be created in the home directory.<br><br>
<a class="reference external" href="https://jwst-crds.stsci.edu/display_build_contexts/">Build Context Table</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ------------------------Set CRDS context and paths------------------------</span>
<span class="c1"># Each version of the calibration pipeline is associated with a specific CRDS</span>
<span class="c1"># context file. The pipeline will select the appropriate context file behind</span>
<span class="c1"># the scenes while running. However, if you wish to override the default context</span>
<span class="c1"># file and run the pipeline with a different context, you can set that using</span>
<span class="c1"># the CRDS_CONTEXT environment variable. Here we show how this is done,</span>
<span class="c1"># although we leave the line commented out in order to use the default context.</span>
<span class="c1"># If you wish to specify a different context, uncomment the line below.</span>
<span class="c1"># os.environ[&#39;CRDS_CONTEXT&#39;] = &#39;jwst_1298.pmap&#39;  # CRDS context for 1.16.0</span>

<span class="c1"># Set CRDS cache directory to user home if not already set.</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;CRDS_PATH&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_PATH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">),</span> <span class="s1">&#39;crds_cache&#39;</span><span class="p">)</span>

<span class="c1"># Check whether the CRDS server URL has been set. If not, set it.</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;CRDS_SERVER_URL&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_SERVER_URL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;https://jwst-crds.stsci.edu&#39;</span>

<span class="c1"># Output the current CRDS path and server URL in use.</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;CRDS local filepath:&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_PATH&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;CRDS file server:&#39;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CRDS_SERVER_URL&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CRDS local filepath: /home/runner/crds_cache
CRDS file server: https://jwst-crds.stsci.edu
</pre></div>
</div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="package-imports">
<h2>2. Package Imports<a class="headerlink" href="#package-imports" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the entire available screen width for this notebook.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span>
<span class="n">display</span><span class="p">(</span><span class="n">HTML</span><span class="p">(</span><span class="s2">&quot;&lt;style&gt;.container { width:95% !important; }&lt;/style&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>.container { width:95% !important; }</style></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ----------------------General Imports----------------------</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">copy</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">glob</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asdf</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">itertools</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>

<span class="c1"># ----------------------Astropy Imports----------------------</span>
<span class="c1"># Astropy utilities for opening FITS files, downloading demo files, etc.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">astropy.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">fits</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">astropy.wcs</span><span class="w"> </span><span class="kn">import</span> <span class="n">WCS</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">astropy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">sigma_clip</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">astropy.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">ImageNormalize</span><span class="p">,</span> <span class="n">ManualInterval</span><span class="p">,</span> <span class="n">LogStretch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">astropy.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">LinearStretch</span><span class="p">,</span> <span class="n">AsinhStretch</span><span class="p">,</span> <span class="n">simple_norm</span>

<span class="c1"># -------------------- Astroquery Imports ----------------------</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">astroquery.mast</span><span class="w"> </span><span class="kn">import</span> <span class="n">Observations</span>

<span class="c1"># ----------------------Plotting Imports---------------------</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">cm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">gridspec</span> <span class="k">as</span> <span class="n">grd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.patches</span><span class="w"> </span><span class="kn">import</span> <span class="n">Rectangle</span><span class="p">,</span> <span class="n">Circle</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">PatchCollection</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-block alert-info">
<p>Installation instructions for the JWST pipeline found here: <a class="reference external" href="https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline-overview">JDox</a> •
<a class="reference external" href="https://jwst-pipeline.readthedocs.io">ReadtheDocs</a> •
<a class="reference external" href="https://github.com/spacetelescope/jwst">Github</a></p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ----------------------JWST Calibration Pipeline Imports----------------------</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jwst</span>  <span class="c1"># Import the base JWST and CRDS packages.</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">crds</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">crds.client</span><span class="w"> </span><span class="kn">import</span> <span class="n">api</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">stpipe</span><span class="w"> </span><span class="kn">import</span> <span class="n">crds_client</span>

<span class="c1"># JWST pipelines (each encompassing many steps).</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Detector1Pipeline</span>  <span class="c1"># calwebb_detector1</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Spec2Pipeline</span>  <span class="c1"># calwebb_spec2</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Spec3Pipeline</span>  <span class="c1"># calwebb_spec3</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.extract_1d</span><span class="w"> </span><span class="kn">import</span> <span class="n">Extract1dStep</span>  <span class="c1"># Extract1D Step</span>

<span class="c1"># JWST pipeline utilities</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst</span><span class="w"> </span><span class="kn">import</span> <span class="n">datamodels</span>  <span class="c1"># JWST pipeline utilities: datamodels.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.associations</span><span class="w"> </span><span class="kn">import</span> <span class="n">asn_from_list</span> <span class="k">as</span> <span class="n">afl</span>  <span class="c1"># Tools for creating association files.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.associations.lib.rules_level2_base</span><span class="w"> </span><span class="kn">import</span> <span class="n">DMSLevel2bBase</span>  <span class="c1"># Define Lvl2 ASN.</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.associations.lib.rules_level3_base</span><span class="w"> </span><span class="kn">import</span> <span class="n">DMS_Level3_Base</span>  <span class="c1"># Define Lvl3 ASN.</span>

<span class="c1"># Check the default context for the Pipeline version</span>
<span class="n">default_context</span> <span class="o">=</span> <span class="n">crds</span><span class="o">.</span><span class="n">get_default_context</span><span class="p">(</span><span class="s1">&#39;jwst&#39;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s1">&#39;build&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;JWST Calibration Pipeline Version = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">jwst</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Default CRDS Context for JWST Version </span><span class="si">{</span><span class="n">jwst</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">default_context</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using CRDS Context: </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;CRDS_CONTEXT&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">default_context</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CRDS - INFO -  Calibration SW Found: jwst 1.17.1 (/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst-1.17.1.dist-info)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>JWST Calibration Pipeline Version = 1.17.1
Default CRDS Context for JWST Version 1.17.1: jwst_1322.pmap
Using CRDS Context: jwst_1322.pmap
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<section id="define-convience-functions">
<h3>Define Convience Functions<a class="headerlink" href="#define-convience-functions" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Given an input file list, return all matching a particular detector (nrs1 vs nrs2) and grating/filter.</span>
<span class="c1"># Returns two lists: one for non-imprint exposures, one for imprint exposures</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_matching</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">detector</span><span class="p">,</span> <span class="n">filt</span><span class="p">,</span> <span class="n">grating</span><span class="p">):</span>
    <span class="c1"># Pre-select only NRS_IFU type data since other data (e.g., TA images) don&#39;t have the necessary keywords to match</span>
    <span class="n">files_regular</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">files_imprint</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">hdr</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">getheader</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;EXP_TYPE&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;NRS_IFU&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="p">((</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;DETECTOR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">detector</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;FILTER&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">filt</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;GRATING&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">grating</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;IS_IMPRT&#39;</span><span class="p">]:</span>
                <span class="n">files_imprint</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">files_regular</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">files_regular</span><span class="p">,</span> <span class="n">files_imprint</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Given two input exposures, determine whether or not the </span>
<span class="c1"># grating wheel tilt matches closely enough to be associated</span>
<span class="k">def</span><span class="w"> </span><span class="nf">match_gwa</span><span class="p">(</span><span class="n">file1</span><span class="p">,</span> <span class="n">file2</span><span class="p">):</span>
    <span class="n">hdr1</span><span class="p">,</span> <span class="n">hdr2</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">getheader</span><span class="p">(</span><span class="n">file1</span><span class="p">),</span> <span class="n">fits</span><span class="o">.</span><span class="n">getheader</span><span class="p">(</span><span class="n">file2</span><span class="p">)</span>
    <span class="n">gwa_match</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">((</span><span class="n">hdr1</span><span class="p">[</span><span class="s1">&#39;GWA_XTIL&#39;</span><span class="p">],</span> <span class="n">hdr1</span><span class="p">[</span><span class="s1">&#39;GWA_YTIL&#39;</span><span class="p">]),</span> <span class="p">(</span><span class="n">hdr2</span><span class="p">[</span><span class="s1">&#39;GWA_XTIL&#39;</span><span class="p">],</span> <span class="n">hdr2</span><span class="p">[</span><span class="s1">&#39;GWA_YTIL&#39;</span><span class="p">]),</span> 
                   <span class="n">atol</span><span class="o">=</span><span class="mf">1.0e-8</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">gwa_match</span> <span class="o">=</span> <span class="kc">True</span>
    
    <span class="k">return</span> <span class="n">gwa_match</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start a timer to keep track of runtime.</span>
<span class="n">time0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="demo-mode-setup-ignore-if-not-using-demo-data">
<h2>3. Demo Mode Setup (ignore if not using demo data)<a class="headerlink" href="#demo-mode-setup-ignore-if-not-using-demo-data" title="Permalink to this heading">#</a></h2>
<div class="alert alert-block alert-info">
<p>The data in this notebook is public and does not require a token. For other data sets, you may need to provide a token. For more infomation visit the
<a class="reference external" href="https://astroquery.readthedocs.io/en/latest/index.html">astroquery</a> documentation.</p>
</div>
<p>If running in demonstration mode, set up the program information to retrieve the uncalibrated data (<code class="docutils literal notranslate"><span class="pre">_uncal.fits</span></code>) automatically from MAST using <code class="docutils literal notranslate"><span class="pre">astroquery</span></code>. MAST provides flexibility by allowing searches based on proposal ID and observation ID, rather than relying solely on filenames. More information about the JWST file naming conventions can be found <a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/data_products/file_naming.html">here</a>.</p>
<p>The IFU demo data in this notebook is from the <a class="reference external" href="https://www.stsci.edu/jwst/science-execution/program-information?id=2729">Early Release Science (ERS) Proposal ID 2729</a> and features observations of the Tarantula Nebula (extended source) using multiple grisms. The program setup is briefly summarized in the table below.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Demo Target: Tarantula Nebula</p></th>
<th class="head text-center"><p></p></th>
<th class="head text-center"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Proposal ID</p></td>
<td class="text-center"><p>02729</p></td>
<td class="text-center"><p>Program number</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>OBSERVTN</p></td>
<td class="text-center"><p>005</p></td>
<td class="text-center"><p>Observation number</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><a class="reference external" href="https://jwst-docs.stsci.edu/jwst-near-infrared-spectrograph/nirspec-observing-modes/nirspec-ifu-spectroscopy">GRATING/FILTER</a></p></td>
<td class="text-center"><p>G140H/F100LP</p></td>
<td class="text-center"><p>λ: 0.97–1.89 μm (a medium resolution, R ~ 1000)</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p></p></td>
<td class="text-center"><p>G235H/F170LP</p></td>
<td class="text-center"><p>λ: 1.66–3.17 μm (a high resolution, R ~ 2700)</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p></p></td>
<td class="text-center"><p>G395H/F290LP</p></td>
<td class="text-center"><p>λ: 2.87–5.27 μm (a high resolution, R ~ 2700)</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>SUBARRAY</p></td>
<td class="text-center"><p>SUBS200A1</p></td>
<td class="text-center"><p>Subarray used</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>NINTS</p></td>
<td class="text-center"><p>2</p></td>
<td class="text-center"><p>Number of integrations in exposure</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>NGROUPS</p></td>
<td class="text-center"><p>30</p></td>
<td class="text-center"><p>Number of groups in integration</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>DURATION</p></td>
<td class="text-center"><p>87.533 [s]</p></td>
<td class="text-center"><p>Total duration of one exposure</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>READPATT</p></td>
<td class="text-center"><p>NRSIRS2RAPID</p></td>
<td class="text-center"><p>Readout Pattern</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>PATTTYPE</p></td>
<td class="text-center"><p>CYCLING</p></td>
<td class="text-center"><p>Primary dither pattern type</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>PATTSIZE</p></td>
<td class="text-center"><p>LARGE</p></td>
<td class="text-center"><p>Primary dither pattern size (1.0” extent)</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>NUMDTHPT</p></td>
<td class="text-center"><p>8</p></td>
<td class="text-center"><p>Total number of points in pattern</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>SRCTYAPT</p></td>
<td class="text-center"><p>UNKNOWN</p></td>
<td class="text-center"><p>Source Type selected in APT</p></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<div><p><strong>Note:</strong> The presence of a physical gap between detectors affects high-resolution IFU observations because the spectra are long enough to span both NIRSpec detectors. When using the grating-filter combination G140H/F070LP (or PRISM/CLEAR) the resulting spectra do not have any gaps because the spectra do not extend beyond NRS1. <a class="reference external" href="https://jwst-docs.stsci.edu/jwst-near-infrared-spectrograph/nirspec-operations/nirspec-ifu-operations/nirspec-ifu-wavelength-ranges-and-gaps#NIRSpecIFUWavelengthRangesandGaps-Wavelengthgaps">More Info …</a></p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up the program information and directories to collect</span>
<span class="c1"># the data in demo_mode.</span>

<span class="k">if</span> <span class="n">demo_mode</span><span class="p">:</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Running in demonstration mode. &#39;</span>
          <span class="s1">&#39;Example data will be downloaded from MAST!&#39;</span><span class="p">)</span>

    <span class="c1"># NOTE:</span>
    <span class="c1"># For non public data sets, you may need to provide a token.</span>
    <span class="c1"># However, for security it is not recommended to enter tokens into</span>
    <span class="c1"># a terminal or Jupyter notebook.</span>
    <span class="c1">#Observations.login(token=&quot;&quot;)</span>

    <span class="c1"># --------------Program and observation information--------------</span>
    <span class="n">program</span> <span class="o">=</span> <span class="s2">&quot;02729&quot;</span>
    <span class="n">sci_observtn</span> <span class="o">=</span> <span class="s2">&quot;005&quot;</span>
    <span class="n">bg_observtn</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Possible filter options [&quot;F100LP;G140H&quot;,&quot;F170LP;G235H&quot;,&quot;F290LP;G395H&quot;].</span>
    <span class="c1"># Limiting selection to one.</span>
    <span class="n">filters</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;F290LP;G395H&quot;</span><span class="p">]</span>

    <span class="c1"># ----------Define the base and observation directories----------</span>
    <span class="n">basedir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">sci_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;ifu_data_</span><span class="si">{</span><span class="n">program</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">sci_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Obs</span><span class="si">{</span><span class="n">sci_observtn</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="n">uncal_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_dir</span><span class="p">,</span> <span class="s1">&#39;uncal/&#39;</span><span class="p">)</span>

    <span class="c1"># If no background observation, leave blank.</span>
    <span class="n">bg_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">basedir</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;ifu_data_</span><span class="si">{</span><span class="n">program</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">bg_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Obs</span><span class="si">{</span><span class="n">bg_observtn</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">bg_observtn</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
    <span class="n">uncal_bgdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_dir</span><span class="p">,</span> <span class="s1">&#39;uncal/&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">bg_observtn</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>

    <span class="c1"># ------Ensure directories for downloading MAST data exists------</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">uncal_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># Makes directory only when a background observation is provided.</span>
    <span class="k">if</span> <span class="n">bg_observtn</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">uncal_bgdir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Running with user provided data.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Running in demonstration mode. Example data will be downloaded from MAST!
</pre></div>
</div>
</div>
</div>
<p><br>Click on the following links to learn more about querying and downloading data:<br>
• <a class="reference external" href="https://astroquery.readthedocs.io/en/latest/mast/mast_obsquery.html#downloading-data">Downloading data</a><br>
• <a class="reference external" href="https://astroquery.readthedocs.io/en/latest/api/astroquery.mast.ObservationsClass.html">Observations Class</a><br>
• <a class="reference external" href="https://mast.stsci.edu/api/v0/_productsfields.html">Products Field Descriptions</a><br><br></p>
<p>Compile tables of files from MAST associated with the science (SCI) and, if applicable, background (BKG) observations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtain a list of observation IDs for the specified demo program.</span>

<span class="k">if</span> <span class="n">demo_mode</span><span class="p">:</span>
    <span class="c1"># --------------------SCIENCE Observation--------------------</span>
    <span class="n">sci_obs_id_table</span> <span class="o">=</span> <span class="n">Observations</span><span class="o">.</span><span class="n">query_criteria</span><span class="p">(</span><span class="n">instrument_name</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NIRSPEC/IFU&#39;</span><span class="p">],</span>
                                                   <span class="n">provenance_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;CALJWST&quot;</span><span class="p">],</span>
                                                   <span class="n">obs_id</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;*</span><span class="si">{</span><span class="n">program</span><span class="si">}</span><span class="s1">*</span><span class="si">{</span><span class="n">sci_observtn</span><span class="si">}</span><span class="s1">*&#39;</span><span class="p">])</span>

    <span class="c1"># ------------------BACKGROUND Observation-------------------</span>
    <span class="k">if</span> <span class="n">bg_observtn</span><span class="p">:</span>
        <span class="n">bg_obs_id_table</span> <span class="o">=</span> <span class="n">Observations</span><span class="o">.</span><span class="n">query_criteria</span><span class="p">(</span><span class="n">instrument_name</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NIRSPEC/IFU&#39;</span><span class="p">],</span>
                                                      <span class="n">provenance_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;CALJWST&quot;</span><span class="p">],</span>
                                                      <span class="n">obs_id</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;*</span><span class="si">{</span><span class="n">program</span><span class="si">}</span><span class="s1">*</span><span class="si">{</span><span class="n">bg_observtn</span><span class="si">}</span><span class="s1">*&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Filter these tables to identify uncalibrated data and their association files for download from MAST.</p>
<p>The demo dataset consists of eight <code class="docutils literal notranslate"><span class="pre">_uncal.fits</span></code> files (per detector), each approximately 63 MB in size.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convert visits into a list of uncalibrated data and ASN files.</span>

<span class="k">if</span> <span class="n">demo_mode</span><span class="p">:</span>
    <span class="n">file_criteria</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;filters&#39;</span><span class="p">:</span> <span class="n">filters</span><span class="p">,</span> <span class="s1">&#39;calib_level&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                     <span class="s1">&#39;productSubGroupDescription&#39;</span><span class="p">:</span> <span class="s1">&#39;UNCAL&#39;</span><span class="p">}</span>

    <span class="c1"># Initialize lists for science, background, and ASN files.</span>
    <span class="n">sci_downloads</span><span class="p">,</span> <span class="n">bg_downloads</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>

    <span class="n">pfilter</span> <span class="o">=</span> <span class="n">Observations</span><span class="o">.</span><span class="n">filter_products</span>  <span class="c1"># Alias for filter_products method.</span>

    <span class="c1"># ----------Identify uncalibrated SCIENCE files associated with each visit----------</span>
    <span class="k">for</span> <span class="n">exposure</span> <span class="ow">in</span> <span class="n">sci_obs_id_table</span><span class="p">:</span>
        <span class="n">sci_products</span> <span class="o">=</span> <span class="n">Observations</span><span class="o">.</span><span class="n">get_product_list</span><span class="p">(</span><span class="n">exposure</span><span class="p">)</span>

        <span class="c1"># Filter for full-size science files (exclude smaller confirmation images).</span>
        <span class="n">avg_sci_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">sci_products</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">])</span>
        <span class="n">sci_products</span> <span class="o">=</span> <span class="n">sci_products</span><span class="p">[</span><span class="n">sci_products</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">avg_sci_size</span><span class="p">]</span>
        <span class="n">sci_downloads</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">pfilter</span><span class="p">(</span><span class="n">sci_products</span><span class="p">,</span> <span class="o">**</span><span class="n">file_criteria</span><span class="p">)[</span><span class="s1">&#39;dataURI&#39;</span><span class="p">])</span>

    <span class="c1"># Filter for full-size background files (exclude smaller confirmation images).</span>
    <span class="k">if</span> <span class="n">bg_observtn</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">exposure</span> <span class="ow">in</span> <span class="n">bg_obs_id_table</span><span class="p">:</span>
            <span class="n">bg_products</span> <span class="o">=</span> <span class="n">Observations</span><span class="o">.</span><span class="n">get_product_list</span><span class="p">(</span><span class="n">exposure</span><span class="p">)</span>

            <span class="n">avg_bg_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">bg_products</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">])</span>
            <span class="n">bg_products</span> <span class="o">=</span> <span class="n">bg_products</span><span class="p">[</span><span class="n">bg_products</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">avg_bg_size</span><span class="p">]</span>
            <span class="n">bg_downloads</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">pfilter</span><span class="p">(</span><span class="n">bg_products</span><span class="p">,</span> <span class="o">**</span><span class="n">file_criteria</span><span class="p">)[</span><span class="s1">&#39;dataURI&#39;</span><span class="p">])</span>

    <span class="c1"># Filter out other observations and remove duplicates.</span>
    <span class="n">sci_downloads</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">sci_downloads</span> <span class="k">if</span> <span class="sa">f</span><span class="s2">&quot;jw</span><span class="si">{</span><span class="n">program</span><span class="si">}{</span><span class="n">sci_observtn</span><span class="si">}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">bg_observtn</span><span class="p">:</span>
        <span class="n">bg_downloads</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">bg_downloads</span> <span class="k">if</span> <span class="sa">f</span><span class="s2">&quot;jw</span><span class="si">{</span><span class="n">program</span><span class="si">}{</span><span class="n">bg_observtn</span><span class="si">}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">}</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Background files selected for downloading: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">bg_downloads</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Background files selected for downloading: 0&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Science files selected for downloading: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sci_downloads</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Background files selected for downloading: 0
Science files selected for downloading: 16
</pre></div>
</div>
</div>
</div>
<p>Download the data.</p>
<div class="alert alert-block alert-warning">
<p><strong>Warning</strong>: If this notebook is halted during this step, the downloaded file may be incomplete, and cause crashes later on!</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download data and place them into the appropriate directories.</span>

<span class="k">if</span> <span class="n">demo_mode</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sci_downloads</span><span class="p">:</span>
        <span class="n">sci_manifest</span> <span class="o">=</span> <span class="n">Observations</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">local_path</span><span class="o">=</span><span class="n">uncal_dir</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">bg_downloads</span><span class="p">:</span>
        <span class="n">bg_manifest</span> <span class="o">=</span> <span class="n">Observations</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">local_path</span><span class="o">=</span><span class="n">uncal_bgdir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00006_nrs1_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00006_nrs1_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00001_nrs2_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00001_nrs2_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00008_nrs1_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00008_nrs1_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00006_nrs2_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00006_nrs2_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00003_nrs2_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00003_nrs2_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00005_nrs1_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00005_nrs1_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00008_nrs2_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00008_nrs2_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00005_nrs2_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00005_nrs2_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00004_nrs1_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00004_nrs1_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00007_nrs2_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00007_nrs2_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00007_nrs1_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00007_nrs1_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00003_nrs1_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00003_nrs1_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00001_nrs1_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00001_nrs1_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00004_nrs2_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00004_nrs2_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00002_nrs2_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00002_nrs2_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading URL https://mast.stsci.edu/api/v0.1/Download/file?uri=mast:JWST/product/jw02729005001_02101_00002_nrs1_uncal.fits to /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00002_nrs1_uncal.fits ...
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> [Done]
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="directory-setup">
<h2>4. Directory Setup<a class="headerlink" href="#directory-setup" title="Permalink to this heading">#</a></h2>
<p>Set up detailed paths to input/output stages here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define/create output subdirectories to keep data products organized.</span>

<span class="c1"># -----------------------------Science Directories------------------------------</span>
<span class="n">uncal_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_dir</span><span class="p">,</span> <span class="s1">&#39;uncal/&#39;</span><span class="p">)</span>  <span class="c1"># Uncalibrated pipeline inputs.</span>
<span class="n">asn_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_dir</span><span class="p">,</span> <span class="s1">&#39;asn/&#39;</span><span class="p">)</span>  <span class="c1"># Association files</span>
<span class="n">det1_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_dir</span><span class="p">,</span> <span class="s1">&#39;stage1/&#39;</span><span class="p">)</span>  <span class="c1"># calwebb_detector1 pipeline outputs.</span>
<span class="n">spec2_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_dir</span><span class="p">,</span> <span class="s1">&#39;stage2/&#39;</span><span class="p">)</span>  <span class="c1"># calwebb_spec2 pipeline outputs.</span>
<span class="n">spec3_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_dir</span><span class="p">,</span> <span class="s1">&#39;stage3/&#39;</span><span class="p">)</span>  <span class="c1"># calwebb_spec3 pipeline outputs.</span>

<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">asn_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">det1_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">spec2_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">spec3_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># ---------------------------Background Directories-----------------------------</span>
<span class="n">uncal_bgdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_dir</span><span class="p">,</span> <span class="s1">&#39;uncal/&#39;</span><span class="p">)</span>  <span class="c1"># Uncalibrated pipeline inputs.</span>
<span class="n">asn_bgdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_dir</span><span class="p">,</span> <span class="s1">&#39;asn/&#39;</span><span class="p">)</span>  <span class="c1"># Association files</span>
<span class="n">det1_bgdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_dir</span><span class="p">,</span> <span class="s1">&#39;stage1/&#39;</span><span class="p">)</span>  <span class="c1"># calwebb_detector1 pipeline outputs.</span>
<span class="n">spec2_bgdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_dir</span><span class="p">,</span> <span class="s1">&#39;stage2/&#39;</span><span class="p">)</span>  <span class="c1"># calwebb_spec2 pipeline outputs.</span>

<span class="k">if</span> <span class="n">bg_dir</span><span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">asn_bgdir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">det1_bgdir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">spec2_bgdir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print out the time benchmark.</span>
<span class="n">time1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime so far: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time1</span><span class="o">-</span><span class="n">time0</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Runtime so far: 0.5000 min
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="stage-1-detector1pipeline-calwebb-detector1">
<h2>5. Stage 1: <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code>)<a class="headerlink" href="#stage-1-detector1pipeline-calwebb-detector1" title="Permalink to this heading">#</a></h2>
<p>In this section, we process the data through the <code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code> pipeline to create Stage 1 <a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/data_products/science_products.html">data products</a>.</p>
<ul class="simple">
<li><p><strong>Input</strong>: Raw exposure (<code class="docutils literal notranslate"><span class="pre">_uncal.fits</span></code>) containing original data from all detector readouts (ncols x nrows x ngroups x nintegrations).</p></li>
<li><p><strong>Output</strong>: Uncalibrated countrate (slope) image in units of DN/s:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">_rate.fits</span></code>: A single countrate image averaged over multiple integrations (if available).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_rateints.fits</span></code>: Countrate images for each integration, saved in multiple extensions.</p></li>
</ul>
</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> applies basic detector-level corrections on a group-by-group basis, followed by ramp fitting for all exposure types, commonly referred to as “ramps-to-slopes” processing.</p>
<hr class="docutils" />
<section id="configure-detector1pipeline">
<h3>5.1 Configure <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code><a class="headerlink" href="#configure-detector1pipeline" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> has the following steps available for NIRSpec FS:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">group_scale</span></code> : Rescales pixel values to correct for improper onboard frame averaging.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dq_init</span></code> : Initializes the data quality (DQ) flags for the input data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">saturation</span></code> : Flags pixels at or below the A/D floor or above the saturation threshold.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">superbias</span></code> : Subtracts the superbias reference file from the input data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">refpix</span></code> : Use reference pixels to correct bias drifts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linearity</span></code> : Applies a correction for non-linear detector response.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dark_current</span></code> : Subtracts the dark current reference file from the input data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jump</span></code> : Performs CR/jump detection on each ramp integration within an exposure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean_flicker_noise</span></code>: Removes flicker (1/f) noise from calibrated ramp images (similar to <code class="docutils literal notranslate"><span class="pre">nsclean</span></code> in spec2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ramp_fit</span></code> : Determines the mean count rate (counts per second) for each pixel by performing a linear fit to the input data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gain_scale</span></code> : Corrects pixel values for non-standard gain settings, primarily in NIRSpec subarray data.</p></li>
</ul>
<p>For more information about each step and a full list of step arguments, please refer to the official documentation: <a class="reference external" href="https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline-overview/stages-of-jwst-data-processing/calwebb_detector1">JDox</a> •
<a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/stable/jwst/pipeline/calwebb_detector1.html">ReadtheDocs</a></p>
<p>Below, we set up a dictionary that defines how the <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> should be configured for IFU data.</p>
<div class="alert alert-warning">
  To override specific steps and reference files, use the examples below.
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up a dictionary to define how the Detector1 pipeline should be configured.</span>

<span class="c1"># -------------------------Boilerplate dictionary setup-------------------------</span>
<span class="n">det1dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;group_scale&#39;</span><span class="p">],</span> <span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;dq_init&#39;</span><span class="p">],</span> <span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;saturation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;superbias&#39;</span><span class="p">],</span> <span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;refpix&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;linearity&#39;</span><span class="p">],</span> <span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;dark_current&#39;</span><span class="p">],</span> <span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;jump&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;clean_flicker_noise&#39;</span><span class="p">],</span> <span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;ramp_fit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;gain_scale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># ---------------------------Override reference files---------------------------</span>

<span class="c1"># Overrides for various reference files (example).</span>
<span class="c1"># Files should be in the base local directory or provide full path.</span>
<span class="c1">#det1dict[&#39;dq_init&#39;][&#39;override_mask&#39;] = &#39;myfile.fits&#39; # Bad pixel mask</span>
<span class="c1">#det1dict[&#39;superbias&#39;][&#39;override_superbias&#39;] = &#39;myfile.fits&#39; # Bias subtraction</span>
<span class="c1">#det1dict[&#39;dark_current&#39;][&#39;override_dark&#39;] = &#39;myfile.fits&#39; # Dark current subtraction</span>

<span class="c1"># -----------------------------Set step parameters------------------------------</span>

<span class="c1"># Overrides for whether or not certain steps should be skipped (example).</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;linearity&#39;</span><span class="p">][</span><span class="s1">&#39;skip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># This is the default.</span>

<span class="c1"># Turn on multi-core processing for jump step (off by default).</span>
<span class="c1"># Choose what fraction of cores to use (quarter, half, or all).</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;jump&#39;</span><span class="p">][</span><span class="s1">&#39;maximum_cores&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;half&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Turn on detection of cosmic ray snowballs (on by default).</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;jump&#39;</span><span class="p">][</span><span class="s1">&#39;expand_large_events&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">det1dict</span><span class="p">[</span><span class="s1">&#39;jump&#39;</span><span class="p">][</span><span class="s1">&#39;expand_factor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># (default 2)</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-info">
<p>Many exposures are affected by artifacts known as <a class="reference external" href="https://jwst-docs.stsci.edu/known-issues-with-jwst-data/shower-and-snowball-artifacts#gsc.tab=0">snowballs</a> caused by large cosmic ray events. These artifacts are particularly significant in deep exposures with long integration times, with an estimated rate of one snowball per detector (FULL FRAME) per 20 seconds. To expand the number of pixels flagged as jumps around large cosmic ray events, set <code class="docutils literal notranslate"><span class="pre">expand_large_events</span></code> to True. An <code class="docutils literal notranslate"><span class="pre">expand_factor</span></code> of 3 works well for NIRSpec observations to cover most snowballs.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Turn on 1/f noise correction in Stage 1? (off by default).</span>
<span class="c1">#det1dict[&#39;clean_flicker_noise&#39;][&#39;skip&#39;] = False</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-info">
<p>JWST detector readout electronics (a.k.a. SIDECAR ASICs) generate significant 1/f noise during detector operations and signal digitization. This noise manifests as faint banding along the detector’s slow axis and varies from column to column. For NIRSpec data, the primary pipeline algorithm to address 1/f noise is <code class="docutils literal notranslate"><span class="pre">nsclean</span></code> in the <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> (Rauscher 2023) but is off by default.</p>
<p>An additional 1/f noise-cleaning algorithm, <code class="docutils literal notranslate"><span class="pre">clean_flicker_noise</span></code>, has been implemented at the group stage in the <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code>. This step is also off by default.</p>
</div></section>
<hr class="docutils" />
<section id="run-detector1pipeline">
<h3>5.2 Run <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code><a class="headerlink" href="#run-detector1pipeline" title="Permalink to this heading">#</a></h3>
<p>Run the science files and, if available, any background files through the <code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code> pipeline using the <code class="docutils literal notranslate"><span class="pre">.call()</span></code> method.</p>
<p>We use <code class="docutils literal notranslate"><span class="pre">.call()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">.run()</span></code> to ensure that the latest default parameters from CRDS are applied (<a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/stpipe/call_via_run.html">ReadtheDocs</a>).</p>
<p>This stage takes approximately 14 minutes to process sixteen <code class="docutils literal notranslate"><span class="pre">_uncal.fits</span></code> files (~1 minutes per file) and generate <code class="docutils literal notranslate"><span class="pre">_rate.fits</span></code> files.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Final list of UNCAL files ready for Stage 1 processing.</span>
<span class="n">uncal_sci</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">uncal_dir</span> <span class="o">+</span> <span class="s1">&#39;*uncal.fits&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Science UNCAL Files:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">uncal_sci</span><span class="p">))</span>

<span class="k">if</span> <span class="n">bg_dir</span><span class="p">:</span>
    <span class="n">uncal_bg</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">uncal_bgdir</span> <span class="o">+</span> <span class="s1">&#39;*uncal.fits&#39;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Background UNCAL Files:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">uncal_bg</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Science UNCAL Files:
--------------------
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00001_nrs1_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00001_nrs2_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00002_nrs1_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00002_nrs2_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00003_nrs1_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00003_nrs2_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00004_nrs1_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00004_nrs2_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00005_nrs1_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00005_nrs2_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00006_nrs1_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00006_nrs2_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00007_nrs1_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00007_nrs2_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00008_nrs1_uncal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00008_nrs2_uncal.fits
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time_det1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>  <span class="c1"># Tracks runtime for Stage 1.</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<section id="calibrating-science-files">
<h4>5.2.1 Calibrating Science Files<a class="headerlink" href="#calibrating-science-files" title="Permalink to this heading">#</a></h4>
<p>Identify the input science files and execute the <code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code> pipeline using the <code class="docutils literal notranslate"><span class="pre">call</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run Stage 1 pipeline on the science using the custom det1dict dictionary.</span>

<span class="k">if</span> <span class="n">dodet1</span><span class="p">:</span>
    <span class="c1"># --------------------------Science UNCAL files--------------------------</span>
    <span class="k">for</span> <span class="n">uncal_file</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">uncal_dir</span> <span class="o">+</span> <span class="s1">&#39;*uncal.fits&#39;</span><span class="p">)):</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applying Stage 1 Corrections &amp; Calibrations to: &quot;</span>
              <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">uncal_file</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">det1_result</span> <span class="o">=</span> <span class="n">Detector1Pipeline</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">uncal_file</span><span class="p">,</span>
                                             <span class="n">save_results</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                             <span class="n">steps</span><span class="o">=</span><span class="n">det1dict</span><span class="p">,</span>
                                             <span class="n">output_dir</span><span class="o">=</span><span class="n">det1_dir</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stage 1 has been completed for SCI data! </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Skipping Detector1 processing for SCI data.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00001_nrs1_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:06,415 - CRDS - INFO -  Calibration SW Found: jwst 1.17.1 (/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst-1.17.1.dist-info)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:07,537 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_system_datalvl_0002.rmap      694 bytes  (1 / 202 files) (0 / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:07,688 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_system_calver_0046.rmap    5.2 K bytes  (2 / 202 files) (694 / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:07,837 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_system_0045.imap      385 bytes  (3 / 202 files) (5.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:07,999 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_wavelengthrange_0024.rmap    1.4 K bytes  (4 / 202 files) (6.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:08,157 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_wavecorr_0005.rmap      884 bytes  (5 / 202 files) (7.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:08,309 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_superbias_0074.rmap   33.8 K bytes  (6 / 202 files) (8.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:08,494 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_sflat_0026.rmap   20.6 K bytes  (7 / 202 files) (42.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:08,682 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_saturation_0018.rmap    2.0 K bytes  (8 / 202 files) (62.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:08,814 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_refpix_0015.rmap    1.6 K bytes  (9 / 202 files) (64.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:08,949 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_readnoise_0025.rmap    2.6 K bytes  (10 / 202 files) (66.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:09,107 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_photom_0013.rmap      958 bytes  (11 / 202 files) (69.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:09,252 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pathloss_0008.rmap    1.2 K bytes  (12 / 202 files) (70.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:09,418 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-whitelightstep_0001.rmap      777 bytes  (13 / 202 files) (71.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:09,568 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-spec2pipeline_0013.rmap    2.1 K bytes  (14 / 202 files) (72.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:09,703 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-resamplespecstep_0002.rmap      709 bytes  (15 / 202 files) (74.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:09,833 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-outlierdetectionstep_0005.rmap    1.1 K bytes  (16 / 202 files) (74.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:09,978 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-jumpstep_0005.rmap      810 bytes  (17 / 202 files) (76.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:10,112 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-image2pipeline_0008.rmap    1.0 K bytes  (18 / 202 files) (76.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:10,246 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-detector1pipeline_0003.rmap    1.1 K bytes  (19 / 202 files) (77.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:10,391 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-darkpipeline_0003.rmap      872 bytes  (20 / 202 files) (78.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:10,542 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_pars-darkcurrentstep_0001.rmap      622 bytes  (21 / 202 files) (79.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:10,683 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_ote_0030.rmap    1.3 K bytes  (22 / 202 files) (80.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:10,845 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_msaoper_0016.rmap    1.5 K bytes  (23 / 202 files) (81.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:11,012 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_msa_0027.rmap    1.3 K bytes  (24 / 202 files) (83.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:11,169 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_mask_0039.rmap    2.7 K bytes  (25 / 202 files) (84.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:11,307 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_linearity_0017.rmap    1.6 K bytes  (26 / 202 files) (87.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:11,442 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_ipc_0006.rmap      876 bytes  (27 / 202 files) (88.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:11,580 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_ifuslicer_0017.rmap    1.5 K bytes  (28 / 202 files) (89.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:11,723 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_ifupost_0019.rmap    1.5 K bytes  (29 / 202 files) (91.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:11,856 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_ifufore_0017.rmap    1.5 K bytes  (30 / 202 files) (92.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:12,005 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_gain_0023.rmap    1.8 K bytes  (31 / 202 files) (94.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:12,150 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_fpa_0028.rmap    1.3 K bytes  (32 / 202 files) (95.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:12,294 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_fore_0026.rmap    5.0 K bytes  (33 / 202 files) (97.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:12,430 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_flat_0015.rmap    3.8 K bytes  (34 / 202 files) (102.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:12,575 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_fflat_0026.rmap    7.2 K bytes  (35 / 202 files) (105.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:12,718 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_extract1d_0018.rmap    2.3 K bytes  (36 / 202 files) (113.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:12,863 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_disperser_0028.rmap    5.7 K bytes  (37 / 202 files) (115.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:13,014 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_dflat_0007.rmap    1.1 K bytes  (38 / 202 files) (121.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:13,149 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_dark_0069.rmap   32.6 K bytes  (39 / 202 files) (122.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:13,323 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_cubepar_0015.rmap      966 bytes  (40 / 202 files) (154.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:13,460 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_collimator_0026.rmap    1.3 K bytes  (41 / 202 files) (155.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:13,613 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_camera_0026.rmap    1.3 K bytes  (42 / 202 files) (157.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:13,775 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_barshadow_0007.rmap    1.8 K bytes  (43 / 202 files) (158.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:13,918 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_area_0018.rmap    6.3 K bytes  (44 / 202 files) (160.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:14,054 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_apcorr_0009.rmap    5.6 K bytes  (45 / 202 files) (166.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:14,189 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nirspec_0387.imap    5.7 K bytes  (46 / 202 files) (171.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:14,325 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_wfssbkg_0008.rmap    3.1 K bytes  (47 / 202 files) (177.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:14,460 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_wavemap_0008.rmap    2.2 K bytes  (48 / 202 files) (180.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:14,594 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_wavelengthrange_0006.rmap      862 bytes  (49 / 202 files) (183.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:14,729 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_trappars_0004.rmap      753 bytes  (50 / 202 files) (183.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:14,879 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_trapdensity_0005.rmap      705 bytes  (51 / 202 files) (184.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:15,022 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_throughput_0005.rmap    1.3 K bytes  (52 / 202 files) (185.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:15,181 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_superbias_0030.rmap    7.4 K bytes  (53 / 202 files) (186.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:15,318 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_specwcs_0014.rmap    3.1 K bytes  (54 / 202 files) (194.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:15,451 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_spectrace_0008.rmap    2.3 K bytes  (55 / 202 files) (197.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:15,589 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_specprofile_0008.rmap    2.4 K bytes  (56 / 202 files) (199.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:15,727 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_speckernel_0006.rmap    1.0 K bytes  (57 / 202 files) (201.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:15,854 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_saturation_0015.rmap      829 bytes  (58 / 202 files) (202.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:16,003 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_readnoise_0011.rmap      987 bytes  (59 / 202 files) (203.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:16,149 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_photom_0036.rmap    1.3 K bytes  (60 / 202 files) (204.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:16,284 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_persat_0007.rmap      674 bytes  (61 / 202 files) (205.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:16,427 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pathloss_0003.rmap      758 bytes  (62 / 202 files) (206.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:16,573 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pastasoss_0004.rmap      818 bytes  (63 / 202 files) (207.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:16,709 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-undersamplecorrectionstep_0001.rmap      904 bytes  (64 / 202 files) (208.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:16,852 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-tweakregstep_0012.rmap    3.1 K bytes  (65 / 202 files) (209.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:16,989 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-spec2pipeline_0008.rmap      984 bytes  (66 / 202 files) (212.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:17,132 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-sourcecatalogstep_0002.rmap    2.3 K bytes  (67 / 202 files) (213.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:17,269 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-resamplestep_0002.rmap      687 bytes  (68 / 202 files) (215.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:17,402 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-outlierdetectionstep_0004.rmap    2.7 K bytes  (69 / 202 files) (216.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:17,545 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-jumpstep_0007.rmap    6.4 K bytes  (70 / 202 files) (218.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:17,686 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-image2pipeline_0005.rmap    1.0 K bytes  (71 / 202 files) (225.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:17,823 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-detector1pipeline_0002.rmap    1.0 K bytes  (72 / 202 files) (226.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:17,970 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-darkpipeline_0002.rmap      868 bytes  (73 / 202 files) (227.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:18,119 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-darkcurrentstep_0001.rmap      591 bytes  (74 / 202 files) (228.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:18,257 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_pars-chargemigrationstep_0004.rmap    5.7 K bytes  (75 / 202 files) (228.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:18,402 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_nrm_0005.rmap      663 bytes  (76 / 202 files) (234.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:18,545 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_mask_0022.rmap    1.3 K bytes  (77 / 202 files) (235.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:18,689 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_linearity_0022.rmap      961 bytes  (78 / 202 files) (236.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:18,835 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_ipc_0007.rmap      651 bytes  (79 / 202 files) (237.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:18,965 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_gain_0011.rmap      797 bytes  (80 / 202 files) (238.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:19,091 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_flat_0023.rmap    5.9 K bytes  (81 / 202 files) (238.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:19,236 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_filteroffset_0010.rmap      853 bytes  (82 / 202 files) (244.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:19,365 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_extract1d_0007.rmap      905 bytes  (83 / 202 files) (245.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:19,509 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_drizpars_0004.rmap      519 bytes  (84 / 202 files) (246.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:19,656 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_distortion_0025.rmap    3.4 K bytes  (85 / 202 files) (246.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:19,798 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_dark_0034.rmap    7.5 K bytes  (86 / 202 files) (250.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:19,933 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_area_0014.rmap    2.7 K bytes  (87 / 202 files) (257.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:20,071 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_apcorr_0010.rmap    4.3 K bytes  (88 / 202 files) (260.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:20,201 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_abvegaoffset_0004.rmap    1.4 K bytes  (89 / 202 files) (264.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:20,339 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_niriss_0267.imap    5.8 K bytes  (90 / 202 files) (266.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:20,470 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_wfssbkg_0004.rmap    7.2 K bytes  (91 / 202 files) (272.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:20,616 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_wavelengthrange_0010.rmap      996 bytes  (92 / 202 files) (279.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:20,756 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_tsophot_0003.rmap      896 bytes  (93 / 202 files) (280.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:20,891 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_trappars_0003.rmap    1.6 K bytes  (94 / 202 files) (281.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:21,035 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_trapdensity_0003.rmap    1.6 K bytes  (95 / 202 files) (282.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:21,168 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_superbias_0018.rmap   16.2 K bytes  (96 / 202 files) (284.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:21,334 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_specwcs_0022.rmap    7.1 K bytes  (97 / 202 files) (300.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:21,470 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_sirskernel_0002.rmap      671 bytes  (98 / 202 files) (307.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:21,616 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_saturation_0010.rmap    2.2 K bytes  (99 / 202 files) (308.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:21,755 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_readnoise_0025.rmap   23.2 K bytes  (100 / 202 files) (310.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:21,926 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_psfmask_0008.rmap   28.4 K bytes  (101 / 202 files) (333.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:22,110 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_photom_0028.rmap    3.4 K bytes  (102 / 202 files) (362.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:22,245 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_persat_0005.rmap    1.6 K bytes  (103 / 202 files) (365.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:22,388 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-whitelightstep_0003.rmap    1.5 K bytes  (104 / 202 files) (367.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:22,534 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-tweakregstep_0003.rmap    4.5 K bytes  (105 / 202 files) (368.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:22,678 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-spec2pipeline_0008.rmap      984 bytes  (106 / 202 files) (372.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:22,821 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-sourcecatalogstep_0002.rmap    4.6 K bytes  (107 / 202 files) (373.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:22,959 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-resamplestep_0002.rmap      687 bytes  (108 / 202 files) (378.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:23,092 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-outlierdetectionstep_0003.rmap      940 bytes  (109 / 202 files) (379.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:23,233 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-jumpstep_0005.rmap      806 bytes  (110 / 202 files) (380.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:23,374 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-image2pipeline_0003.rmap    1.0 K bytes  (111 / 202 files) (381.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:23,510 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-detector1pipeline_0003.rmap    1.0 K bytes  (112 / 202 files) (382.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:23,644 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-darkpipeline_0002.rmap      868 bytes  (113 / 202 files) (383.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:23,790 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_pars-darkcurrentstep_0001.rmap      618 bytes  (114 / 202 files) (383.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:23,931 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_mask_0011.rmap    3.5 K bytes  (115 / 202 files) (384.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:24,057 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_linearity_0011.rmap    2.4 K bytes  (116 / 202 files) (388.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:24,205 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_ipc_0003.rmap    2.0 K bytes  (117 / 202 files) (390.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:24,349 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_gain_0016.rmap    2.1 K bytes  (118 / 202 files) (392.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:24,492 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_flat_0027.rmap   51.7 K bytes  (119 / 202 files) (394.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:24,714 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_filteroffset_0004.rmap    1.4 K bytes  (120 / 202 files) (446.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:24,840 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_extract1d_0004.rmap      842 bytes  (121 / 202 files) (447.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:24,976 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_drizpars_0001.rmap      519 bytes  (122 / 202 files) (448.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:25,110 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_distortion_0033.rmap   53.4 K bytes  (123 / 202 files) (449.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:25,334 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_dark_0046.rmap   26.4 K bytes  (124 / 202 files) (502.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:25,506 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_area_0012.rmap   33.5 K bytes  (125 / 202 files) (528.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:25,690 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_apcorr_0008.rmap    4.3 K bytes  (126 / 202 files) (562.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:25,825 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_abvegaoffset_0003.rmap    1.3 K bytes  (127 / 202 files) (566.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:25,961 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_nircam_0301.imap    5.6 K bytes  (128 / 202 files) (567.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:26,099 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_wavelengthrange_0027.rmap      929 bytes  (129 / 202 files) (573.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:26,233 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_tsophot_0004.rmap      882 bytes  (130 / 202 files) (574.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:26,368 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_straymask_0009.rmap      987 bytes  (131 / 202 files) (575.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:26,510 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_specwcs_0042.rmap    5.8 K bytes  (132 / 202 files) (576.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:26,655 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_saturation_0015.rmap    1.2 K bytes  (133 / 202 files) (582.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:26,801 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_rscd_0008.rmap    1.0 K bytes  (134 / 202 files) (583.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:26,966 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_resol_0006.rmap      790 bytes  (135 / 202 files) (584.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:27,101 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_reset_0026.rmap    3.9 K bytes  (136 / 202 files) (585.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:27,235 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_regions_0033.rmap    5.2 K bytes  (137 / 202 files) (588.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:27,380 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_readnoise_0023.rmap    1.6 K bytes  (138 / 202 files) (594.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:27,514 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_psfmask_0009.rmap    2.1 K bytes  (139 / 202 files) (595.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:27,646 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_psf_0002.rmap      753 bytes  (140 / 202 files) (597.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:27,782 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_photom_0056.rmap    3.7 K bytes  (141 / 202 files) (598.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:27,928 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pathloss_0005.rmap      866 bytes  (142 / 202 files) (602.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:28,071 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-whitelightstep_0003.rmap      912 bytes  (143 / 202 files) (603.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:28,208 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-tweakregstep_0003.rmap    1.8 K bytes  (144 / 202 files) (604.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:28,348 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-spec3pipeline_0009.rmap      816 bytes  (145 / 202 files) (605.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:28,487 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-spec2pipeline_0012.rmap    1.3 K bytes  (146 / 202 files) (606.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:28,629 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-sourcecatalogstep_0003.rmap    1.9 K bytes  (147 / 202 files) (608.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:28,765 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-resamplestep_0002.rmap      677 bytes  (148 / 202 files) (610.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:28,890 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-resamplespecstep_0002.rmap      706 bytes  (149 / 202 files) (610.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:29,025 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-outlierdetectionstep_0017.rmap    3.4 K bytes  (150 / 202 files) (611.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:29,171 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-jumpstep_0011.rmap    1.6 K bytes  (151 / 202 files) (614.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:29,308 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-image2pipeline_0007.rmap      983 bytes  (152 / 202 files) (616.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:29,443 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-extract1dstep_0003.rmap      807 bytes  (153 / 202 files) (617.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:29,581 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-emicorrstep_0003.rmap      796 bytes  (154 / 202 files) (618.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:29,727 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-detector1pipeline_0010.rmap    1.6 K bytes  (155 / 202 files) (618.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:29,866 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-darkpipeline_0002.rmap      860 bytes  (156 / 202 files) (620.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:30,011 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_pars-darkcurrentstep_0002.rmap      683 bytes  (157 / 202 files) (621.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:30,154 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_mrsxartcorr_0002.rmap    2.2 K bytes  (158 / 202 files) (622.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:30,299 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_mrsptcorr_0005.rmap    2.0 K bytes  (159 / 202 files) (624.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:30,444 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_mask_0023.rmap    3.5 K bytes  (160 / 202 files) (626.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:30,581 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_linearity_0018.rmap    2.8 K bytes  (161 / 202 files) (629.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:30,724 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_ipc_0008.rmap      700 bytes  (162 / 202 files) (632.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:30,858 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_gain_0013.rmap    3.9 K bytes  (163 / 202 files) (633.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:30,992 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_fringefreq_0003.rmap    1.4 K bytes  (164 / 202 files) (637.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:31,134 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_fringe_0019.rmap    3.9 K bytes  (165 / 202 files) (638.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:31,278 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_flat_0065.rmap   15.5 K bytes  (166 / 202 files) (642.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:31,444 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_filteroffset_0025.rmap    2.5 K bytes  (167 / 202 files) (657.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:31,589 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_extract1d_0020.rmap    1.4 K bytes  (168 / 202 files) (660.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:31,728 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_emicorr_0003.rmap      663 bytes  (169 / 202 files) (661.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:31,865 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_drizpars_0002.rmap      511 bytes  (170 / 202 files) (662.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:31,990 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_distortion_0040.rmap    4.9 K bytes  (171 / 202 files) (662.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:32,123 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_dark_0036.rmap    4.4 K bytes  (172 / 202 files) (667.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:32,259 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_cubepar_0017.rmap      800 bytes  (173 / 202 files) (672.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:32,393 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_area_0015.rmap      866 bytes  (174 / 202 files) (673.0 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:32,533 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_apcorr_0019.rmap    5.0 K bytes  (175 / 202 files) (673.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:32,677 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_abvegaoffset_0003.rmap    1.3 K bytes  (176 / 202 files) (678.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:32,804 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_miri_0423.imap    5.8 K bytes  (177 / 202 files) (680.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:32,939 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_trappars_0004.rmap      903 bytes  (178 / 202 files) (685.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:33,080 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_trapdensity_0006.rmap      930 bytes  (179 / 202 files) (686.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:33,237 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_superbias_0017.rmap    3.8 K bytes  (180 / 202 files) (687.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:33,370 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_saturation_0009.rmap      779 bytes  (181 / 202 files) (691.5 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:33,505 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_readnoise_0011.rmap    1.3 K bytes  (182 / 202 files) (692.3 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:33,649 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_photom_0014.rmap    1.1 K bytes  (183 / 202 files) (693.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:33,777 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_persat_0006.rmap      884 bytes  (184 / 202 files) (694.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:33,926 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_pars-tweakregstep_0002.rmap      850 bytes  (185 / 202 files) (695.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:34,073 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_pars-sourcecatalogstep_0001.rmap      636 bytes  (186 / 202 files) (696.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:34,218 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_pars-outlierdetectionstep_0001.rmap      654 bytes  (187 / 202 files) (697.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:34,363 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_pars-image2pipeline_0005.rmap      974 bytes  (188 / 202 files) (697.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:34,498 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_pars-detector1pipeline_0002.rmap    1.0 K bytes  (189 / 202 files) (698.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:34,639 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_pars-darkpipeline_0002.rmap      856 bytes  (190 / 202 files) (699.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:34,776 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_mask_0023.rmap    1.1 K bytes  (191 / 202 files) (700.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:34,927 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_linearity_0015.rmap      925 bytes  (192 / 202 files) (701.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:35,060 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_ipc_0003.rmap      614 bytes  (193 / 202 files) (702.6 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:35,195 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_gain_0010.rmap      890 bytes  (194 / 202 files) (703.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:35,347 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_flat_0009.rmap    1.1 K bytes  (195 / 202 files) (704.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:35,483 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_distortion_0011.rmap    1.2 K bytes  (196 / 202 files) (705.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:35,619 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_dark_0017.rmap    4.3 K bytes  (197 / 202 files) (706.4 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:35,756 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_area_0010.rmap    1.2 K bytes  (198 / 202 files) (710.7 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:35,901 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_apcorr_0004.rmap    4.0 K bytes  (199 / 202 files) (711.9 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:36,039 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_abvegaoffset_0002.rmap    1.3 K bytes  (200 / 202 files) (715.8 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:36,169 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_fgs_0118.imap    5.1 K bytes  (201 / 202 files) (717.1 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:36,316 - CRDS - INFO -  Fetching  /home/runner/crds_cache/mappings/jwst/jwst_1322.pmap         580 bytes  (202 / 202 files) (722.2 K / 722.8 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:36,684 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:36,688 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf    1.7 K bytes  (1 / 1 files) (0 / 1.7 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:36,825 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:36,838 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf    1.2 K bytes  (1 / 1 files) (0 / 1.2 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:36,983 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,001 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,002 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,003 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,004 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,005 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,006 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,007 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,009 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,010 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,011 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,012 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,013 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,014 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,015 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,016 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,017 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,019 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,021 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,021 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,023 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,107 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00001_nrs1_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,130 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,209 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00001_nrs1_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:47:37,213 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits    8.3 G bytes  (1 / 8 files) (0 / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:04,438 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits   16.8 M bytes  (2 / 8 files) (8.3 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:05,074 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits  117.5 M bytes  (3 / 8 files) (8.4 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:07,914 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits   26.2 M bytes  (4 / 8 files) (8.5 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:08,742 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits   33.6 M bytes  (5 / 8 files) (8.5 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:09,693 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits   93.3 M bytes  (6 / 8 files) (8.5 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:11,433 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits   50.4 M bytes  (7 / 8 files) (8.6 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:12,599 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits   78.7 M bytes  (8 / 8 files) (8.7 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,256 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,257 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,257 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,258 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,259 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,259 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,260 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,260 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,261 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,262 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,262 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,263 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,264 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,265 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,516 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,524 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,524 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,526 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,599 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,615 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,798 - CRDS - INFO -  Calibration SW Found: jwst 1.17.1 (/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst-1.17.1.dist-info)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:14,954 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,042 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,059 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,155 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,789 - stpipe.Detector1Pipeline.saturation - INFO - Detected 8733 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,807 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,817 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,908 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,908 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:15,983 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:16,000 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:16,198 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:16,289 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:16,385 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:16,420 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:16,431 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:16,620 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:23,774 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:23,861 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:23,878 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:23,929 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:24,164 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:24,251 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:24,284 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:35,428 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:35,429 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,124 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,312 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,313 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,401 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,439 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,440 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,459 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,501 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,691 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:37,710 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:42,274 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,070 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 99
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,071 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.37924 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,104 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.686859
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,107 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,194 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,194 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,268 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,345 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,345 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,381 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,381 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:44,584 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,303 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7156543731689453
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,377 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,464 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,483 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,489 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,568 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00001_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,588 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,594 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,760 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,760 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,764 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,906 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,907 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:46,907 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,018 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,022 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,034 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,051 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,052 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,053 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,054 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,055 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,056 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,057 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,058 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,059 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,060 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,061 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,062 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,062 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,063 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,064 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,065 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,067 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,068 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,070 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,072 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00001_nrs2_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,160 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00001_nrs2_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,182 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,262 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00001_nrs2_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:50:47,267 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits    8.3 G bytes  (1 / 8 files) (0 / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:44,392 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits   16.8 M bytes  (2 / 8 files) (8.3 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:45,081 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits  117.5 M bytes  (3 / 8 files) (8.4 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:48,269 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits   26.2 M bytes  (4 / 8 files) (8.5 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:49,560 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits   33.6 M bytes  (5 / 8 files) (8.5 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:50,766 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits  186.7 M bytes  (6 / 8 files) (8.5 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:54,100 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits   50.4 M bytes  (7 / 8 files) (8.7 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:55,289 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits   78.7 M bytes  (8 / 8 files) (8.8 G / 8.8 G bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,853 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,854 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,854 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,855 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,856 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,856 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,857 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,857 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,858 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,859 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,859 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,859 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,860 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:56,861 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,224 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,232 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,233 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,234 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,311 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,327 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,846 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,941 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:57,957 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:58,036 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:58,733 - stpipe.Detector1Pipeline.saturation - INFO - Detected 2783 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:58,751 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:58,763 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:58,857 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:58,858 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:58,934 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:58,950 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:59,301 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:59,392 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:59,484 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 72
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:59,520 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 72
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:59,530 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:52:59,749 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:07,534 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:07,636 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:07,652 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:07,708 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:07,935 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:08,026 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:08,059 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:23,389 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:23,391 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,219 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,312 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,313 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,391 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,427 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,427 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,446 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,485 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,702 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:25,720 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:30,197 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,296 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 56
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,296 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 5.59419 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,329 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 5.922858
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,332 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,419 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,420 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,495 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,572 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,573 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,609 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,609 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:31,808 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,540 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.728421688079834
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,600 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,686 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,706 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,712 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,791 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00001_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,810 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,816 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,980 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,981 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:33,984 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,126 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,126 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,127 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,233 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,237 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,249 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,266 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,267 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,268 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,269 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,270 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,271 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,272 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,273 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,274 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,275 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,276 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,277 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,278 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,279 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,280 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,281 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,283 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,284 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,285 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,286 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,374 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00002_nrs1_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00002_nrs1_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,395 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,472 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00002_nrs1_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,477 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,477 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,478 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,478 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,479 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,479 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,480 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,481 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,481 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,481 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,482 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,483 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,483 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,486 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,730 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,738 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,738 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,740 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,816 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,832 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:34,998 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,090 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,106 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,205 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,747 - stpipe.Detector1Pipeline.saturation - INFO - Detected 8663 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,764 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,773 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,866 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,867 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,944 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:35,960 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:36,177 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:36,270 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:36,362 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:36,398 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:36,408 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:36,624 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:43,654 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:43,743 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:43,759 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:43,841 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:44,067 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:44,159 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:53:44,192 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:04,478 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:04,478 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,151 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,243 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,243 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,321 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,357 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,358 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,376 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,417 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,606 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:06,624 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:11,375 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:12,925 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 81
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:12,926 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.31982 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:12,959 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.620928
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:12,961 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:13,050 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:13,050 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:13,126 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:13,203 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:13,204 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:13,240 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:13,241 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:13,444 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,175 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7267563343048096
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,236 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,329 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,349 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,355 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,438 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00002_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,458 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,464 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,630 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,631 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,635 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,777 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,778 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,778 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,891 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,894 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,906 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,923 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,924 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,925 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,926 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,927 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,928 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,929 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,930 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,931 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,932 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,933 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,933 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,934 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,935 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,936 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,937 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,939 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,940 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,941 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:15,942 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00002_nrs2_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,032 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00002_nrs2_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,054 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,135 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00002_nrs2_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,140 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,140 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,141 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,141 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,142 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,142 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,143 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,143 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,144 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,144 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,145 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,146 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,146 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,148 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,398 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,406 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,407 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,408 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,484 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,500 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,665 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,756 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,772 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:16,868 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,429 - stpipe.Detector1Pipeline.saturation - INFO - Detected 2660 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,446 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,457 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,551 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,551 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,629 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,645 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,855 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:17,948 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:18,040 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 60
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:18,077 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 60
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:18,088 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:18,383 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:25,306 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:25,398 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:25,415 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:25,507 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:25,738 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:25,830 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:25,862 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:39,748 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:39,748 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,458 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,551 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,552 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,632 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,668 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,669 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,688 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,726 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,936 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:41,955 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:46,295 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,647 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 78
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,648 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 5.71099 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,681 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.033326
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,684 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,774 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,775 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,857 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,934 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,935 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,969 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:47,969 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:48,170 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:49,897 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7228131294250488
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:49,957 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,047 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,067 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,074 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,163 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00002_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,183 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,189 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,352 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,353 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,356 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,498 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,499 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,499 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,609 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,612 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,624 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,642 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,643 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,644 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,645 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,646 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,647 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,648 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,649 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,650 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,651 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,652 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,653 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,654 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,655 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,656 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,657 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,659 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,660 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,661 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,662 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00003_nrs1_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,753 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00003_nrs1_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,776 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,855 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00003_nrs1_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,859 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,859 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,860 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,860 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,861 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,861 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,862 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,862 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,863 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,863 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,864 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,864 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,864 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:50,866 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,116 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,123 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,124 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,125 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,213 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,229 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,397 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,489 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,506 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:51,604 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,142 - stpipe.Detector1Pipeline.saturation - INFO - Detected 8831 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,159 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,167 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,261 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,262 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,340 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,357 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,570 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,663 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,752 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,788 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:52,798 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:54:53,012 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:00,065 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:00,156 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:00,172 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:00,253 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:00,478 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:00,570 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:00,603 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:20,920 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:20,921 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:22,543 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:22,638 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:22,639 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:22,720 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:22,756 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:22,757 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:22,776 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:22,815 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:23,004 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:23,023 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:27,761 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:29,775 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 106
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:29,776 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.77103 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:29,808 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 7.071679
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:29,811 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:29,903 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:29,903 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:29,984 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:30,062 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:30,063 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:30,097 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:30,097 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:30,300 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,018 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.714646577835083
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,080 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,172 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,193 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,200 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,293 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00003_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,313 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,319 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,468 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,468 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,470 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,609 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,609 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,610 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,728 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,731 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,743 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,761 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,761 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,762 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,764 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,764 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,765 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,766 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,767 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,768 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,769 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,770 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,771 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,772 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,773 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,774 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,775 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,777 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,778 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,779 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,781 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00003_nrs2_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,871 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00003_nrs2_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,893 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,982 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00003_nrs2_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,986 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,986 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,987 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,987 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,988 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,988 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,989 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,990 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,990 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,991 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,992 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,992 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,992 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:32,993 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,242 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,251 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,251 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,252 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,335 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,351 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,512 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,605 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,621 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:33,698 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,271 - stpipe.Detector1Pipeline.saturation - INFO - Detected 2716 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,289 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,301 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,394 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,395 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,477 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,494 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,710 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,804 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,881 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 66
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,918 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 66
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:34,928 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:35,237 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:43,284 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:43,381 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:43,397 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:43,478 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:43,699 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:43,791 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:43,826 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:57,156 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:57,157 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:58,890 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:58,982 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:58,983 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:59,065 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:59,100 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:59,101 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:59,120 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:59,156 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:59,356 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:55:59,375 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:03,961 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,371 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 81
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,372 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.01532 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,406 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.324463
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,408 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,502 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,503 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,585 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,699 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,700 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,734 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,734 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:05,920 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:07,610 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.6854722499847412
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:07,672 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:07,762 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:07,782 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:07,788 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:07,872 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00003_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:07,891 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:07,898 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,047 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,047 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,049 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,189 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,190 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,190 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,291 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,294 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,306 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,324 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,325 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,326 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,327 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,328 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,329 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,331 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,332 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,333 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,334 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,335 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,336 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,337 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,338 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,339 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,341 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,342 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,343 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,345 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,345 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,438 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00004_nrs1_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00004_nrs1_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,461 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,530 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00004_nrs1_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,534 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,534 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,535 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,536 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,536 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,537 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,537 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,538 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,538 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,539 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,539 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,539 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,540 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,541 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,768 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,776 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,777 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,778 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,861 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:08,878 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,033 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,126 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,143 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,221 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,774 - stpipe.Detector1Pipeline.saturation - INFO - Detected 8702 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,791 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,800 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,894 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,895 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,978 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:09,995 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:10,205 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:10,298 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:10,371 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 68
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:10,407 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 68
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:10,417 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:10,621 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:17,676 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:17,770 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:17,786 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:17,868 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:18,079 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:18,173 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:18,209 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:38,500 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:38,500 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,032 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,125 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,126 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,210 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,245 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,246 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,264 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,303 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,482 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:40,491 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:45,042 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,140 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 111
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,140 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.65766 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,175 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.949336
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,177 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,271 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,271 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,354 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,469 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,470 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,504 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,504 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:47,695 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,420 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7204580307006836
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,481 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,573 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,592 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,599 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,694 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00004_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,713 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,719 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,866 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,867 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:49,868 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,006 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,006 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,007 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,106 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,110 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,121 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,139 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,140 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,141 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,142 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,143 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,143 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,144 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,145 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,146 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,147 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,148 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,149 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,150 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,151 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,152 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,153 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,154 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,156 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,157 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,157 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00004_nrs2_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,251 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00004_nrs2_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,275 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,347 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00004_nrs2_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,351 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,351 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,352 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,353 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,353 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,353 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,354 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,355 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,355 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,356 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,357 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,357 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,358 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,359 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,590 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,598 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,599 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,600 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,687 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,703 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,854 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,949 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:50,965 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,042 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,565 - stpipe.Detector1Pipeline.saturation - INFO - Detected 3065 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,577 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,586 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,682 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,682 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,766 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,782 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:51,978 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:52,074 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:52,146 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:52,183 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:52,193 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:56:52,482 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:00,181 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:00,273 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:00,290 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:00,370 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:00,582 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:00,676 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:00,712 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:14,428 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:14,428 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,112 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,205 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,206 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,288 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,324 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,324 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,369 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,405 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,603 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:16,612 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:21,385 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:22,878 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 83
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:22,879 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.27468 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:22,912 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.607597
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:22,914 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:23,007 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:23,008 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:23,089 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:23,230 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:23,231 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:23,265 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:23,265 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:23,444 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,140 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.692077875137329
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,201 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,291 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,311 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,318 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,401 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00004_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,421 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,427 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,576 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,576 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,578 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,716 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,717 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,718 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,819 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,823 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,834 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,852 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,852 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,854 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,855 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,855 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,856 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,857 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,858 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,859 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,860 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,861 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,862 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,863 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,864 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,865 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,866 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,868 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,869 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,870 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,871 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,960 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00005_nrs1_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00005_nrs1_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:25,983 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,054 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00005_nrs1_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,058 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,058 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,059 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,060 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,060 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,061 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,061 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,062 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,063 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,063 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,063 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,064 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,064 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,065 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,293 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,301 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,301 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,303 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,384 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,400 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,553 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,649 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,665 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:26,742 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,292 - stpipe.Detector1Pipeline.saturation - INFO - Detected 8699 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,309 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,318 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,414 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,415 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,497 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,514 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,722 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,818 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,890 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 68
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,926 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 68
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:27,936 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:28,140 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:35,008 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:35,101 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:35,118 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:35,199 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:35,414 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:35,506 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:35,544 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:55,848 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:55,849 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,414 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,510 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,511 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,597 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,634 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,634 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,652 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,690 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,870 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:57:57,879 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:02,416 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,293 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 100
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,294 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.42325 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,328 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.714330
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,331 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,423 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,423 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,506 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,620 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,620 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,655 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,655 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:04,844 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:06,577 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7285995483398438
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:06,637 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:06,728 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:06,748 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:06,755 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:06,849 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00005_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:06,868 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:06,874 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,023 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,023 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,026 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,165 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,165 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,166 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,265 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,269 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,281 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,298 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,299 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,300 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,301 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,303 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,304 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,305 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,306 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,307 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,308 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,309 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,310 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,311 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,312 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,314 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,314 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,316 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,318 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,320 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,321 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00005_nrs2_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,415 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00005_nrs2_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,437 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,507 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00005_nrs2_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,511 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,511 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,512 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,512 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,513 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,513 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,514 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,514 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,515 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,515 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,516 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,517 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,517 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,518 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,746 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,754 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,755 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,756 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,838 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:07,855 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,004 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,097 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,114 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,191 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,709 - stpipe.Detector1Pipeline.saturation - INFO - Detected 2734 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,721 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,730 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,827 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,827 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,910 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:08,927 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:09,121 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:09,217 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:09,288 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 76
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:09,325 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 76
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:09,335 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:09,630 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:17,113 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:17,207 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:17,224 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:17,305 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:17,520 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:17,616 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:17,652 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:31,077 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:31,078 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:32,781 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:32,877 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:32,877 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:32,961 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:32,997 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:32,998 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:33,043 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:33,081 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:33,280 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:33,290 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:37,557 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,003 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 84
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,004 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 5.72326 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,041 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.063090
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,043 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,142 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,143 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,232 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,375 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,376 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,410 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,411 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:39,596 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,301 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7011516094207764
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,363 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,459 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,480 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,486 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,576 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00005_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,596 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,603 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,756 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,756 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,758 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,900 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,900 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:41,901 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,004 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,008 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,020 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,038 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,039 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,040 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,041 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,042 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,043 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,044 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,045 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,046 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,048 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,049 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,050 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,051 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,052 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,053 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,054 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,056 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,057 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,058 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,059 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00006_nrs1_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,157 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00006_nrs1_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,181 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,251 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00006_nrs1_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,255 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,256 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,256 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,257 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,257 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,258 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,258 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,259 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,259 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,259 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,260 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,261 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,261 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,262 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,497 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,505 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,506 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,507 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,593 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,609 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,768 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,868 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,885 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:42,965 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:43,530 - stpipe.Detector1Pipeline.saturation - INFO - Detected 8586 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:43,548 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:43,558 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:43,656 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:43,656 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:43,741 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:43,758 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:43,976 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:44,076 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:44,148 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 76
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:44,184 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 76
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:44,195 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:44,404 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:51,323 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:51,423 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:51,440 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:51,521 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:51,737 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:51,837 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:58:51,875 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:12,178 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:12,179 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:13,772 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:13,870 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:13,871 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:13,957 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:13,993 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:13,994 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:14,012 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:14,050 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:14,231 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:14,240 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:18,813 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,245 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 68
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,246 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.01418 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,280 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.306372
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,282 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,375 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,376 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,459 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,572 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,573 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,607 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,608 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:20,794 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,526 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7278478145599365
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,587 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,680 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,699 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,706 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,789 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00006_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,809 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,815 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,963 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,964 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:22,966 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,106 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,107 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,107 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,207 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,210 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,222 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,240 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,240 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,241 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,242 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,243 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,244 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,245 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,246 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,247 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,248 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,249 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,250 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,251 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,253 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,254 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,255 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,258 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,259 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,260 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,261 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00006_nrs2_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,353 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00006_nrs2_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,375 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,444 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00006_nrs2_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,449 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,449 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,450 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,450 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,451 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,451 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,452 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,452 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,452 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,453 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,453 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,455 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,455 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,456 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,685 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,693 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,693 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,694 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,775 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,791 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:23,942 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,039 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,056 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,132 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,650 - stpipe.Detector1Pipeline.saturation - INFO - Detected 2793 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,662 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,671 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,767 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,767 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,852 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:24,869 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:25,063 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:25,155 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:25,230 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 66
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:25,266 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 66
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:25,276 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:25,587 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:33,006 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:33,101 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:33,118 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:33,198 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:33,411 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:33,507 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:33,543 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:46,868 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:46,868 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,497 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,591 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,592 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,675 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,709 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,710 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,755 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,790 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,988 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:48,997 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:53,433 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,029 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 94
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,030 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.04117 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,062 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.371719
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,064 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,157 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,158 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,238 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,378 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,379 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,413 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,413 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:55,591 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,330 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7353527545928955
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,391 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,483 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,503 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,509 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,593 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00006_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,613 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,619 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,768 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,769 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,771 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,911 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,912 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:57,912 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,014 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,017 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,029 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,046 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,047 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,049 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,050 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,051 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,052 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,053 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,054 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,055 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,057 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,057 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,059 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,060 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,061 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,062 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,063 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,065 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,068 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,069 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,070 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,163 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00007_nrs1_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00007_nrs1_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,185 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,254 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00007_nrs1_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,258 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,259 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,259 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,260 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,261 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,261 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,262 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,262 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,263 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,263 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,264 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,264 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,265 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,265 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,495 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,504 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,504 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,506 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,590 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,606 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,759 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,860 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,879 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:58,956 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:59,501 - stpipe.Detector1Pipeline.saturation - INFO - Detected 8745 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:59,518 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:59,527 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:59,624 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:59,625 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:59,706 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:59,723 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 21:59:59,929 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:00,024 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:00,096 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 62
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:00,131 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 62
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:00,142 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:00,343 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:07,173 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:07,265 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:07,283 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:07,362 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:07,572 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:07,665 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:07,702 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:28,019 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:28,020 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:29,566 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:29,660 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:29,661 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:29,746 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:29,781 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:29,782 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:29,800 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:29,837 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:30,015 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:30,023 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:34,594 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,388 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 94
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,388 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.37308 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,421 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.658989
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,423 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,516 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,517 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,601 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,715 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,715 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,750 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,750 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:36,936 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:38,693 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7533135414123535
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:38,754 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:38,846 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:38,866 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:38,872 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:38,957 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00007_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:38,976 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:38,983 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,132 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,132 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,135 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,273 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,273 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,274 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,372 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,376 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,388 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,406 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,407 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,408 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,409 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,410 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,411 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,412 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,413 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,414 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,415 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,416 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,417 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,418 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,419 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,420 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,421 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,424 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,427 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,428 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,429 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,523 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00007_nrs2_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00007_nrs2_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,545 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,615 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00007_nrs2_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,619 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,619 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,620 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,620 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,621 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,621 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,622 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,623 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,623 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,623 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,624 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,625 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,625 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,626 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,856 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,864 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,864 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,865 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,948 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:39,965 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,115 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,212 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,229 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,305 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,821 - stpipe.Detector1Pipeline.saturation - INFO - Detected 2679 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,833 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,841 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,938 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:40,938 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:41,021 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:41,039 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:41,231 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:41,326 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:41,398 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 60
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:41,434 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 60
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:41,445 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:41,737 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:49,152 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:49,250 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:49,267 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:49,349 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:49,563 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:49,659 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:00:49,695 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:03,123 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:03,124 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:04,871 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:04,968 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:04,969 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:05,055 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:05,092 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:05,093 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:05,138 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:05,175 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:05,374 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:05,383 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:09,810 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:10,829 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 62
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:10,829 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 5.45469 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:10,862 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 5.790250
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:10,865 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:10,965 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:10,966 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:11,047 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:11,189 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:11,189 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:11,223 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:11,224 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:11,403 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,107 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7005281448364258
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,168 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,262 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,282 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,288 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,374 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00007_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,393 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,399 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,550 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,551 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,553 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,694 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,694 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,695 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,796 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,799 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,811 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,828 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,829 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,830 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,831 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,832 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,834 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,835 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,836 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,837 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,838 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,839 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,839 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,840 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,841 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,842 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,843 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,845 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,847 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,848 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,849 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00008_nrs1_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,944 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00008_nrs1_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:13,967 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,036 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00008_nrs1_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,040 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,041 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,042 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,042 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,043 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,043 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,043 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,044 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,044 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,045 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,045 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,045 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,046 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,047 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,277 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,284 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,285 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,286 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,369 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,385 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0048.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,542 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,641 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,657 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0031.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:14,735 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,292 - stpipe.Detector1Pipeline.saturation - INFO - Detected 9148 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,310 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,319 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,420 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,421 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,506 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,524 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0254.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,732 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,831 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,904 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 70
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,940 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 70
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:15,950 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0019.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:16,155 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:23,043 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:23,142 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:23,158 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0022.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:23,240 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:23,452 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:23,547 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:23,584 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0351.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:43,879 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:43,881 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:45,528 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:45,659 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:45,660 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:45,784 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:45,824 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:45,825 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:45,848 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:45,893 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:46,078 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:46,088 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:50,917 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,027 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 98
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,028 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.94931 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,062 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 7.260220
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,064 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,169 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,170 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,272 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,390 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0038.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,390 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0023.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,425 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,426 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:53,622 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,355 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7285611629486084
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,419 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,543 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,565 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,573 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,696 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00008_nrs1_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,717 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,724 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,881 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,881 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:55,883 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,028 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,029 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,030 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,133 - CRDS - ERROR -  Error determining best reference for &#39;pars-darkcurrentstep&#39;  =   No match found.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,140 - stpipe - INFO - PARS-JUMPSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-jumpstep_0003.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,152 - stpipe - INFO - PARS-DETECTOR1PIPELINE parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-detector1pipeline_0004.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,170 - stpipe.Detector1Pipeline - INFO - Detector1Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,171 - stpipe.Detector1Pipeline.group_scale - INFO - GroupScaleStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,172 - stpipe.Detector1Pipeline.dq_init - INFO - DQInitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,173 - stpipe.Detector1Pipeline.emicorr - INFO - EmiCorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,175 - stpipe.Detector1Pipeline.saturation - INFO - SaturationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,176 - stpipe.Detector1Pipeline.ipc - INFO - IPCStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,177 - stpipe.Detector1Pipeline.superbias - INFO - SuperBiasStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,178 - stpipe.Detector1Pipeline.refpix - INFO - RefPixStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,179 - stpipe.Detector1Pipeline.rscd - INFO - RscdStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,181 - stpipe.Detector1Pipeline.firstframe - INFO - FirstFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,184 - stpipe.Detector1Pipeline.lastframe - INFO - LastFrameStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,185 - stpipe.Detector1Pipeline.linearity - INFO - LinearityStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,186 - stpipe.Detector1Pipeline.dark_current - INFO - DarkCurrentStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,187 - stpipe.Detector1Pipeline.reset - INFO - ResetStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,188 - stpipe.Detector1Pipeline.persistence - INFO - PersistenceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,190 - stpipe.Detector1Pipeline.charge_migration - INFO - ChargeMigrationStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,192 - stpipe.Detector1Pipeline.jump - INFO - JumpStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,193 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - CleanFlickerNoiseStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,194 - stpipe.Detector1Pipeline.ramp_fit - INFO - RampFitStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,195 - stpipe.Detector1Pipeline.gain_scale - INFO - GainScaleStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 1 Corrections &amp; Calibrations to: jw02729005001_02101_00008_nrs2_uncal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,316 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/uncal/jw02729005001_02101_00008_nrs2_uncal.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,339 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_calibrated_ramp: False
  steps:
    group_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dq_init:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    emicorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_intermediate_results: False
      user_supplied_reffile: None
      nints_to_phase: None
      nbins: None
      scale_reference: True
      onthefly_corr_freq: None
      use_n_cycles: 3
    saturation:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      n_pix_grow_sat: 1
      use_readpatt: True
    ipc:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    superbias:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    refpix:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      odd_even_columns: True
      use_side_ref_pixels: True
      side_smoothing_length: 11
      side_gain: 1.0
      odd_even_rows: True
      ovr_corr_mitigation_ftr: 3.0
      preserve_irs2_refpix: False
      irs2_mean_subtraction: False
      refpix_algorithm: median
      sigreject: 4.0
      gaussmooth: 1.0
      halfwidth: 30
    rscd:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      type: baseline
    firstframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bright_use_group1: False
    lastframe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    linearity:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    dark_current:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      dark_output: None
      average_dark_current: None
    reset:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    persistence:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      input_trapsfilled: &#39;&#39;
      flag_pers_cutoff: 40.0
      save_persistence: False
      save_trapsfilled: True
      modify_input: False
    charge_migration:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      signal_threshold: 25000.0
    jump:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      rejection_threshold: 4.0
      three_group_rejection_threshold: 6.0
      four_group_rejection_threshold: 5.0
      maximum_cores: half
      flag_4_neighbors: True
      max_jump_to_flag_neighbors: 1000
      min_jump_to_flag_neighbors: 30
      after_jump_flag_dn1: 0
      after_jump_flag_time1: 0
      after_jump_flag_dn2: 0
      after_jump_flag_time2: 0
      expand_large_events: True
      min_sat_area: 1
      min_jump_area: 5
      expand_factor: 3
      use_ellipses: False
      sat_required_snowball: True
      min_sat_radius_extend: 2.5
      sat_expand: 2
      edge_size: 25
      mask_snowball_core_next_int: True
      snowball_time_masked_next_int: 4000
      find_showers: False
      max_shower_amplitude: 4.0
      extend_snr_threshold: 0.0
      extend_min_area: 0
      extend_inner_radius: 0
      extend_outer_radius: 0.0
      extend_ellipse_expand_ratio: 0.0
      time_masked_after_shower: 0
      min_diffs_single_pass: 10
      max_extended_radius: 200
      minimum_groups: 3
      minimum_sigclip_groups: 100
      only_use_ints: True
    clean_flicker_noise:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: median
      fit_by_channel: False
      background_method: median
      background_box_size: None
      mask_science_regions: False
      n_sigma: 2.0
      fit_histogram: False
      single_mask: True
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    ramp_fit:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: OLS_C
      int_name: &#39;&#39;
      save_opt: False
      opt_name: &#39;&#39;
      suppress_one_group: True
      maximum_cores: &#39;1&#39;
    gain_scale:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,413 - stpipe.Detector1Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00008_nrs2_uncal.fits&#39; reftypes = [&#39;dark&#39;, &#39;gain&#39;, &#39;linearity&#39;, &#39;mask&#39;, &#39;persat&#39;, &#39;readnoise&#39;, &#39;refpix&#39;, &#39;reset&#39;, &#39;rscd&#39;, &#39;saturation&#39;, &#39;superbias&#39;, &#39;trapdensity&#39;, &#39;trappars&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,418 - stpipe.Detector1Pipeline - INFO - Prefetch for DARK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,418 - stpipe.Detector1Pipeline - INFO - Prefetch for GAIN reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,419 - stpipe.Detector1Pipeline - INFO - Prefetch for LINEARITY reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,419 - stpipe.Detector1Pipeline - INFO - Prefetch for MASK reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,420 - stpipe.Detector1Pipeline - INFO - Prefetch for PERSAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,420 - stpipe.Detector1Pipeline - INFO - Prefetch for READNOISE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,421 - stpipe.Detector1Pipeline - INFO - Prefetch for REFPIX reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,422 - stpipe.Detector1Pipeline - INFO - Prefetch for RESET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,422 - stpipe.Detector1Pipeline - INFO - Prefetch for RSCD reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,423 - stpipe.Detector1Pipeline - INFO - Prefetch for SATURATION reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,424 - stpipe.Detector1Pipeline - INFO - Prefetch for SUPERBIAS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,425 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPDENSITY reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,425 - stpipe.Detector1Pipeline - INFO - Prefetch for TRAPPARS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,426 - stpipe.Detector1Pipeline - INFO - Starting calwebb_detector1 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,697 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,706 - stpipe.Detector1Pipeline.group_scale - INFO - NFRAMES and FRMDIVSR are equal; correction not needed
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,706 - stpipe.Detector1Pipeline.group_scale - INFO - Step will be skipped
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,708 - stpipe.Detector1Pipeline.group_scale - INFO - Step group_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,834 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:56,852 - stpipe.Detector1Pipeline.dq_init - INFO - Using MASK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_mask_0050.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,015 - stpipe.Detector1Pipeline.dq_init - INFO - Step dq_init done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,130 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,147 - stpipe.Detector1Pipeline.saturation - INFO - Using SATURATION reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_saturation_0030.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,228 - stpipe.Detector1Pipeline.saturation - INFO - Using read_pattern with nframes 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,766 - stpipe.Detector1Pipeline.saturation - INFO - Detected 2893 saturated pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,780 - stpipe.Detector1Pipeline.saturation - INFO - Detected 0 A/D floor pixels
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,790 - stpipe.Detector1Pipeline.saturation - INFO - Step saturation done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,921 - stpipe.Detector1Pipeline.ipc - INFO - Step ipc running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:57,922 - stpipe.Detector1Pipeline.ipc - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:58,043 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:58,066 - stpipe.Detector1Pipeline.superbias - INFO - Using SUPERBIAS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_superbias_0256.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:58,279 - stpipe.Detector1Pipeline.superbias - INFO - Step superbias done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:58,404 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:58,481 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels flagged: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:58,519 - stpipe.Detector1Pipeline.refpix - INFO - Total bad reference pixels replaced: 64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:58,530 - stpipe.Detector1Pipeline.refpix - INFO - Using refpix reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_refpix_0018.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:01:58,857 - stpipe.Detector1Pipeline.refpix - INFO - Working on integration 1 out of 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:06,925 - stpipe.Detector1Pipeline.refpix - INFO - Step refpix done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:07,035 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:07,052 - stpipe.Detector1Pipeline.linearity - INFO - Using Linearity reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_linearity_0025.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:07,135 - stpipe.Detector1Pipeline.linearity - WARNING - Keyword BAD_LIN_CORR does not correspond to an existing DQ mnemonic, so will be ignored
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:07,360 - stpipe.Detector1Pipeline.linearity - INFO - Step linearity done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:07,478 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:07,516 - stpipe.Detector1Pipeline.dark_current - INFO - Using DARK reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dark_0350.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:20,984 - stpipe.Detector1Pipeline.dark_current - INFO - Science data nints=1, ngroups=5, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:20,985 - stpipe.Detector1Pipeline.dark_current - INFO - Dark data nints=1, ngroups=245, nframes=1, groupgap=0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:22,661 - stpipe.Detector1Pipeline.dark_current - INFO - Step dark_current done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:22,776 - stpipe.Detector1Pipeline.charge_migration - INFO - Step charge_migration running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:22,777 - stpipe.Detector1Pipeline.charge_migration - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:22,873 - stpipe.Detector1Pipeline.jump - INFO - Step jump running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:22,912 - stpipe.Detector1Pipeline.jump - INFO - CR rejection threshold = 4 sigma
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:22,913 - stpipe.Detector1Pipeline.jump - INFO - Maximum cores to use = half
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:22,958 - stpipe.Detector1Pipeline.jump - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:22,995 - stpipe.Detector1Pipeline.jump - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:23,193 - stpipe.Detector1Pipeline.jump - INFO - Executing two-point difference method
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:23,203 - stpipe.Detector1Pipeline.jump - INFO - Creating 2 processes for jump detection 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:27,599 - stpipe.Detector1Pipeline.jump - INFO - Flagging Snowballs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,441 - stpipe.Detector1Pipeline.jump - INFO - Total snowballs = 103
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,441 - stpipe.Detector1Pipeline.jump - INFO - Total elapsed time = 6.24729 sec
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,475 - stpipe.Detector1Pipeline.jump - INFO - The execution time in seconds: 6.584463
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,478 - stpipe.Detector1Pipeline.jump - INFO - Step jump done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,602 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step clean_flicker_noise running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,603 - stpipe.Detector1Pipeline.clean_flicker_noise - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,722 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit running with args (&lt;RampModel(1, 5, 3200, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,872 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using READNOISE reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_readnoise_0042.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,872 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using GAIN reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_gain_0020.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,908 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using algorithm = OLS_C
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:29,909 - stpipe.Detector1Pipeline.ramp_fit - INFO - Using weighting = optimal
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:30,103 - stpipe.Detector1Pipeline.ramp_fit - INFO - Number of multiprocessing slices: 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:31,829 - stpipe.Detector1Pipeline.ramp_fit - INFO - Ramp Fitting C Time: 1.7216415405273438
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:31,893 - stpipe.Detector1Pipeline.ramp_fit - INFO - Step ramp_fit done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,010 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,032 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,039 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,169 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale running with args (&lt;CubeModel(1, 2048, 2048) from jw02729005001_02101_00008_nrs2_uncal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,190 - stpipe.Detector1Pipeline.gain_scale - INFO - Rescaling by 1.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,196 - stpipe.Detector1Pipeline.gain_scale - INFO - Step gain_scale done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,348 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rateints.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,348 - stpipe.Detector1Pipeline - INFO - ... ending calwebb_detector1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,350 - stpipe.Detector1Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,494 - stpipe.Detector1Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,494 - stpipe.Detector1Pipeline - INFO - Step Detector1Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,495 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Stage 1 has been completed for SCI data! 
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="calibrating-background-files">
<h4>5.2.2 Calibrating Background Files<a class="headerlink" href="#calibrating-background-files" title="Permalink to this heading">#</a></h4>
<p>Identify the input background files and execute the <code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code> pipeline using the <code class="docutils literal notranslate"><span class="pre">call</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run Stage 1 pipeline on any background using the custom det1dict dictionary.</span>

<span class="k">if</span> <span class="n">dodet1bg</span><span class="p">:</span>
    <span class="c1"># ------------------------Background UNCAL files-------------------------</span>
    <span class="k">for</span> <span class="n">uncal_file</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">uncal_bgdir</span> <span class="o">+</span> <span class="s1">&#39;*uncal.fits&#39;</span><span class="p">)):</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applying Stage 1 Corrections &amp; Calibrations to: &quot;</span>
              <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">uncal_file</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">det1bg_result</span> <span class="o">=</span> <span class="n">Detector1Pipeline</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">uncal_file</span><span class="p">,</span>
                                               <span class="n">save_results</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                               <span class="n">steps</span><span class="o">=</span><span class="n">det1dict</span><span class="p">,</span>
                                               <span class="n">output_dir</span><span class="o">=</span><span class="n">det1_bgdir</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stage 1 has been completed for BKG data! </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Skipping Detector1 processing for BKG data.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Skipping Detector1 processing for BKG data.
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print out the time benchmark.</span>
<span class="n">time2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime so far: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time2</span><span class="o">-</span><span class="n">time0</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime for Stage 1: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time2</span><span class="o">-</span><span class="n">time_det1</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Runtime so far: 16.0000 min
Runtime for Stage 1: 15.5000 min
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Final list of RATE[INTS] files ready for Stage 2 processing.</span>
<span class="n">rate_sci</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">det1_dir</span> <span class="o">+</span> <span class="s1">&#39;*_rate.fits&#39;</span><span class="p">))</span>
<span class="n">rateints_sci</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">det1_dir</span> <span class="o">+</span> <span class="s1">&#39;*_rateints.fits&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SCIENCE | RATE[INTS] Files:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">rate_sci</span> <span class="o">+</span> <span class="n">rateints_sci</span><span class="p">))</span>

<span class="n">rate_bg</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">det1_bgdir</span> <span class="o">+</span> <span class="s1">&#39;*_rate.fits&#39;</span><span class="p">))</span>
<span class="n">rateints_bg</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">det1_bgdir</span> <span class="o">+</span> <span class="s1">&#39;*_rateints.fits&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BACKGROUND | RATE[INTS] Files:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">rate_bg</span> <span class="o">+</span> <span class="n">rateints_bg</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SCIENCE | RATE[INTS] Files:
--------------------
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rateints.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rateints.fits
BACKGROUND | RATE[INTS] Files:
--------------------
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="stage-2-spec2pipeline-calwebb-spec2">
<h2>6. Stage 2: <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code>)<a class="headerlink" href="#stage-2-spec2pipeline-calwebb-spec2" title="Permalink to this heading">#</a></h2>
<p>In this section, we process our countrate (slope) image products from Stage 1 (<code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code>) through the Spec2 (<code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code>) pipeline to create Stage 2 <a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/data_products/science_products.html">data products</a>.</p>
<ul class="simple">
<li><p><strong>Input</strong>: A single countrate (slope) image (<code class="docutils literal notranslate"><span class="pre">_rate[ints].fits</span></code>) or an association file listing multiple inputs.</p></li>
<li><p><strong>Output</strong>: Calibrated products (rectified and unrectified) and 1D spectra.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">_cal[ints].fits</span></code>: Calibrated 2D (unrectified) spectra (ncols x nrows).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_s3d.fits</span></code>: Resampled 3D IFU cube (ncols x nrows x nwaves).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_x1d[ints].fits</span></code>: Extracted 1D spectroscopic data (wavelength vs. flux).</p></li>
</ul>
</li>
</ul>
<p>In Stage 2, each exposure (or association) and detector produces a single file, with multiple extensions corresponding to each source.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> applies additional instrumental corrections and calibrations (e.g., slit loss, path loss, etc.,) to countrate products that result in a fully calibrated individual exposure (per nod/dither position). The <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> also converts countrate products from units of DN/s to flux (Jy) for point sources and surface brightness (MJy/sr) for extended sources.</p>
<div class="alert alert-info">
Note there has been a bug in the `cube_build` step that caused the point source flux to not be conserved when using different spatial sampling. A fix has been implemented as of release DMS build 9.3/CAL_VER 1.10.2. In order to enable the correct functionality, the units of the `_cal.fits` files and cubes will now be in surface brightness, and only the 1D extracted spectra will be in units of Jy.
</div>
<hr class="docutils" />
<section id="configure-spec2pipeline">
<h3>6.1 Configure <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code><a class="headerlink" href="#configure-spec2pipeline" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> has the following steps available for NIRSpec IFU:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assign_wcs</span></code>: Assigns wavelength solution for spectra.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">msaflagopen</span></code>: Flags pixels in NIRSpec exposures affected by MSA shutters stuck in the open position.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nsclean</span></code>: Cleans 1/f noise.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imprint</span></code>: Removes patterns caused by the MSA structure in NIRSpec MOS and IFU exposures.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bkg_subtract</span></code>: Performs image subtraction for background removal.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">srctype</span></code>: Determines whether a spectroscopic source should be classified as a point or extended object.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flat_field</span></code>: Applies flat-field corrections to the input science dataset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pathloss</span></code>: Calculates and applies corrections for signal loss in spectroscopic data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">photom</span></code>: Applies photometric calibrations to convert data from countrate to surface brightness or flux density.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pixel_replace</span></code>: Interpolates and estimates flux values for pixels flagged as DO_NOT_USE in 2D extracted spectra.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cube_build</span></code>: Produces 3D spectral cubes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extract_1d</span></code>: Extracts a 1D signal from 2D or 3D datasets.</p></li>
</ul>
<p>For more information about each step and a full list of step arguments, please refer to the official documentation: <a class="reference external" href="https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline-overview/stages-of-jwst-data-processing/calwebb_spec2">JDox</a> •
<a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_spec2.html">ReadtheDocs</a></p>
<p>Below, we set up a dictionary that defines how the <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> should be configured for IFU data.</p>
<div class="alert alert-warning">
<p>If pixel-to-pixel background subtraction was chosen above, it will be applied during this stage.</br>
To override specific steps and reference files, use the examples below.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up a dictionary to define how the Spec2 pipeline should be configured.</span>

<span class="c1"># -------------------------Boilerplate dictionary setup-------------------------</span>
<span class="n">spec2dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;assign_wcs&#39;</span><span class="p">],</span> <span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;msa_flagging&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;nsclean&#39;</span><span class="p">],</span> <span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;imprint_subtract&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;bkg_subtract&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;srctype&#39;</span><span class="p">],</span> <span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;wavecorr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;flat_field&#39;</span><span class="p">],</span> <span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;pathloss&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;photom&#39;</span><span class="p">],</span> <span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;pixel_replace&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;cube_build&#39;</span><span class="p">],</span> <span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;extract_1d&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>

<span class="c1"># ---------------------------Override reference files---------------------------</span>

<span class="c1"># Overrides for various reference files (example).</span>
<span class="c1"># Files should be in the base local directory or provide full path.</span>
<span class="c1">#spec2dict[&#39;extract_1d&#39;][&#39;override_extract1d&#39;] = &#39;myfile.json&#39;</span>

<span class="c1"># -----------------------------Set step parameters------------------------------</span>

<span class="c1"># Overrides for whether or not certain steps should be skipped (example).</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;bkg_subtract&#39;</span><span class="p">][</span><span class="s1">&#39;skip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">pixel_bg</span>
<span class="n">spec2dict</span><span class="p">[</span><span class="s1">&#39;imprint_subtract&#39;</span><span class="p">][</span><span class="s1">&#39;skip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># Run pixel replacement code to extrapolate values for otherwise bad pixels</span>
<span class="c1"># This can help mitigate 5-10% negative dips in spectra of bright sources.</span>
<span class="c1"># Use the &#39;fit_profile&#39; algorithm.</span>
<span class="c1">#spec2dict[&#39;pixel_replace&#39;][&#39;skip&#39;] = False</span>
<span class="c1">#spec2dict[&#39;pixel_replace&#39;][&#39;n_adjacent_cols&#39;] = 5</span>
<span class="c1">#spec2dict[&#39;pixel_replace&#39;][&#39;algorithm&#39;] = &#39;fit_profile&#39;</span>

<span class="c1"># Run nsclean for 1/f noise.</span>
<span class="c1">#spec2dict[&#39;nsclean&#39;][&#39;skip&#39;] = False</span>
<span class="c1">#spec2dict[&#39;nsclean&#39;][&#39;n_sigma&#39;] = 2</span>

<span class="c1"># Turn on bad pixel self-calibration, where all exposures on a given detector are used to find and</span>
<span class="c1"># flag bad pixels that may have been missed by the bad pixel mask.</span>
<span class="c1"># This step is experimental, and works best when dedicated background observations are included</span>
<span class="c1">#spec2dict[&#39;badpix_selfcal&#39;][&#39;skip&#39;] = False</span>
<span class="c1">#spec2dict[&#39;badpix_selfcal&#39;][&#39;flagfrac_upper&#39;]=0.005 # Fraction of pixels to flag</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-info">
<p>To correct for 1/f noise with <code class="docutils literal notranslate"><span class="pre">nsclean</span></code> in Stage 2, see the <strong>IFU_NSClean_example</strong> demo notebook for IFU data <a class="reference external" href="https://github.com/spacetelescope/jdat_notebooks/tree/main/notebooks/NIRSpec/NIRSpec_NSClean">here</a>.</p>
</div></section>
<hr class="docutils" />
<section id="create-spec2pipeline-association-files">
<h3>6.2 Create <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> Association Files<a class="headerlink" href="#create-spec2pipeline-association-files" title="Permalink to this heading">#</a></h3>
<p><a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/stable/jwst/associations/overview.html">Association (ASN) files</a> define the relationships between multiple exposures, allowing them to get processed as a set rather than individually. Processing an ASN file enables the exposures to be calibrated, archived, retrieved, and reprocessed as a set rather than as individual objects.</p>
<p><a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/associations/level2_asn_technical.html">Stage 2 ASN files</a> for IFU data can include <code class="docutils literal notranslate"><span class="pre">science</span></code>, <code class="docutils literal notranslate"><span class="pre">background</span></code>, and <code class="docutils literal notranslate"><span class="pre">imprint</span></code> exposure types. A Stage 2 ASN file requires at least one <code class="docutils literal notranslate"><span class="pre">science</span></code> file but can contain multiple <code class="docutils literal notranslate"><span class="pre">background</span></code> and <code class="docutils literal notranslate"><span class="pre">imprint</span></code> (leakcals) files that enable pixel-to-pixel background subtraction and imprint subtraction in <code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code>.</p>
<p>Here we construct the necessary association files based on the observing sequence.</p>
<div class="alert alert-block alert-warning">
<p>Background subtraction may not be correctly applied if more than <em>one</em> <code class="docutils literal notranslate"><span class="pre">science</span></code> file is included in the association. Additionally, pixel-to-pixel background subtraction will only be performed if the grating wheel has not moved between the target and off-scene associated background exposures. If the grating wheel moved between the target and background exposures (as would be the case if they were in different visits), pipeline processing will follow a more involved “master background” subtraction done in Stage 3.</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Association background and imprint setup for nodded exposures</span>
<span class="k">def</span><span class="w"> </span><span class="nf">asn_nod</span><span class="p">(</span><span class="n">asn</span><span class="p">,</span> <span class="n">onescifile</span><span class="p">,</span> <span class="n">sci</span><span class="p">,</span> <span class="n">sci_imprint</span><span class="p">,</span> <span class="n">pattnum</span><span class="p">):</span>
    <span class="c1"># Assign background exposures</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sci</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdu</span><span class="p">:</span>
            <span class="n">hdu</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
            <span class="c1"># If dither position is different from the input position, use it as a background</span>
            <span class="n">this_dither</span> <span class="o">=</span> <span class="n">hdu</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">header</span><span class="p">[</span><span class="s1">&#39;PATT_NUM&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">this_dither</span> <span class="o">!=</span> <span class="n">pattnum</span><span class="p">):</span>
                <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;background&#39;</span><span class="p">})</span>

    <span class="c1"># Assign imprint exposures (pipeline handles figuring out which one is best)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sci_imprint</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdu</span><span class="p">:</span>
            <span class="n">hdu</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">match_gwa</span><span class="p">(</span><span class="n">onescifile</span><span class="p">,</span> <span class="n">file</span><span class="p">)):</span>
                <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;imprint&#39;</span><span class="p">})</span>      
            
    <span class="c1"># Assign selfcal exposures</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sci</span><span class="p">:</span>
        <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;selfcal&#39;</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sci_imprint</span><span class="p">:</span>
        <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;selfcal&#39;</span><span class="p">})</span>
        
    <span class="k">return</span> <span class="n">asn</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Association background and imprint setup for dithered exposures</span>
<span class="k">def</span><span class="w"> </span><span class="nf">asn_dither</span><span class="p">(</span><span class="n">asn</span><span class="p">,</span> <span class="n">onescifile</span><span class="p">,</span> <span class="n">sci</span><span class="p">,</span> <span class="n">sci_imprint</span><span class="p">,</span> <span class="n">bg</span><span class="p">,</span> <span class="n">bg_imprint</span><span class="p">):</span>
    <span class="c1"># Assign background exposures</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">bg</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdu</span><span class="p">:</span>
            <span class="n">hdu</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
            <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;background&#39;</span><span class="p">})</span>    
            
    <span class="c1"># Assign imprint exposures (pipeline handles figuring out which one is best)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sci_imprint</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdu</span><span class="p">:</span>
            <span class="n">hdu</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">match_gwa</span><span class="p">(</span><span class="n">onescifile</span><span class="p">,</span> <span class="n">file</span><span class="p">)):</span>
                <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;imprint&#39;</span><span class="p">})</span>  
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">bg_imprint</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdu</span><span class="p">:</span>
            <span class="n">hdu</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">match_gwa</span><span class="p">(</span><span class="n">bg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">file</span><span class="p">)):</span>
                <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;imprint&#39;</span><span class="p">})</span>
            
    <span class="c1"># Assign selfcal exposures</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sci</span><span class="p">:</span>
        <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;selfcal&#39;</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">sci_imprint</span><span class="p">:</span>
        <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;selfcal&#39;</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">bg</span><span class="p">:</span>
        <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;selfcal&#39;</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">bg_imprint</span><span class="p">:</span>
        <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;selfcal&#39;</span><span class="p">})</span>
    
    <span class="k">return</span> <span class="n">asn</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an association file for each science exposure</span>
<span class="c1"># &#39;allscifiles&#39; will be examined for potential imprint and nodded background exposures</span>
<span class="c1"># &#39;bgfiles&#39; will be examined for relevant dedicated background exposures</span>
<span class="c1"># Returns True if the association was written successfully, and False otherwise</span>
<span class="c1"># (e.g., if the input &#39;onescifile&#39; was an imprint exposure)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">writel2asn</span><span class="p">(</span><span class="n">onescifile</span><span class="p">,</span> <span class="n">allscifiles</span><span class="p">,</span> <span class="n">bgfiles</span><span class="p">,</span> <span class="n">asnfile</span><span class="p">,</span> <span class="n">prodname</span><span class="p">):</span>
    <span class="c1"># Define the basic association of science files</span>
    <span class="n">asn</span> <span class="o">=</span> <span class="n">afl</span><span class="o">.</span><span class="n">asn_from_list</span><span class="p">([</span><span class="n">onescifile</span><span class="p">],</span> <span class="n">rule</span><span class="o">=</span><span class="n">DMSLevel2bBase</span><span class="p">,</span> <span class="n">product_name</span><span class="o">=</span><span class="n">prodname</span><span class="p">)</span>  <span class="c1"># Wrap in array since input was single exposure</span>

    <span class="c1"># Configuration for this sci file</span>
    <span class="k">with</span> <span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">onescifile</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdu</span><span class="p">:</span>
        <span class="n">hdu</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
        <span class="n">hdr</span> <span class="o">=</span> <span class="n">hdu</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">header</span>
        <span class="n">exptype</span> <span class="o">=</span> <span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;EXP_TYPE&#39;</span><span class="p">]</span> <span class="c1"># Exposure type</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">exptype</span> <span class="o">==</span> <span class="s1">&#39;NRS_IFU&#39;</span><span class="p">):</span>
            <span class="n">detector</span><span class="p">,</span> <span class="n">grating</span><span class="p">,</span> <span class="n">filt</span> <span class="o">=</span> <span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;DETECTOR&#39;</span><span class="p">],</span> <span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;GRATING&#39;</span><span class="p">],</span> <span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;FILTER&#39;</span><span class="p">]</span>
            <span class="n">imprint</span> <span class="o">=</span> <span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;IS_IMPRT&#39;</span><span class="p">]</span>
            <span class="n">patttype</span> <span class="o">=</span> <span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;PATTTYPE&#39;</span><span class="p">]</span> <span class="c1"># Dither pattern type</span>
            <span class="n">pattnum</span> <span class="o">=</span> <span class="n">hdr</span><span class="p">[</span><span class="s1">&#39;PATT_NUM&#39;</span><span class="p">]</span> <span class="c1"># Dither pattern number</span>
        
    <span class="c1"># If this is any exposure type other than NRS_IFU fail out (to ensure TA images don&#39;t get processed by accident)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">exptype</span> <span class="o">!=</span> <span class="s1">&#39;NRS_IFU&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
        
    <span class="c1"># If this is an imprint exposure, fail out since those shouldn&#39;t be processed alone</span>
    <span class="k">if</span> <span class="n">imprint</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="c1"># Find all files matching the input configuration and split into regular/imprint</span>
    <span class="n">use_sci</span><span class="p">,</span> <span class="n">use_sci_imprint</span> <span class="o">=</span> <span class="n">get_matching</span><span class="p">(</span><span class="n">allscifiles</span><span class="p">,</span> <span class="n">detector</span><span class="p">,</span> <span class="n">filt</span><span class="p">,</span> <span class="n">grating</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bgfiles</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">use_bg</span><span class="p">,</span> <span class="n">use_bg_imprint</span> <span class="o">=</span> <span class="n">get_matching</span><span class="p">(</span><span class="n">bgfiles</span><span class="p">,</span> <span class="n">detector</span><span class="p">,</span> <span class="n">filt</span><span class="p">,</span> <span class="n">grating</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">use_bg</span><span class="p">,</span> <span class="n">use_bg_imprint</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>

    <span class="c1"># If this uses nodded exposures set up pixel-based background subtraction accordingly</span>
    <span class="k">if</span> <span class="p">((</span><span class="n">patttype</span> <span class="o">==</span> <span class="s1">&#39;2-POINT-NOD&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">patttype</span> <span class="o">==</span> <span class="s1">&#39;4-POINT-NOD&#39;</span><span class="p">)):</span>
        <span class="n">asn</span> <span class="o">=</span> <span class="n">asn_nod</span><span class="p">(</span><span class="n">asn</span><span class="p">,</span> <span class="n">onescifile</span><span class="p">,</span> <span class="n">use_sci</span><span class="p">,</span> <span class="n">use_sci_imprint</span><span class="p">,</span> <span class="n">pattnum</span><span class="p">)</span>
    <span class="c1"># Otherwise handle as dithered exposures</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">asn</span> <span class="o">=</span> <span class="n">asn_dither</span><span class="p">(</span><span class="n">asn</span><span class="p">,</span> <span class="n">onescifile</span><span class="p">,</span> <span class="n">use_sci</span><span class="p">,</span> <span class="n">use_sci_imprint</span><span class="p">,</span> <span class="n">use_bg</span><span class="p">,</span> <span class="n">use_bg_imprint</span><span class="p">)</span>

    <span class="c1"># Write the association to a json file</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">serialized</span> <span class="o">=</span> <span class="n">asn</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">asnfile</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="run-spec2pipeline">
<h3>6.3 Run <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code><a class="headerlink" href="#run-spec2pipeline" title="Permalink to this heading">#</a></h3>
<p>Run the science files and, if available, any background files through the <code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code> pipeline using the <code class="docutils literal notranslate"><span class="pre">.call()</span></code> method.</p>
<div class="alert alert-block alert-warning">
Perform pixel-to-pixel background subtraction (if desired) here in Stage 2. Otherwise, reduce the backgrounds individually for master background subtraction in Stage 3 (if desired).
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time_spec2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>  <span class="c1"># Tracks runtime for Stage 2.</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<section id="id1">
<h4>6.3.1 Calibrating Science Files<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h4>
<p>Identify the Stage 2 science files and execute the <code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code> pipeline using the <code class="docutils literal notranslate"><span class="pre">call</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To save on runtime, make a new version of our spec2 parameter dictionary</span>
<span class="c1"># that turns off creation of quicklook 3d cubes/1d spectra for science data.</span>
<span class="c1"># Any master background subtraction in spec3 will require the 1d spectra from spec2.</span>
<span class="n">spec2dict_sci</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">spec2dict</span><span class="p">)</span>
<span class="n">spec2dict_sci</span><span class="p">[</span><span class="s1">&#39;cube_build&#39;</span><span class="p">][</span><span class="s1">&#39;skip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># S2D products.</span>
<span class="n">spec2dict_sci</span><span class="p">[</span><span class="s1">&#39;extract_1d&#39;</span><span class="p">][</span><span class="s1">&#39;skip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># X1D products.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run Stage 2 pipeline using the custom spec2dict_sci dictionary.</span>

<span class="k">if</span> <span class="n">dospec2</span><span class="p">:</span>
    <span class="c1"># --------------------------Science files--------------------------</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">rate_sci</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">asnfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">asn_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;rate.fits&#39;</span><span class="p">,</span> <span class="s1">&#39;l2asn.json&#39;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">writel2asn</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">rate_sci</span><span class="p">,</span> <span class="n">rate_bg</span><span class="p">,</span> <span class="n">asnfile</span><span class="p">,</span> <span class="s1">&#39;Level2&#39;</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applying Stage 2 Corrections &amp; Calibrations to: </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">spec2sci_result</span> <span class="o">=</span> <span class="n">Spec2Pipeline</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">asnfile</span><span class="p">,</span>
                                                     <span class="n">save_results</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                     <span class="n">steps</span><span class="o">=</span><span class="n">spec2dict_sci</span><span class="p">,</span>
                                                     <span class="n">output_dir</span><span class="o">=</span><span class="n">spec2_dir</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># A handle for when no slices fall on NRS2.</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Skipped processing </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">asnfile</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stage 2 has been completed for SCI data! </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Skipping Spec2 processing for SCI data.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,598 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,703 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf    1.0 K bytes  (1 / 1 files) (0 / 1.0 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,866 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,884 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,910 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,912 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,913 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,914 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,915 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,917 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,918 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,920 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,925 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,926 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,927 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,928 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,929 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,930 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,932 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,934 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,935 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,936 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,937 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,938 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,940 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,941 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,942 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,943 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,944 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,945 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,946 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,947 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,948 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:32,950 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:33,060 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00001_nrs1_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:33,095 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:33,104 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:33,158 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00001_nrs1_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:33,164 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits   11.5 K bytes  (1 / 18 files) (0 / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:33,351 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf    5.8 K bytes  (2 / 18 files) (11.5 K / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:33,505 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf    5.9 K bytes  (3 / 18 files) (17.3 K / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:33,665 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits  688.9 M bytes  (4 / 18 files) (23.2 K / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:43,861 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf    2.4 K bytes  (5 / 18 files) (688.9 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:44,058 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits   69.1 K bytes  (6 / 18 files) (688.9 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:44,318 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf   12.8 K bytes  (7 / 18 files) (689.0 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:44,515 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf    4.3 K bytes  (8 / 18 files) (689.0 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:44,669 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf   12.7 K bytes  (9 / 18 files) (689.0 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:44,903 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf  146.7 K bytes  (10 / 18 files) (689.0 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:45,239 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf    2.6 K bytes  (11 / 18 files) (689.2 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:45,477 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf    5.0 M bytes  (12 / 18 files) (689.2 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:45,942 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json    7.2 M bytes  (13 / 18 files) (694.2 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:46,560 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf    7.6 K bytes  (14 / 18 files) (701.4 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:46,718 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits  169.9 K bytes  (15 / 18 files) (701.4 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:47,000 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits   25.9 K bytes  (16 / 18 files) (701.6 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:47,277 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits   68.2 M bytes  (17 / 18 files) (701.6 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:48,884 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf    3.4 K bytes  (18 / 18 files) (769.8 M / 769.8 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,037 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,038 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,038 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,039 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,039 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,040 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,040 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,041 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,041 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,042 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,042 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,043 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,043 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,043 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,044 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,045 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,045 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,045 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,046 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,047 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,047 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,048 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,048 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,049 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,049 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,050 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,050 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,051 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,058 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,058 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,059 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,204 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,351 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,351 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,352 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,353 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:49,447 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:52,499 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,205 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.692775867 -69.085448090 84.696267431 -69.085448090 84.696267431 -69.084158661 84.692775867 -69.084158661
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,206 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,212 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,399 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,400 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,549 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,565 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,670 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,671 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,672 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,672 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,686 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,795 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,829 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,880 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,905 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,981 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:02:59,997 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:05,251 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:05,505 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:05,506 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:05,665 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:05,666 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:05,834 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:05,834 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:05,993 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,000 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,001 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,001 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,003 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,161 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,161 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,312 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,348 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,376 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,437 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:06,622 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:23,566 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:23,963 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:23,964 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:24,208 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:24,222 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:24,241 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:35,911 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:36,608 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:36,609 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:36,830 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:36,853 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:36,853 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:38,788 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:38,788 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:38,789 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:38,790 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:38,790 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:38,820 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:48,351 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:49,067 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:49,068 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:51,149 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:51,150 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:51,477 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:51,478 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:53,297 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:53,298 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:53,299 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:53,302 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:53,302 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,810 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,811 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,811 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,844 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,946 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,963 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,988 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,989 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,990 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,991 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,992 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,993 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,994 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:54,995 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,000 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,001 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,002 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,003 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,004 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,005 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,006 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,007 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,011 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,011 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,012 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,013 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,014 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,015 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,016 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,017 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,018 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,019 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,020 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,021 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,023 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,025 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,655 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00001_nrs2_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,692 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,701 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,754 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00001_nrs2_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:03:55,759 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits  688.9 M bytes  (1 / 2 files) (0 / 757.1 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:06,341 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits   68.2 M bytes  (2 / 2 files) (688.9 M / 757.1 M bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,883 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,884 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,885 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,885 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,886 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,886 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,887 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,887 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,888 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,888 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,889 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,890 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,890 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,890 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,891 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,891 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,892 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,893 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,893 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,894 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,894 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,895 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,895 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,896 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,896 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,897 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,897 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,899 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,905 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,905 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:07,906 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:08,143 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:08,282 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:08,282 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:08,283 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:08,284 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:08,364 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:11,379 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:18,306 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.692775865 -69.085448081 84.696267423 -69.085448081 84.696267423 -69.084158667 84.692775865 -69.084158667
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:18,307 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:18,312 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:18,660 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:18,662 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:18,925 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:18,940 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,061 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,062 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,063 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,064 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,077 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,193 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,226 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,274 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,297 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,376 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:19,392 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:25,526 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:25,953 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:25,954 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,223 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,224 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,487 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,488 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,755 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,763 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,763 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,764 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:26,765 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:27,031 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:27,032 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:27,300 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:27,336 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:27,361 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:27,422 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:27,602 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:44,748 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:45,407 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:45,408 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:45,789 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:45,804 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:45,821 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:57,537 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:58,379 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:58,380 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:58,728 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:58,751 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:04:58,751 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:00,400 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:00,400 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:00,401 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:00,401 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:00,402 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:00,431 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:10,349 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:11,202 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00001_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:11,203 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:13,120 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:13,121 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:13,586 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:13,587 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:15,549 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:15,550 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:15,551 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:15,554 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:15,554 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,085 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,085 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,086 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,119 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,217 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,233 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,259 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,260 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,261 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,263 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,264 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,265 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,266 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,268 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,273 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,274 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,275 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,276 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,277 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,279 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,280 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,282 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,283 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,284 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,286 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,287 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,287 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,289 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,290 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,291 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,292 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,294 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,295 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,296 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,298 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:17,299 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,213 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00002_nrs1_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,248 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,257 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,310 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00002_nrs1_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,315 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,315 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,316 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,317 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,317 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,318 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,319 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,319 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,320 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,321 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,321 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,322 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,322 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,323 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,324 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,324 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,325 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,325 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,326 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,326 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,327 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,327 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,328 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,328 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,329 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,330 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,330 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,331 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,337 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,338 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,339 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,590 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,729 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,729 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,730 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,731 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:18,811 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:21,885 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:28,808 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.694033966 -69.085495595 84.697525558 -69.085495595 84.697525558 -69.084206164 84.694033966 -69.084206164
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:28,809 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:28,816 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,191 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,192 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,483 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,499 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,619 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,619 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,620 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,621 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,634 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,746 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,795 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,851 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,875 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,953 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:29,970 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:35,371 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:35,843 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:35,844 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,145 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,146 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,446 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,447 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,743 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,750 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,751 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,751 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:36,753 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:37,054 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:37,055 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:37,353 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:37,390 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:37,415 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:37,473 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:37,630 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:54,909 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:55,656 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:55,657 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:56,069 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:56,084 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:05:56,102 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:07,832 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:08,840 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:08,841 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:09,278 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:09,300 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:09,301 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:10,958 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:10,959 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:10,959 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:10,960 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:10,960 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:10,989 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:21,048 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:22,014 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:22,015 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:24,012 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:24,012 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:24,529 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:24,529 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:26,589 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:26,589 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:26,591 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:26,594 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:26,594 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,130 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,131 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,131 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,164 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,261 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,278 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,303 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,304 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,305 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,307 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,308 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,309 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,310 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,311 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,316 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,317 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,318 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,319 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,320 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,321 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,323 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,324 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,326 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,327 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,328 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,330 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,330 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,331 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,333 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,334 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,336 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,337 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,338 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,340 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,341 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:28,343 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,429 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00002_nrs2_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,464 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,473 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,525 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00002_nrs2_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,530 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,531 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,531 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,532 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,533 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,533 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,534 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,534 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,535 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,535 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,535 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,536 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,538 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,538 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,539 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,539 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,540 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,540 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,541 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,542 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,542 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,543 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,543 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,544 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,544 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,545 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,545 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,546 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,552 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,553 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,553 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,828 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,967 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,968 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,968 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:29,969 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:30,050 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:33,136 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:40,172 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.694033963 -69.085495586 84.697525550 -69.085495586 84.697525550 -69.084206170 84.694033963 -69.084206170
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:40,174 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:40,179 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:40,626 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:40,627 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:40,938 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:40,954 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,081 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,082 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,082 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,084 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,097 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,206 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,239 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,286 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,310 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,388 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:41,404 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:47,732 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:48,192 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:48,193 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:48,490 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:48,490 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:48,785 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:48,786 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,102 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,110 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,111 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,111 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,113 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,401 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,401 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,703 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,740 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,765 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,824 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:06:49,975 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:07,317 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:08,106 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:08,107 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:08,513 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:08,528 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:08,545 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:20,209 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:21,137 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:21,138 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:21,542 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:21,564 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:21,564 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:23,201 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:23,202 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:23,202 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:23,203 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:23,203 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:23,232 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:33,170 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:34,147 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00002_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:34,149 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:36,126 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:36,126 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:36,628 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:36,628 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:38,668 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:38,669 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:38,670 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:38,673 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:38,674 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,199 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,200 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,200 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,233 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,330 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,347 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,372 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,373 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,374 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,375 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,377 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,378 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,379 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,380 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,385 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,386 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,387 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,389 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,390 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,391 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,393 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,394 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,396 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,397 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,398 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,399 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,400 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,401 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,402 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,403 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,405 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,406 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,407 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,408 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,410 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:40,411 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,556 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00003_nrs1_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,593 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,602 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,656 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00003_nrs1_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,661 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,662 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,662 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,662 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,663 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,664 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,664 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,665 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,665 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,665 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,666 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,667 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,667 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,667 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,668 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,668 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,669 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,669 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,670 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,670 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,671 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,672 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,672 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,673 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,673 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,674 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,674 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,675 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,681 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,682 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,682 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:41,940 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:42,079 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:42,080 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:42,080 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:42,081 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:42,161 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:45,274 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:52,266 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693388306 -69.085260881 84.696879851 -69.085260881 84.696879851 -69.083971452 84.693388306 -69.083971452
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:52,267 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:52,274 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:52,672 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:52,673 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:52,969 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:52,984 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,112 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,112 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,113 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,114 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,127 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,236 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,269 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,316 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,340 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,417 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:53,433 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:58,837 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:59,357 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:59,358 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:59,651 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:59,652 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:59,958 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:07:59,958 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,252 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,260 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,260 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,261 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,263 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,560 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,561 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,886 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,922 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:00,947 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:01,006 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:01,157 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:18,498 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:19,303 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:19,304 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:19,719 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:19,734 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:19,751 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:31,303 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:32,256 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:32,256 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:32,660 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:32,683 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:32,684 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:34,325 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:34,326 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:34,327 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:34,327 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:34,328 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:34,356 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:44,197 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:45,189 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:45,190 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:47,157 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:47,158 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:47,669 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:47,670 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:49,734 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:49,734 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:49,736 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:49,738 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:49,739 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,290 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,290 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,291 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,324 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,421 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,438 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,463 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,464 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,465 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,466 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,467 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,469 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,470 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,471 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,476 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,477 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,478 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,479 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,480 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,481 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,482 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,484 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,485 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,486 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,487 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,488 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,489 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,490 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,491 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,492 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,493 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,496 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,497 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,498 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,500 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:51,502 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,640 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00003_nrs2_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,676 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,684 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,737 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00003_nrs2_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,742 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,742 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,743 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,744 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,744 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,745 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,745 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,746 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,746 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,747 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,747 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,748 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,748 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,749 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,750 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,750 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,751 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,751 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,752 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,752 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,753 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,753 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,754 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,754 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,755 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,756 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,756 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,757 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,763 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,764 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:52,764 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:53,021 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:53,160 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:53,161 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:53,161 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:53,162 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:53,243 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:08:56,339 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:03,411 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693388304 -69.085260872 84.696879843 -69.085260872 84.696879843 -69.083971457 84.693388304 -69.083971457
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:03,412 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:03,417 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:03,844 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:03,845 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,140 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,155 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,280 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,281 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,282 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,283 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,296 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,405 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035870610775
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,438 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,484 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,508 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,585 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:04,601 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:11,091 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:11,577 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:11,578 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:11,901 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:11,902 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,208 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,208 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,511 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,519 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,520 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,520 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,522 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,824 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:12,825 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:13,132 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:13,169 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:13,194 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:13,253 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:13,401 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:30,916 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:31,770 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:31,771 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:32,198 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:32,214 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:32,231 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:44,166 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:45,185 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:45,186 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:45,621 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:45,645 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:45,645 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:47,314 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:47,315 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:47,315 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:47,316 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:47,317 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:47,346 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:57,471 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:58,542 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00003_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:09:58,543 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:00,652 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:00,653 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:01,253 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:01,254 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:03,369 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:03,370 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:03,372 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:03,375 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:03,375 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:04,906 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:04,906 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:04,907 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:04,941 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,043 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,060 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,085 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,087 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,088 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,089 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,091 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,092 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,093 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,094 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,099 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,100 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,102 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,103 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,104 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,105 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,107 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,109 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,110 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,112 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,113 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,114 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,115 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,116 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,117 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,118 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,119 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,120 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,121 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,123 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,126 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:05,128 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,323 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00004_nrs1_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,359 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,368 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,421 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00004_nrs1_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,426 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,427 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,427 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,428 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,429 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,430 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,430 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,431 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,431 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,432 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,432 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,433 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,434 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,434 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,435 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,435 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,435 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,436 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,436 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,437 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,438 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,438 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,439 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,440 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,441 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,441 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,442 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,443 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,449 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,450 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,450 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,725 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,864 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,865 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,865 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,866 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:06,947 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:10,098 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:17,159 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693422131 -69.085682939 84.696913745 -69.085682939 84.696913745 -69.084393509 84.693422131 -69.084393509
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:17,160 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:17,167 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:17,591 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:17,592 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:17,930 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:17,946 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,074 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,075 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,076 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,077 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,090 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,199 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,233 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,279 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,303 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,381 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:18,398 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:23,908 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:24,392 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:24,393 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:24,706 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:24,707 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,045 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,046 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,366 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,374 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,374 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,375 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,376 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,693 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:25,694 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:26,016 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:26,053 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:26,078 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:26,139 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:26,296 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:43,720 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:44,541 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:44,541 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:45,004 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:45,019 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:45,036 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:56,729 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:57,734 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:57,735 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:58,173 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:58,195 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:58,196 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:59,844 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:59,844 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:59,845 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:59,845 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:59,846 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:10:59,875 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:09,820 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:10,871 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:10,872 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:12,864 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:12,865 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:13,381 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:13,381 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:15,473 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:15,474 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:15,475 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:15,478 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:15,478 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:16,996 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:16,996 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:16,997 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,030 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,128 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,144 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,169 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,170 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,171 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,172 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,173 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,175 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,175 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,177 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,181 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,182 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,184 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,184 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,185 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,186 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,187 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,189 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,190 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,191 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,192 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,193 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,194 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,195 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,196 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,197 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,198 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,199 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,200 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,201 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,203 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:17,204 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,378 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00004_nrs2_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,413 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,421 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,473 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00004_nrs2_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,479 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,479 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,480 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,480 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,481 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,481 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,482 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,482 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,483 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,483 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,484 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,484 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,485 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,485 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,486 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,487 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,487 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,488 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,489 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,489 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,490 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,491 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,491 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,492 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,492 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,493 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,493 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,494 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,500 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,501 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,501 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,770 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,910 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,910 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,911 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,912 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:18,992 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:22,140 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:29,214 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693422129 -69.085682930 84.696913737 -69.085682930 84.696913737 -69.084393515 84.693422129 -69.084393515
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:29,216 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:29,221 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:29,657 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:29,658 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:29,976 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:29,991 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,122 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,123 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,124 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,125 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,138 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,248 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,281 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,327 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,352 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,429 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:30,445 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:36,889 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:37,377 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:37,378 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:37,696 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:37,696 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,008 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,008 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,316 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,324 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,325 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,325 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,327 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,649 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,650 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:38,964 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:39,002 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:39,027 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:39,087 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:39,238 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:56,666 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:57,504 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:57,505 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:57,959 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:57,973 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:11:57,990 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:09,859 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:10,838 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:10,839 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:11,283 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:11,306 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:11,307 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:12,948 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:12,948 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:12,949 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:12,949 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:12,950 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:12,979 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:23,146 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:24,198 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00004_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:24,199 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:26,219 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:26,220 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:26,761 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:26,762 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:28,860 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:28,860 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:28,862 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:28,864 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:28,865 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,392 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,393 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,393 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,426 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,524 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,541 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,565 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,566 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,567 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,568 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,569 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,571 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,572 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,573 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,578 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,579 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,580 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,581 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,583 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,584 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,585 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,587 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,588 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,589 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,590 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,592 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,593 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,594 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,595 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,596 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,597 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,598 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,599 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,601 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,602 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:30,604 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,776 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00005_nrs1_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,815 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,824 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,876 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00005_nrs1_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,881 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,882 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,883 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,883 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,884 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,885 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,885 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,886 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,886 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,887 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,887 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,888 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,889 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,889 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,890 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,891 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,891 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,892 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,892 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,893 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,893 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,894 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,894 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,895 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,896 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,896 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,896 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,898 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,904 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,904 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:31,905 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:32,175 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:32,315 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:32,315 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:32,316 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:32,316 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:32,396 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:35,523 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:42,669 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693412624 -69.085450995 84.696904199 -69.085450995 84.696904199 -69.084161565 84.693412624 -69.084161565
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:42,670 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:42,677 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,086 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,087 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,395 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,410 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,539 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,539 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,540 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,541 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,554 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,664 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,697 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,746 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,770 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,848 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:43,865 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:49,391 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:49,920 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:49,921 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,271 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,272 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,593 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,594 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,945 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,953 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,953 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,954 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:50,955 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:51,298 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:51,299 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:51,616 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:51,653 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:51,679 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:51,739 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:12:51,898 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:09,400 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:10,270 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:10,271 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:10,715 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:10,730 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:10,748 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:22,501 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:23,513 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:23,514 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:23,956 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:23,980 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:23,980 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:25,629 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:25,630 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:25,630 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:25,631 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:25,631 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:25,661 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:35,555 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:36,571 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:36,571 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:38,567 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:38,567 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:39,077 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:39,077 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:41,136 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:41,137 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:41,138 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:41,141 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:41,142 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,642 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,643 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,644 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,677 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,773 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,790 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,814 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,815 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,816 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,817 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,818 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,819 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,820 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,821 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,826 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,827 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,828 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,829 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,830 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,831 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,833 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,834 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,837 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,838 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,839 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,840 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,841 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,843 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,844 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,845 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,846 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,847 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,849 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,850 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,851 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:42,853 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:43,971 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00005_nrs2_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,007 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,016 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,069 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00005_nrs2_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,074 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,075 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,075 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,076 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,076 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,077 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,078 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,078 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,078 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,079 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,080 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,081 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,081 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,081 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,082 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,083 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,083 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,084 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,084 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,084 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,086 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,086 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,087 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,087 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,088 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,088 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,089 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,090 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,096 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,097 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,097 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,360 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,500 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,500 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,501 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,502 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:44,582 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:47,689 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:54,662 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693412621 -69.085450986 84.696904191 -69.085450986 84.696904191 -69.084161571 84.693412621 -69.084161571
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:54,663 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:54,669 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,066 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,066 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,364 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,379 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,505 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,505 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,506 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,507 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,520 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,629 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,662 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,708 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,732 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,808 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:13:55,825 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:02,105 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:02,569 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:02,570 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:02,865 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:02,866 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,165 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,166 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,462 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,471 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,471 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,472 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,474 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,774 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:03,775 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:04,069 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:04,106 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:04,132 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:04,190 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:04,340 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:21,694 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:22,511 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:22,512 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:22,942 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:22,957 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:22,975 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:34,669 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:35,631 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:35,632 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:36,055 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:36,077 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:36,077 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:37,719 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:37,719 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:37,720 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:37,720 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:37,720 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:37,749 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:47,731 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:48,723 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00005_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:48,724 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:50,712 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:50,712 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:51,221 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:51,222 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:53,268 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:53,269 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:53,271 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:53,274 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:53,274 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,776 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,777 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,777 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,810 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,907 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,924 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,948 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,950 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,951 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,952 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,953 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,954 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,955 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,957 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,962 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,962 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,964 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,965 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,966 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,968 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,969 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,970 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,972 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,973 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,974 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,975 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,975 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,976 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,977 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,978 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,979 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,980 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,981 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,982 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,984 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:54,985 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,096 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00006_nrs1_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,134 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,143 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,196 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00006_nrs1_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,201 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,202 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,203 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,203 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,204 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,204 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,205 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,205 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,206 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,206 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,207 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,207 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,208 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,208 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,208 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,209 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,210 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,210 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,211 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,211 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,212 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,212 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,213 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,213 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,214 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,214 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,214 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,216 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,222 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,222 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,223 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,483 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,624 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,624 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,625 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,626 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:56,706 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035857935248
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:14:59,811 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:06,881 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693087098 -69.085559862 84.696578689 -69.085559862 84.696578689 -69.084270432 84.693087098 -69.084270432
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:06,882 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:06,889 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,302 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,303 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,610 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,625 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,751 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,752 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,753 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,754 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,767 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,876 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035857935248
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,909 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,955 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:07,979 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:08,056 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:08,073 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:13,533 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,004 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,005 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,307 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,308 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,610 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,611 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,902 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,910 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,910 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,911 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:14,912 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:15,203 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:15,204 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:15,498 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:15,534 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:15,559 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:15,617 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:15,771 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:33,088 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:33,910 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:33,911 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:34,342 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:34,357 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:34,375 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:46,003 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:46,974 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:46,975 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:47,414 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:47,438 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:47,439 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:49,098 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:49,099 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:49,099 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:49,100 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:49,100 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:49,129 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:15:59,035 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:00,044 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:00,045 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:02,033 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:02,034 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:02,553 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:02,553 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:04,633 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:04,634 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:04,635 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:04,637 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:04,638 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,135 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,135 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,136 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,169 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,266 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,283 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,308 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,309 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,311 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,312 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,313 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,314 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,315 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,316 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,321 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,322 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,323 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,324 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,325 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,326 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,328 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,331 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,331 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,333 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,334 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,335 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,335 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,336 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,338 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,339 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,340 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,341 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,342 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,344 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,345 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:06,347 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,449 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00006_nrs2_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,485 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,494 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,546 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00006_nrs2_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,551 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,551 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,552 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,553 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,554 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,554 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,555 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,555 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,556 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,556 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,557 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,558 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,558 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,559 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,559 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,560 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,560 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,561 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,561 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,562 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,563 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,563 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,564 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,564 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,565 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,565 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,566 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,567 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,573 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,573 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,574 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,830 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,969 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,969 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,970 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:07,971 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:08,051 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035857935248
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:11,150 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:18,271 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693087096 -69.085559853 84.696578681 -69.085559853 84.696578681 -69.084270438 84.693087096 -69.084270438
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:18,272 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:18,277 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:18,691 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:18,692 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:18,995 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,010 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,137 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,138 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,139 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,140 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,153 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,262 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035857935248
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,295 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,341 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,365 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,474 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:19,490 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:25,868 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:26,338 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:26,339 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:26,651 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:26,652 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:26,960 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:26,961 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,265 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,272 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,273 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,273 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,275 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,583 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,583 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,889 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,927 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:27,951 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:28,010 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:28,159 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:45,431 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:46,247 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:46,247 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:46,656 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:46,671 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:46,689 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:58,388 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:59,330 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:59,330 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:59,736 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:59,758 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:16:59,758 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:01,389 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:01,390 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:01,390 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:01,391 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:01,392 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:01,421 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:11,302 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:12,276 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00006_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:12,277 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:14,244 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:14,244 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:14,762 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:14,762 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:16,800 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:16,801 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:16,802 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:16,805 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:16,805 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,313 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,314 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,314 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,348 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,443 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,460 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,484 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,485 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,486 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,487 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,489 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,490 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,491 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,492 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,496 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,497 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,498 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,499 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,500 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,501 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,502 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,504 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,505 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,506 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,507 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,508 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,509 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,511 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,512 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,513 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,514 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,515 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,516 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,517 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,519 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:18,524 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,624 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00007_nrs1_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,659 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,668 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,720 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00007_nrs1_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,726 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,726 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,727 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,727 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,728 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,728 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,728 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,729 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,729 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,730 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,730 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,731 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,731 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,732 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,732 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,733 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,733 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,734 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,734 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,735 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,736 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,736 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,737 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,737 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,738 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,738 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,739 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,740 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,746 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,746 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,747 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:19,997 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:20,135 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:20,136 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:20,137 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:20,138 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:20,217 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:23,331 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:30,252 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693687801 -69.085581582 84.697179402 -69.085581582 84.697179402 -69.084292152 84.693687801 -69.084292152
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:30,253 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:30,259 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:30,655 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:30,656 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:30,955 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:30,970 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,094 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,095 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,095 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,096 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,109 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,220 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,264 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,310 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,334 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,411 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:31,427 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:36,844 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:37,315 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:37,316 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:37,624 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:37,625 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:37,923 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:37,924 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,224 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,231 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,232 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,233 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,234 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,529 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,531 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,830 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,867 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,892 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:38,951 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:39,102 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:56,460 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:57,304 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:57,305 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:57,743 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:57,759 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:17:57,776 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:09,532 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:10,527 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:10,527 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:10,989 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:11,011 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:11,011 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:12,677 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:12,678 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:12,678 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:12,679 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:12,679 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:12,708 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:22,720 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:23,762 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:23,763 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:25,758 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:25,758 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:26,291 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:26,292 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:28,375 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:28,376 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:28,377 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:28,380 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:28,380 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:29,877 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:29,878 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:29,878 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:29,912 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,008 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,024 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,048 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,050 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,051 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,052 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,053 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,054 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,055 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,056 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,061 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,062 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,064 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,065 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,066 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,067 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,068 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,070 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,072 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,072 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,074 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,074 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,076 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,077 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,078 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,079 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,080 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,081 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,082 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,083 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,085 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:30,087 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,193 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00007_nrs2_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,229 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,238 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,290 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00007_nrs2_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,295 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,296 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,297 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,297 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,298 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,299 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,299 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,300 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,301 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,301 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,302 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,302 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,303 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,303 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,304 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,304 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,305 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,305 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,306 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,306 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,307 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,307 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,308 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,308 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,309 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,309 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,310 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,311 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,317 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,318 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,319 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,578 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,717 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,717 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,718 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,719 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:31,799 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:34,910 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,024 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693687798 -69.085581573 84.697179394 -69.085581573 84.697179394 -69.084292157 84.693687798 -69.084292157
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,026 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,030 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,440 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,441 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,741 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,756 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,883 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,884 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.31731605499999943 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,884 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420251703 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,885 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:42,898 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:43,007 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035864273011
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:43,040 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:43,085 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:43,109 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:43,186 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:43,202 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:49,626 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:50,113 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:50,114 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:50,430 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:50,431 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:50,740 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:50,741 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,043 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,051 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,052 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,052 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,054 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,360 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,360 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,673 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,711 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,736 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,796 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:18:51,945 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:09,324 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:10,140 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:10,141 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:10,573 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:10,589 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:10,606 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:22,431 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:23,399 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:23,400 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:23,820 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:23,844 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:23,844 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:25,500 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:25,501 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:25,501 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:25,502 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:25,502 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:25,531 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:35,612 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:36,624 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00007_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:36,625 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:38,597 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:38,598 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:39,102 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:39,103 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:41,182 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:41,182 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:41,184 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:41,187 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:41,187 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,685 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,686 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,686 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,719 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,815 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,832 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,856 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,857 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,858 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,859 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,860 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,861 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,862 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,863 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,868 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,869 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,870 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,871 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,872 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,873 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,874 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,877 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,879 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,880 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,881 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,882 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,883 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,883 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,884 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,886 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,887 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,888 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,889 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,892 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,893 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:42,895 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:43,994 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00008_nrs1_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,030 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,039 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,091 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00008_nrs1_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,096 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,097 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,097 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,098 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,099 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,099 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,100 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,100 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,101 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,101 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,102 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,102 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,103 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,103 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,104 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,105 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,105 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,106 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,106 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,107 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,107 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,108 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,108 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,109 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,110 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,110 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,111 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,112 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,118 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,118 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,118 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,374 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,513 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,513 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,514 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,515 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:44,595 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035857935248
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:47,690 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:54,712 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693748856 -69.085395859 84.697240427 -69.085395859 84.697240427 -69.084106429 84.693748856 -69.084106429
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:54,713 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:54,719 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,126 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs1_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,127 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,433 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,448 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,575 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,576 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,577 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,578 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,591 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,699 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035857935248
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,731 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,777 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,802 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,879 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:19:55,895 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:01,304 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:01,779 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:01,780 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,089 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,090 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,386 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,386 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,689 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,696 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,697 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,697 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:02,699 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:03,003 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:03,004 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:03,311 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:03,348 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:03,373 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:03,433 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0219.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:03,587 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0001.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:20,841 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:21,661 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:21,662 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:22,093 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:22,109 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:22,126 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:33,775 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:34,743 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:34,744 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:35,166 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:35,189 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:35,190 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:36,833 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:36,833 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:36,834 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:36,835 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:36,835 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:36,865 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:46,804 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:47,815 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs1_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:47,816 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:49,799 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:49,800 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:50,319 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:50,320 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:52,386 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs1_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:52,387 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:52,388 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:52,391 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:52,391 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:53,891 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:53,891 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:53,892 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:53,924 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:53,994 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,011 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,036 - stpipe.Spec2Pipeline - INFO - Spec2Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,037 - stpipe.Spec2Pipeline.assign_wcs - INFO - AssignWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,039 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - BadpixSelfcalStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,040 - stpipe.Spec2Pipeline.msa_flagging - INFO - MSAFlagOpenStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,041 - stpipe.Spec2Pipeline.nsclean - INFO - NSCleanStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,042 - stpipe.Spec2Pipeline.bkg_subtract - INFO - BackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,043 - stpipe.Spec2Pipeline.imprint_subtract - INFO - ImprintStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,044 - stpipe.Spec2Pipeline.extract_2d - INFO - Extract2dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,048 - stpipe.Spec2Pipeline.master_background_mos - INFO - MasterBackgroundMosStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,050 - stpipe.Spec2Pipeline.master_background_mos.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,051 - stpipe.Spec2Pipeline.master_background_mos.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,051 - stpipe.Spec2Pipeline.master_background_mos.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,052 - stpipe.Spec2Pipeline.master_background_mos.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,054 - stpipe.Spec2Pipeline.master_background_mos.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,055 - stpipe.Spec2Pipeline.master_background_mos.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,057 - stpipe.Spec2Pipeline.master_background_mos.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,058 - stpipe.Spec2Pipeline.wavecorr - INFO - WavecorrStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,059 - stpipe.Spec2Pipeline.flat_field - INFO - FlatFieldStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,060 - stpipe.Spec2Pipeline.srctype - INFO - SourceTypeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,061 - stpipe.Spec2Pipeline.straylight - INFO - StraylightStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,062 - stpipe.Spec2Pipeline.fringe - INFO - FringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,063 - stpipe.Spec2Pipeline.residual_fringe - INFO - ResidualFringeStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,064 - stpipe.Spec2Pipeline.pathloss - INFO - PathLossStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,066 - stpipe.Spec2Pipeline.barshadow - INFO - BarShadowStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,067 - stpipe.Spec2Pipeline.wfss_contam - INFO - WfssContamStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,070 - stpipe.Spec2Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,071 - stpipe.Spec2Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,072 - stpipe.Spec2Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,074 - stpipe.Spec2Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:54,075 - stpipe.Spec2Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 2 Corrections &amp; Calibrations to: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,185 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/jw02729005001_02101_00008_nrs2_l2asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,222 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  save_bsub: False
  fail_on_exception: True
  save_wfss_esec: False
  steps:
    assign_wcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sip_approx: True
      sip_max_pix_error: 0.01
      sip_degree: None
      sip_max_inv_pix_error: 0.01
      sip_inv_degree: None
      sip_npoints: 12
      slit_y_low: -0.55
      slit_y_high: 0.55
    badpix_selfcal:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      flagfrac_lower: 0.001
      flagfrac_upper: 0.001
      kernel_size: 15
      force_single: False
      save_flagged_bkg: False
    msa_flagging:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    nsclean:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      fit_method: fft
      fit_by_channel: False
      background_method: None
      background_box_size: None
      mask_spectral_regions: True
      n_sigma: 5.0
      fit_histogram: False
      single_mask: False
      user_mask: None
      save_mask: False
      save_background: False
      save_noise: False
    bkg_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_combined_background: False
      sigma: 3.0
      maxiters: None
      wfss_mmag_extract: None
      wfss_maxiter: 5
      wfss_rms_stop: 0.0
      wfss_outlier_percent: 1.0
    imprint_subtract:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    extract_2d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      slit_name: None
      extract_orders: None
      grism_objects: None
      tsgrism_extract_height: None
      wfss_extract_half_height: 5
      wfss_mmag_extract: None
      wfss_nbright: 1000
    master_background_mos:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      sigma_clip: 3.0
      median_kernel: 1
      force_subtract: False
      save_background: False
      user_background: None
      inverse: False
      steps:
        flat_field:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          save_interpolated_flat: False
          user_supplied_flat: None
          inverse: False
        pathloss:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          user_slit_loc: None
        barshadow:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
        photom:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          inverse: False
          source_type: None
          mrs_time_correction: True
        pixel_replace:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: True
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          algorithm: fit_profile
          n_adjacent_cols: 3
        resample_spec:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          pixfrac: 1.0
          kernel: square
          fillval: NaN
          weight_type: exptime
          output_shape: None
          pixel_scale_ratio: 1.0
          pixel_scale: None
          output_wcs: &#39;&#39;
          single: False
          blendheaders: True
          in_memory: True
        extract_1d:
          pre_hooks: []
          post_hooks: []
          output_file: None
          output_dir: None
          output_ext: .fits
          output_use_model: False
          output_use_index: True
          save_results: False
          skip: False
          suffix: None
          search_output_file: True
          input_dir: &#39;&#39;
          subtract_background: None
          apply_apcorr: True
          use_source_posn: None
          smoothing_length: None
          bkg_fit: None
          bkg_order: None
          log_increment: 50
          save_profile: False
          save_scene_model: False
          center_xy: None
          ifu_autocen: False
          bkg_sigma_clip: 3.0
          ifu_rfcorr: False
          ifu_set_srctype: None
          ifu_rscale: None
          ifu_covar_scale: 1.0
          soss_atoca: True
          soss_threshold: 0.01
          soss_n_os: 2
          soss_wave_grid_in: None
          soss_wave_grid_out: None
          soss_estimate: None
          soss_rtol: 0.0001
          soss_max_grid_size: 20000
          soss_tikfac: None
          soss_width: 40.0
          soss_bad_pix: masking
          soss_modelname: None
    wavecorr:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    flat_field:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_interpolated_flat: False
      user_supplied_flat: None
      inverse: False
    srctype:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      source_type: None
    straylight:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
    residual_fringe:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: residual_fringe
      search_output_file: False
      input_dir: &#39;&#39;
      save_intermediate_results: False
      ignore_region_min: None
      ignore_region_max: None
    pathloss:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      user_slit_loc: None
    barshadow:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
    wfss_contam:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      save_simulated_image: False
      save_contam_images: False
      maximum_cores: none
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,231 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,285 - stpipe.Spec2Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00008_nrs2_rate.fits&#39; reftypes = [&#39;area&#39;, &#39;barshadow&#39;, &#39;camera&#39;, &#39;collimator&#39;, &#39;dflat&#39;, &#39;disperser&#39;, &#39;distortion&#39;, &#39;fflat&#39;, &#39;filteroffset&#39;, &#39;flat&#39;, &#39;fore&#39;, &#39;fpa&#39;, &#39;fringe&#39;, &#39;ifufore&#39;, &#39;ifupost&#39;, &#39;ifuslicer&#39;, &#39;mrsxartcorr&#39;, &#39;msa&#39;, &#39;msaoper&#39;, &#39;ote&#39;, &#39;pathloss&#39;, &#39;photom&#39;, &#39;regions&#39;, &#39;sflat&#39;, &#39;specwcs&#39;, &#39;wavecorr&#39;, &#39;wavelengthrange&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,290 - stpipe.Spec2Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,290 - stpipe.Spec2Pipeline - INFO - Prefetch for BARSHADOW reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,291 - stpipe.Spec2Pipeline - INFO - Prefetch for CAMERA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,291 - stpipe.Spec2Pipeline - INFO - Prefetch for COLLIMATOR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,292 - stpipe.Spec2Pipeline - INFO - Prefetch for DFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,293 - stpipe.Spec2Pipeline - INFO - Prefetch for DISPERSER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,293 - stpipe.Spec2Pipeline - INFO - Prefetch for DISTORTION reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,293 - stpipe.Spec2Pipeline - INFO - Prefetch for FFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,294 - stpipe.Spec2Pipeline - INFO - Prefetch for FILTEROFFSET reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,294 - stpipe.Spec2Pipeline - INFO - Prefetch for FLAT reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,295 - stpipe.Spec2Pipeline - INFO - Prefetch for FORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,295 - stpipe.Spec2Pipeline - INFO - Prefetch for FPA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,296 - stpipe.Spec2Pipeline - INFO - Prefetch for FRINGE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,297 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUFORE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,297 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUPOST reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,298 - stpipe.Spec2Pipeline - INFO - Prefetch for IFUSLICER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,298 - stpipe.Spec2Pipeline - INFO - Prefetch for MRSXARTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,298 - stpipe.Spec2Pipeline - INFO - Prefetch for MSA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,299 - stpipe.Spec2Pipeline - INFO - Prefetch for MSAOPER reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,300 - stpipe.Spec2Pipeline - INFO - Prefetch for OTE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,300 - stpipe.Spec2Pipeline - INFO - Prefetch for PATHLOSS reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,301 - stpipe.Spec2Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,302 - stpipe.Spec2Pipeline - INFO - Prefetch for REGIONS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,302 - stpipe.Spec2Pipeline - INFO - Prefetch for SFLAT reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,302 - stpipe.Spec2Pipeline - INFO - Prefetch for SPECWCS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,303 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVECORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,304 - stpipe.Spec2Pipeline - INFO - Prefetch for WAVELENGTHRANGE reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,304 - stpipe.Spec2Pipeline - INFO - Starting calwebb_spec2 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,311 - stpipe.Spec2Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,311 - stpipe.Spec2Pipeline - INFO - Processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,311 - stpipe.Spec2Pipeline - INFO - Working on input /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,578 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,716 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,717 - stpipe.Spec2Pipeline.assign_wcs - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,718 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,719 - stpipe.Spec2Pipeline.assign_wcs - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:55,799 - stpipe.Spec2Pipeline.assign_wcs - INFO - Applied Barycentric velocity correction : 1.0000035857935248
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:20:58,887 - stpipe.Spec2Pipeline.assign_wcs - INFO - Created a NIRSPEC nrs_ifu pipeline with references {&#39;distortion&#39;: None, &#39;filteroffset&#39;: None, &#39;specwcs&#39;: None, &#39;regions&#39;: None, &#39;wavelengthrange&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_wavelengthrange_0006.asdf&#39;, &#39;camera&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_camera_0007.asdf&#39;, &#39;collimator&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_collimator_0007.asdf&#39;, &#39;disperser&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_disperser_0056.asdf&#39;, &#39;fore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fore_0047.asdf&#39;, &#39;fpa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fpa_0008.asdf&#39;, &#39;msa&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msa_0008.asdf&#39;, &#39;ote&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ote_0010.asdf&#39;, &#39;ifupost&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifupost_0009.asdf&#39;, &#39;ifufore&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifufore_0010.asdf&#39;, &#39;ifuslicer&#39;: &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_ifuslicer_0010.asdf&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:05,925 - stpipe.Spec2Pipeline.assign_wcs - INFO - Update S_REGION to POLYGON ICRS  84.693748853 -69.085395851 84.697240419 -69.085395851 84.697240419 -69.084106435 84.693748853 -69.084106435
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:05,926 - stpipe.Spec2Pipeline.assign_wcs - INFO - COMPLETED assign_wcs
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:05,931 - stpipe.Spec2Pipeline.assign_wcs - INFO - Step assign_wcs done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,336 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step badpix_selfcal running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;, [&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00001_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00002_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00003_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00004_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00005_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00006_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00007_nrs2_rate.fits&#39;, &#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2_rate.fits&#39;], []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,337 - stpipe.Spec2Pipeline.badpix_selfcal - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,638 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,654 - stpipe.Spec2Pipeline.msa_flagging - INFO - Using reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_msaoper_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,780 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_ytilt is 0.1446410119999998 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,781 - stpipe.Spec2Pipeline.msa_flagging - INFO - gwa_xtilt is 0.3173160549999994 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,782 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_y correction: 0.0024604403420252336 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,783 - stpipe.Spec2Pipeline.msa_flagging - INFO - theta_x correction: 4.657130261942181e-05 deg
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,795 - stpipe.Spec2Pipeline.msa_flagging - INFO - SPORDER= -1, wrange=[2.87e-06, 5.27e-06]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,905 - stpipe.Spec2Pipeline.msa_flagging - INFO - Applied Barycentric velocity correction : 1.0000035857935248
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,938 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 6 open slits in quadrant 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:06,983 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 3 open slits in quadrant 2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:07,008 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 10 open slits in quadrant 3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:07,085 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 2 open slits in quadrant 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:07,101 - stpipe.Spec2Pipeline.msa_flagging - INFO - There are 0 open slits in quadrant 5
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:13,442 - stpipe.Spec2Pipeline.msa_flagging - INFO - Step msa_flagging done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:13,932 - stpipe.Spec2Pipeline.nsclean - INFO - Step nsclean running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:13,933 - stpipe.Spec2Pipeline.nsclean - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,235 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step imprint_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,236 - stpipe.Spec2Pipeline.imprint_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,533 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step bkg_subtract running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;, []).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,534 - stpipe.Spec2Pipeline.bkg_subtract - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,835 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,842 - stpipe.Spec2Pipeline.srctype - INFO - Input EXP_TYPE is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,843 - stpipe.Spec2Pipeline.srctype - INFO - Input SRCTYAPT = UNKNOWN
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,843 - stpipe.Spec2Pipeline.srctype - INFO - Input source type is unknown; setting default SRCTYPE = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:14,844 - stpipe.Spec2Pipeline.srctype - INFO - Step srctype done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:15,144 - stpipe.Spec2Pipeline.straylight - INFO - Step straylight running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:15,145 - stpipe.Spec2Pipeline.straylight - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:15,459 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:15,494 - stpipe.Spec2Pipeline.flat_field - INFO - No reference found for type FLAT
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:15,519 - stpipe.Spec2Pipeline.flat_field - INFO - Using FFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_fflat_0102.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:15,577 - stpipe.Spec2Pipeline.flat_field - INFO - Using SFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_sflat_0215.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:15,722 - stpipe.Spec2Pipeline.flat_field - INFO - Using DFLAT reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_dflat_0002.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:33,038 - stpipe.Spec2Pipeline.flat_field - INFO - Step flat_field done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:33,830 - stpipe.Spec2Pipeline.fringe - INFO - Step fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:33,830 - stpipe.Spec2Pipeline.fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:34,235 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:34,250 - stpipe.Spec2Pipeline.pathloss - INFO - Using PATHLOSS reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pathloss_0003.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:34,267 - stpipe.Spec2Pipeline.pathloss - INFO - Input exposure type is NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:45,791 - stpipe.Spec2Pipeline.pathloss - INFO - Step pathloss done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:46,711 - stpipe.Spec2Pipeline.barshadow - INFO - Step barshadow running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:46,712 - stpipe.Spec2Pipeline.barshadow - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:47,119 - stpipe.Spec2Pipeline.photom - INFO - Step photom running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:47,142 - stpipe.Spec2Pipeline.photom - INFO - Using photom reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:47,143 - stpipe.Spec2Pipeline.photom - INFO - Using area reference file: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:48,787 - stpipe.Spec2Pipeline.photom - INFO - Using instrument: NIRSPEC
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:48,788 - stpipe.Spec2Pipeline.photom - INFO -  detector: NRS2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:48,788 - stpipe.Spec2Pipeline.photom - INFO -  exp_type: NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:48,788 - stpipe.Spec2Pipeline.photom - INFO -  filter: F290LP
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:48,789 - stpipe.Spec2Pipeline.photom - INFO -  grating: G395H
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:48,817 - stpipe.Spec2Pipeline.photom - INFO - PHOTMJSR value: 3.83378e+12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:58,607 - stpipe.Spec2Pipeline.photom - INFO - Step photom done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:59,571 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step residual_fringe running with args (&lt;IFUImageModel(2048, 2048) from jw02729005001_02101_00008_nrs2_rate.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:21:59,571 - stpipe.Spec2Pipeline.residual_fringe - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:01,535 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:01,536 - stpipe.Spec2Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:02,046 - stpipe.Spec2Pipeline.cube_build - INFO - Step cube_build running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:02,047 - stpipe.Spec2Pipeline.cube_build - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:04,114 - stpipe.Spec2Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;IFUImageModel(2048, 2048) from /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs2_cal.fits&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:04,115 - stpipe.Spec2Pipeline.extract_1d - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:04,116 - stpipe.Spec2Pipeline - INFO - Finished processing product /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage1/jw02729005001_02101_00008_nrs2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:04,119 - stpipe.Spec2Pipeline - INFO - Ending calwebb_spec2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:04,119 - stpipe.Spec2Pipeline - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:05,615 - stpipe.Spec2Pipeline - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:05,616 - stpipe.Spec2Pipeline - INFO - Step Spec2Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:05,616 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Stage 2 has been completed for SCI data! 
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="id2">
<h4>6.3.2 Calibrating Background Files<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h4>
<p>Prepare background files for master background subtraction in Stage 3. Will skip if no background files.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run Stage 2 pipeline using the custom spec2dict dictionary.</span>

<span class="k">if</span> <span class="n">dospec2bg</span> <span class="ow">and</span> <span class="n">master_bg</span><span class="p">:</span>
    <span class="c1"># ---------------------Background ASN or RATE files---------------------</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">rate_bg</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">asnfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">asn_bgdir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;rate.fits&#39;</span><span class="p">,</span> <span class="s1">&#39;l2asn.json&#39;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">writel2asn</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">rate_bg</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">asnfile</span><span class="p">,</span> <span class="s1">&#39;Level2&#39;</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applying Stage 2 Corrections &amp; Calibrations to: </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">spec2bg_result</span> <span class="o">=</span> <span class="n">Spec2Pipeline</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">asnfile</span><span class="p">,</span>
                                                    <span class="n">save_results</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                    <span class="n">steps</span><span class="o">=</span><span class="n">spec2dict</span><span class="p">,</span>
                                                    <span class="n">output_dir</span><span class="o">=</span><span class="n">spec2_bgdir</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># A handle for when no slices fall on NRS2.</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Skipped processing </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stage 2 has been completed for BKG data! </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Skipping Stage 2 for BKG data. </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Skipping Stage 2 for BKG data. 
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print out the time benchmarks.</span>
<span class="n">time3</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime so far: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time3</span><span class="o">-</span><span class="n">time0</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime for Spec2: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time3</span><span class="o">-</span><span class="n">time_spec2</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Runtime so far: 35.5000 min
Runtime for Spec2: 19.6000 min
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the Stage 2 products.</span>

<span class="c1"># -----------------------------Science files-----------------------------</span>
<span class="n">sci_cal</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec2_dir</span> <span class="o">+</span> <span class="s1">&#39;*_cal.fits&#39;</span><span class="p">))</span>
<span class="n">sci_s3d</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec2_dir</span> <span class="o">+</span> <span class="s1">&#39;*_s3d.fits&#39;</span><span class="p">))</span>
<span class="n">sci_x1d</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec2_dir</span> <span class="o">+</span> <span class="s1">&#39;*_x1d.fits&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SCIENCE | Stage 2 CAL Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_cal</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SCIENCE | Stage 2 S3D Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_s3d</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SCIENCE | Stage 2 X1D Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sci_x1d</span><span class="p">))</span>

<span class="c1"># ----------------------------Background files---------------------------</span>
<span class="n">bg_cal</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec2_bgdir</span> <span class="o">+</span> <span class="s1">&#39;*_cal.fits&#39;</span><span class="p">))</span>
<span class="n">bg_s3d</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec2_bgdir</span> <span class="o">+</span> <span class="s1">&#39;*_s3d.fits&#39;</span><span class="p">))</span>
<span class="n">bg_x1d</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec2_bgdir</span> <span class="o">+</span> <span class="s1">&#39;*_x1d.fits&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BACKGROUND | Stage 2 CAL Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_cal</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BACKGROUND | Stage 2 S3D Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_s3d</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;BACKGROUND | Stage 2 X1D Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bg_x1d</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SCIENCE | Stage 2 CAL Products:
--------------------
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs1_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00001_nrs2_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs1_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00002_nrs2_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs1_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00003_nrs2_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs1_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00004_nrs2_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs1_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00005_nrs2_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs1_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00006_nrs2_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs1_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00007_nrs2_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs1_cal.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage2/jw02729005001_02101_00008_nrs2_cal.fits
SCIENCE | Stage 2 S3D Products:
--------------------

SCIENCE | Stage 2 X1D Products:
--------------------

BACKGROUND | Stage 2 CAL Products:
--------------------

BACKGROUND | Stage 2 S3D Products:
--------------------

BACKGROUND | Stage 2 X1D Products:
--------------------
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="stage-3-spec3pipeline-calwebb-spec3">
<h2>7. Stage 3: <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_spec3</span></code>)<a class="headerlink" href="#stage-3-spec3pipeline-calwebb-spec3" title="Permalink to this heading">#</a></h2>
<p>In this section, we process our calibrated spectra from Stage 2 (<code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code>) through the Spec3 (<code class="docutils literal notranslate"><span class="pre">calwebb_spec3</span></code>) pipeline to create Stage 3 <a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/data_products/science_products.html">data products</a>.</p>
<ul class="simple">
<li><p><strong>Input</strong>: An ASN file that lists multiple calibrated exposures (<code class="docutils literal notranslate"><span class="pre">_cal.fits</span></code>) in addition to any background exposures (<code class="docutils literal notranslate"><span class="pre">_x1d.fits</span></code>).</p></li>
<li><p><strong>Output</strong>: A single calibrated product (rectified and unrectified) and 1D spectrum. These data products have units of MJy/sr (or Jy for extracted point-source spectra).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">_cal.fits</span></code>: Calibrated 2D (unrectified) spectra (ncols x nrows).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_crf.fits</span></code>: Calibrated 2D (unrectified) spectra whose DQ array has been updated to flag pixels detected as outliers (ncols x nrows).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_s3d.fits</span></code>: Resampled 3D IFU cube (ncols x nrows x nwaves).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_x1d.fits</span></code>: Extracted 1D spectroscopic data.</p></li>
</ul>
</li>
</ul>
<p>In Stage 3, single files are created for each source, one extension in the file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> performs additional corrections (e.g., outlier detection, background subtraction) and combines calibrated data from multiple exposures (e.g. a dither/nod pattern) into a single 3D spectral product, as well as a combined 1D spectrum.</p>
<hr class="docutils" />
<section id="configure-spec3pipeline">
<h3>7.1 Configure <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code><a class="headerlink" href="#configure-spec3pipeline" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> has the following steps available for NIRSpec IFU:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assign_mtwcs</span></code>: Modifies the WCS output frame in each exposure of a Moving Target (MT) observation association.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">master_background</span></code>: Master background subtraction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outlier_detection</span></code> : Identification of bad pixels or cosmic-rays that remain in each of the input images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pixel_replace</span></code>: Interpolates and estimates flux values for pixels flagged as DO_NOT_USE in 2D extracted spectra.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cube_build</span></code>: Produces 3D spectral cubes from 2D images.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extract_1d</span></code>: Extracts a 1D signal from 2D or 3D datasets.</p></li>
</ul>
<p>For more information about each step and a full list of step arguments, please refer to the official documentation: <a class="reference external" href="https://jwst-docs.stsci.edu/jwst-science-calibration-pipeline-overview/stages-of-jwst-data-processing/calwebb_spec3">JDox</a> •
<a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_spec3.html">ReadtheDocs</a></p>
<p>Below, we set up a dictionary that defines how the <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> should be configured for IFU data.</p>
<div class="alert alert-warning">
If master background subtraction was chosen above, it will be applied during this stage.</br>
To override specific steps and reference files, use the examples below. 
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up a dictionary to define how the Spec3 pipeline should be configured.</span>

<span class="c1"># -------------------------Boilerplate dictionary setup-------------------------</span>
<span class="n">spec3dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;assign_mtwcs&#39;</span><span class="p">],</span> <span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;master_background&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;outlier_detection&#39;</span><span class="p">],</span> <span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;pixel_replace&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
<span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;cube_build&#39;</span><span class="p">],</span> <span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;extract_1d&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>

<span class="c1"># ---------------------------Override reference files---------------------------</span>

<span class="c1"># Overrides for various reference files.</span>
<span class="c1"># Files should be in the base local directory or provide full path.</span>
<span class="c1">#spec3dict[&#39;extract_1d&#39;][&#39;override_extract1d&#39;] = &#39;myfile.json&#39;</span>

<span class="c1"># -----------------------------Set step parameters------------------------------</span>

<span class="c1"># Overrides for whether or not certain steps should be skipped (example).</span>
<span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;outlier_detection&#39;</span><span class="p">][</span><span class="s1">&#39;skip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># Master background usage was set up above, propagate that here.</span>
<span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;master_background&#39;</span><span class="p">][</span><span class="s1">&#39;skip&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">master_bg</span>

<span class="c1"># Run pixel replacement code to extrapolate values for otherwise bad pixels.</span>
<span class="c1"># This can help mitigate 5-10% negative dips in spectra of bright sources.</span>
<span class="c1"># Use the &#39;fit_profile&#39; algorithm.</span>
<span class="c1">#spec3dict[&#39;pixel_replace&#39;][&#39;skip&#39;] = False</span>
<span class="c1">#spec3dict[&#39;pixel_replace&#39;][&#39;n_adjacent_cols&#39;] = 5</span>
<span class="c1">#spec3dict[&#39;pixel_replace&#39;][&#39;algorithm&#39;] = &#39;fit_profile&#39;</span>

<span class="c1"># Testing found this to be a better kernel size.</span>
<span class="c1"># The kernel size must only contain odd values.</span>
<span class="n">spec3dict</span><span class="p">[</span><span class="s1">&#39;outlier_detection&#39;</span><span class="p">][</span><span class="s1">&#39;kernel_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;3 3&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="alert alert-info">
<p>As of DMS build B9.3rc1/CAL_VER 1.11.0, a new outlier detection algorithm for IFU data has been implemented. If using a pipeline version before this build, we recommend that outlier detection be skipped/turned off. To learn more about how the algorithm operates, refer to the documentation <a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/outlier_detection/outlier_detection_ifu.html#outlier-detection-ifu">here</a>.</p>
</div></section>
<hr class="docutils" />
<section id="create-spec3pipeline-association-files">
<h3>7.2 Create <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> Association Files<a class="headerlink" href="#create-spec3pipeline-association-files" title="Permalink to this heading">#</a></h3>
<p><a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/associations/level3_asn_technical.html">Stage 3 ASN files</a> for IFU data can include <code class="docutils literal notranslate"><span class="pre">science</span></code> and <code class="docutils literal notranslate"><span class="pre">background</span></code> exposure types. A Stage 3 ASN file requires at least one <code class="docutils literal notranslate"><span class="pre">science</span></code> file (there is usually more than one) but can contain multiple <code class="docutils literal notranslate"><span class="pre">background</span></code> files that enable master background subtraction in <code class="docutils literal notranslate"><span class="pre">calwebb_spec3</span></code>. <strong>Note that the science exposures should be in the <code class="docutils literal notranslate"><span class="pre">_cal.fits</span></code> format, while the background exposures must be in the <code class="docutils literal notranslate"><span class="pre">_x1d.fits</span></code> format.</strong></p>
<p>Exposures from multiple filter/grating settings can be included in the same association file, but the pipeline will treat them independently and create output products for each.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">writel3asn</span><span class="p">(</span><span class="n">scifiles</span><span class="p">,</span> <span class="n">bgfiles</span><span class="p">,</span> <span class="n">asnfile</span><span class="p">,</span> <span class="n">prodname</span><span class="p">):</span>
    <span class="c1"># Define the basic association of science files</span>
    <span class="n">asn</span> <span class="o">=</span> <span class="n">afl</span><span class="o">.</span><span class="n">asn_from_list</span><span class="p">(</span><span class="n">scifiles</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">DMS_Level3_Base</span><span class="p">,</span> <span class="n">product_name</span><span class="o">=</span><span class="n">prodname</span><span class="p">)</span>

    <span class="c1"># Add background files to the association</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">bgfiles</span><span class="p">:</span>
        <span class="n">asn</span><span class="p">[</span><span class="s1">&#39;products&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;members&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;expname&#39;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s1">&#39;exptype&#39;</span><span class="p">:</span> <span class="s1">&#39;background&#39;</span><span class="p">})</span>

    <span class="c1"># Write the association to a json file</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">serialized</span> <span class="o">=</span> <span class="n">asn</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">asnfile</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
        <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">serialized</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spec3_asn</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">asn_dir</span><span class="p">,</span> <span class="s1">&#39;l3asn.json&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">dospec3</span><span class="p">:</span>
    <span class="n">writel3asn</span><span class="p">(</span><span class="n">sci_cal</span><span class="p">,</span> <span class="n">bg_x1d</span><span class="p">,</span> <span class="n">spec3_asn</span><span class="p">,</span> <span class="s1">&#39;Level3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:05,652 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="run-spec3pipeline">
<h3>7.3 Run <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code><a class="headerlink" href="#run-spec3pipeline" title="Permalink to this heading">#</a></h3>
<p>Run the science files and, if available, any background files through the <code class="docutils literal notranslate"><span class="pre">calwebb_spec3</span></code> pipeline using the <code class="docutils literal notranslate"><span class="pre">.call()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time_spec3</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run Stage 3 pipeline using the custom spec3dict dictionary.</span>

<span class="k">if</span> <span class="n">dospec3</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applying Stage 3 Corrections &amp; Calibrations to: &quot;</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">spec3_asn</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">spec3_result</span> <span class="o">=</span> <span class="n">Spec3Pipeline</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">spec3_asn</span><span class="p">,</span> <span class="n">save_results</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="n">spec3dict</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="n">spec3_dir</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stage 3 has been completed! </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Skipping Stage 3. </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Applying Stage 3 Corrections &amp; Calibrations to: l3asn.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,234 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-outlierdetectionstep_0001.asdf    1.2 K bytes  (1 / 1 files) (0 / 1.2 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,551 - stpipe - INFO - PARS-OUTLIERDETECTIONSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-outlierdetectionstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,561 - stpipe - INFO - PARS-RESAMPLESPECSTEP parameters found: /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_pars-resamplespecstep_0001.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,581 - stpipe.Spec3Pipeline - INFO - Spec3Pipeline instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,582 - stpipe.Spec3Pipeline.assign_mtwcs - INFO - AssignMTWcsStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,583 - stpipe.Spec3Pipeline.master_background - INFO - MasterBackgroundStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,584 - stpipe.Spec3Pipeline.mrs_imatch - INFO - MRSIMatchStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,586 - stpipe.Spec3Pipeline.outlier_detection - INFO - OutlierDetectionStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,586 - stpipe.Spec3Pipeline.pixel_replace - INFO - PixelReplaceStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,588 - stpipe.Spec3Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,589 - stpipe.Spec3Pipeline.cube_build - INFO - CubeBuildStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,591 - stpipe.Spec3Pipeline.extract_1d - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,592 - stpipe.Spec3Pipeline.photom - INFO - PhotomStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,593 - stpipe.Spec3Pipeline.combine_1d - INFO - Combine1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,594 - stpipe.Spec3Pipeline.spectral_leak - INFO - SpectralLeakStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,957 - stpipe.Spec3Pipeline - INFO - Step Spec3Pipeline running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/asn/l3asn.json&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,974 - stpipe.Spec3Pipeline - INFO - Step Spec3Pipeline parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/
  output_ext: .fits
  output_use_model: False
  output_use_index: True
  save_results: True
  skip: False
  suffix: None
  search_output_file: True
  input_dir: &#39;&#39;
  steps:
    assign_mtwcs:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: assign_mtwcs
      search_output_file: True
      input_dir: &#39;&#39;
    master_background:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      median_kernel: 1
      user_background: None
      save_background: False
      force_subtract: False
    mrs_imatch:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      bkg_degree: 1
      subtract: False
    outlier_detection:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: False
      input_dir: &#39;&#39;
      weight_type: ivm
      pixfrac: 1.0
      kernel: square
      fillval: NAN
      maskpt: 0.7
      snr: 5.0 4.0
      scale: 1.2 0.7
      backg: 0.0
      kernel_size: 3 3
      threshold_percent: 99.8
      rolling_window_width: 25
      ifu_second_check: False
      save_intermediate_results: False
      resample_data: True
      good_bits: ~DO_NOT_USE
      in_memory: False
    pixel_replace:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: True
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      algorithm: fit_profile
      n_adjacent_cols: 3
    resample_spec:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      pixfrac: 1.0
      kernel: square
      fillval: NaN
      weight_type: exptime
      output_shape: None
      pixel_scale_ratio: 1.0
      pixel_scale: None
      output_wcs: &#39;&#39;
      single: False
      blendheaders: True
      in_memory: True
    cube_build:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: True
      output_use_index: True
      save_results: False
      skip: False
      suffix: s3d
      search_output_file: False
      input_dir: &#39;&#39;
      channel: all
      band: all
      grating: all
      filter: all
      output_type: None
      scalexy: 0.0
      scalew: 0.0
      weighting: drizzle
      coord_system: skyalign
      ra_center: None
      dec_center: None
      cube_pa: None
      nspax_x: None
      nspax_y: None
      rois: 0.0
      roiw: 0.0
      weight_power: 2.0
      wavemin: None
      wavemax: None
      single: False
      skip_dqflagging: False
      offset_file: None
      debug_spaxel: -1 -1 -1
    extract_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      subtract_background: None
      apply_apcorr: True
      use_source_posn: None
      smoothing_length: None
      bkg_fit: None
      bkg_order: None
      log_increment: 50
      save_profile: False
      save_scene_model: False
      center_xy: None
      ifu_autocen: False
      bkg_sigma_clip: 3.0
      ifu_rfcorr: False
      ifu_set_srctype: None
      ifu_rscale: None
      ifu_covar_scale: 1.0
      soss_atoca: True
      soss_threshold: 0.01
      soss_n_os: 2
      soss_wave_grid_in: None
      soss_wave_grid_out: None
      soss_estimate: None
      soss_rtol: 0.0001
      soss_max_grid_size: 20000
      soss_tikfac: None
      soss_width: 40.0
      soss_bad_pix: masking
      soss_modelname: None
    photom:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      inverse: False
      source_type: None
      mrs_time_correction: True
    combine_1d:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
      exptime_key: exposure_time
      sigma_clip: None
    spectral_leak:
      pre_hooks: []
      post_hooks: []
      output_file: None
      output_dir: None
      output_ext: .fits
      output_use_model: False
      output_use_index: True
      save_results: False
      skip: False
      suffix: None
      search_output_file: True
      input_dir: &#39;&#39;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:09,984 - stpipe.Spec3Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:12,705 - stpipe.Spec3Pipeline - INFO - Prefetching reference files for dataset: &#39;jw02729005001_02101_00001_nrs1_cal.fits&#39; reftypes = [&#39;apcorr&#39;, &#39;area&#39;, &#39;cubepar&#39;, &#39;extract1d&#39;, &#39;mrsptcorr&#39;, &#39;pastasoss&#39;, &#39;photom&#39;, &#39;speckernel&#39;, &#39;specprofile&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:12,708 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_apcorr_0005.asdf  177.9 K bytes  (1 / 3 files) (0 / 947.2 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,037 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_cubepar_0009.fits  656.6 K bytes  (2 / 3 files) (177.9 K / 947.2 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,362 - CRDS - INFO -  Fetching  /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_extract1d_0002.asdf  112.6 K bytes  (3 / 3 files) (834.6 K / 947.2 K bytes)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,602 - stpipe.Spec3Pipeline - INFO - Prefetch for APCORR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_apcorr_0005.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,603 - stpipe.Spec3Pipeline - INFO - Prefetch for AREA reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_area_0034.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,604 - stpipe.Spec3Pipeline - INFO - Prefetch for CUBEPAR reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_cubepar_0009.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,604 - stpipe.Spec3Pipeline - INFO - Prefetch for EXTRACT1D reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_extract1d_0002.asdf&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,605 - stpipe.Spec3Pipeline - INFO - Prefetch for MRSPTCORR reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,605 - stpipe.Spec3Pipeline - INFO - Prefetch for PASTASOSS reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,606 - stpipe.Spec3Pipeline - INFO - Prefetch for PHOTOM reference file is &#39;/home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_photom_0016.fits&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,606 - stpipe.Spec3Pipeline - INFO - Prefetch for SPECKERNEL reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,607 - stpipe.Spec3Pipeline - INFO - Prefetch for SPECPROFILE reference file is &#39;N/A&#39;.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,608 - stpipe.Spec3Pipeline - INFO - Starting calwebb_spec3 ...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:22:13,617 - stpipe.Spec3Pipeline - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/jwst/associations/association.py:215: UserWarning: Input association file contains path information; note that this can complicate usage and/or sharing of such files.
  warnings.warn(err_str, UserWarning)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:01,987 - stpipe.Spec3Pipeline.outlier_detection - INFO - Step outlier_detection running with args (&lt;jwst.datamodels.container.ModelContainer object at 0x7f24d7c943d0&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:01,988 - stpipe.Spec3Pipeline.outlier_detection - INFO - Outlier Detection mode: ifu
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:01,988 - stpipe.Spec3Pipeline.outlier_detection - INFO - Outlier Detection asn_id: a3001
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:01,989 - stpipe.Spec3Pipeline.outlier_detection - INFO - Performing IFU outlier_detection for exptype NRS_IFU
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:09,105 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3252 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:09,153 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3252 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:09,201 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3252 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:09,249 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3252 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:09,298 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3252 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:09,346 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3252 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:09,396 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3252 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:09,443 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3252 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:15,888 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3171 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:15,937 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3171 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:15,985 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3171 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:16,032 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3171 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:16,079 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3171 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:16,126 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3171 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:16,173 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3171 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:16,220 - stpipe.Spec3Pipeline.outlier_detection - INFO - Total #  pixels flagged as outliers: 3171 (0.08%)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:17,955 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00001_nrs1_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:19,512 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00001_nrs2_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:21,045 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00002_nrs1_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:22,594 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00002_nrs2_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:24,128 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00003_nrs1_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:25,664 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00003_nrs2_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:28,546 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00004_nrs1_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:30,112 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00004_nrs2_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:31,877 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00005_nrs1_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:33,455 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00005_nrs2_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:35,015 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00006_nrs1_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:36,577 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00006_nrs2_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:38,121 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00007_nrs1_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:41,063 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00007_nrs2_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:42,615 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00008_nrs1_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:44,251 - stpipe.Spec3Pipeline.outlier_detection - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00008_nrs2_a3001_crf.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:44,262 - stpipe.Spec3Pipeline.outlier_detection - INFO - Step outlier_detection done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:45,611 - stpipe.Spec3Pipeline.pixel_replace - INFO - Step pixel_replace running with args (&lt;jwst.datamodels.container.ModelContainer object at 0x7f24d7c943d0&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:45,611 - stpipe.Spec3Pipeline.pixel_replace - INFO - Step skipped.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:47,235 - stpipe.Spec3Pipeline.cube_build - INFO - Step cube_build running with args (&lt;jwst.datamodels.container.ModelContainer object at 0x7f24d7c943d0&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:47,235 - stpipe.Spec3Pipeline.cube_build - INFO - Starting IFU Cube Building Step
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:47,236 - stpipe.Spec3Pipeline.cube_build - INFO - Input interpolation: drizzle
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:47,236 - stpipe.Spec3Pipeline.cube_build - INFO - Coordinate system to use: skyalign
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:47,484 - stpipe.Spec3Pipeline.cube_build - INFO - Setting output type to: band
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:47,931 - stpipe.Spec3Pipeline.cube_build - INFO - Reading cube parameter file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_cubepar_0009.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,443 - stpipe.Spec3Pipeline.cube_build - INFO - Output Cubes are single grating, single filter IFU Cubes
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,444 - stpipe.Spec3Pipeline.cube_build - INFO - Number of IFU cubes produced by this run = 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,449 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,449 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,450 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    65  33.00  84.69515071   0.10000000  -3.25000005   3.25000005
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,450 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    65  33.00 -69.08482720   0.10000000  -3.25000005   3.25000005
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,451 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,451 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3  3610   1.00   2.87033239   0.00066500   2.86999989   5.27064988
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,452 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers grating, filter: g395h, f290lp
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:48,452 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: Level3_g395h-f290lp
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:23:53,428 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00001_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:24:13,506 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 10988 with wavelength below 2.868985543589395
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:24:43,254 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00001_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:25:03,549 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8325 with wavelength above 5.271655325367837
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:25:30,750 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00002_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:25:51,033 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 10988 with wavelength below 2.868985543589395
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:26:20,694 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00002_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:26:38,946 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8325 with wavelength above 5.271655325367837
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:27:08,033 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00003_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:27:28,344 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 10988 with wavelength below 2.868985543589395
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:27:55,859 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00003_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:28:15,892 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8325 with wavelength above 5.271655325367837
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:28:45,169 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00004_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:29:03,071 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 10988 with wavelength below 2.8689855435898277
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:29:33,229 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00004_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:29:51,200 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8325 with wavelength above 5.27165532536741
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:30:20,791 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00005_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:30:41,143 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 10988 with wavelength below 2.8689855435898277
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:31:08,734 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00005_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:31:29,409 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8325 with wavelength above 5.27165532536741
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:31:56,521 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00006_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:32:17,473 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 10988 with wavelength below 2.8689855435902594
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:32:45,215 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00006_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:33:05,825 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8325 with wavelength above 5.271655325366984
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:33:33,100 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00007_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:33:54,263 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 10988 with wavelength below 2.8689855435898277
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:34:22,090 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00007_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:34:43,315 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8325 with wavelength above 5.27165532536741
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:35:10,381 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00008_nrs1_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:35:31,817 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 10988 with wavelength below 2.8689855435902594
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:35:59,611 - stpipe.Spec3Pipeline.cube_build - INFO - Mapping each NIRSpec slice to sky for input file: jw02729005001_02101_00008_nrs2_cal.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:17,834 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8325 with wavelength above 5.271655325366984
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:40,986 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:40,987 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:41,838 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  84.692660624 -69.085716066 84.692660624 -69.083938289 84.697640799 -69.083938289 84.697640799 -69.085716066
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:42,322 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/Level3_g395h-f290lp_s3d.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:42,322 - stpipe.Spec3Pipeline.cube_build - INFO - Step cube_build done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:46,666 - stpipe.Spec3Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;jwst.datamodels.container.ModelContainer object at 0x7f24a2b23950&gt;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:46,675 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_extract1d_0002.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:46,683 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_apcorr_0005.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:46,684 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:36:46,918 - stpipe.Spec3Pipeline.extract_1d - INFO - Input model does not break out variance information. Passing only generalized errors.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:09,373 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/Level3_g395h-f290lp_x1d.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:09,374 - stpipe.Spec3Pipeline.extract_1d - INFO - Step extract_1d done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:09,393 - stpipe.Spec3Pipeline - INFO - Ending calwebb_spec3
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:09,397 - stpipe.Spec3Pipeline - INFO - Step Spec3Pipeline done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:09,398 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Stage 3 has been completed! 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print out the time benchmarks.</span>
<span class="n">time4</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime so far: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time4</span><span class="o">-</span><span class="n">time0</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime for Spec3: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time4</span><span class="o">-</span><span class="n">time_spec3</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Runtime so far: 50.6000 min
Runtime for Spec3: 15.1000 min
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List the Stage 3 products.</span>

<span class="n">stage3_cal</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec3_dir</span> <span class="o">+</span> <span class="s1">&#39;*_crf.fits&#39;</span><span class="p">))</span>
<span class="n">stage3_s3d</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec3_dir</span> <span class="o">+</span> <span class="s1">&#39;*_s3d.fits&#39;</span><span class="p">))</span>
<span class="n">stage3_x1d</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec3_dir</span> <span class="o">+</span> <span class="s1">&#39;*_x1d.fits&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stage 3 CAL Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stage3_cal</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stage 3 S3D Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stage3_s3d</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stage 3 X1D Products:</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">20</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stage3_x1d</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Stage 3 CAL Products:
--------------------
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00001_nrs1_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00001_nrs2_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00002_nrs1_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00002_nrs2_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00003_nrs1_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00003_nrs2_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00004_nrs1_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00004_nrs2_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00005_nrs1_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00005_nrs2_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00006_nrs1_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00006_nrs2_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00007_nrs1_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00007_nrs2_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00008_nrs1_a3001_crf.fits
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jw02729005001_02101_00008_nrs2_a3001_crf.fits
Stage 3 S3D Products:
--------------------
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/Level3_g395h-f290lp_s3d.fits
Stage 3 X1D Products:
--------------------
/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/Level3_g395h-f290lp_x1d.fits
</pre></div>
</div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="visualize-the-data">
<h2>8. Visualize the Data<a class="headerlink" href="#visualize-the-data" title="Permalink to this heading">#</a></h2>
<p>Define convenience funcitons for visualization.</p>
<p>Function to display Stage 1 products.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">display_rate</span><span class="p">(</span><span class="n">rates</span><span class="p">,</span>
                 <span class="n">slits_models</span><span class="o">=</span><span class="p">[],</span>
                 <span class="n">integration</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">extname</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                 <span class="n">bad_color</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span>
                 <span class="n">vmin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">vmax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;asinh&#39;</span><span class="p">,</span>
                 <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
                 <span class="n">title_prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">title_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">save_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display countrate images.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rates : list of str</span>
<span class="sd">        A list of RATE[INTS] files to be displayed.</span>
<span class="sd">    slits_models : list of str, optional</span>
<span class="sd">        A list of CAL[INTS] or S2D files containing the slit models.</span>
<span class="sd">        If provided, slit cutouts will be overlaid on the countrate images.</span>
<span class="sd">    integration : {None, &#39;min&#39;, int}, optional</span>
<span class="sd">        Specifies the integration to use for multi-integration data.</span>
<span class="sd">        If &#39;min&#39;, the minimum value across all integrations is used.</span>
<span class="sd">        If an integer, the specific integration index is used (default 0).</span>
<span class="sd">    extname : str, optional</span>
<span class="sd">        The name of the data extension to extract from (&#39;data&#39;, &#39;dq&#39;, etc.).</span>
<span class="sd">    cmap : str, optional</span>
<span class="sd">        Colormap to use for displaying the image. Default is &#39;viridis&#39;.</span>
<span class="sd">    bad_color : tuple of float, optional</span>
<span class="sd">        Color to use for NaN pixels. Default is light red (1, 0.7, 0.7).</span>
<span class="sd">    vmin : float, optional</span>
<span class="sd">        Minimum value for color scaling. If None, determined from the data.</span>
<span class="sd">    vmax : float, optional</span>
<span class="sd">        Maximum value for color scaling. If None, determined from the data.</span>
<span class="sd">    scale : {&#39;linear&#39;, &#39;log&#39;, &#39;asinh&#39;}, optional</span>
<span class="sd">        Scale to use for the image normalization. Default is &#39;asinh&#39;.</span>
<span class="sd">    aspect : str, optional</span>
<span class="sd">        Aspect ratio of the plot. Default is &#39;auto&#39;.</span>
<span class="sd">    title_prefix : str, optional</span>
<span class="sd">        Optional prefix for the plot title.</span>
<span class="sd">    title_path : bool, optional</span>
<span class="sd">        If True, uses the full file path for the title;</span>
<span class="sd">        otherwise, uses the basename. Default is False.</span>
<span class="sd">    save_plot : bool, optional</span>
<span class="sd">        If True, saves the plot as a PNG file. Default is False.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># -------------------------------Check Inputs-------------------------------</span>
    <span class="n">rates</span> <span class="o">=</span> <span class="p">[</span><span class="n">rates</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rates</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">rates</span>
    <span class="n">slits_models</span> <span class="o">=</span> <span class="p">[</span><span class="n">slits_models</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">slits_models</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">slits_models</span>
    <span class="n">nrates</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rates</span><span class="p">)</span>

    <span class="c1"># ------------------------------Set up figures------------------------------</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrates</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span> <span class="o">*</span> <span class="n">nrates</span><span class="p">),</span>
                             <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">nrates</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="n">axes</span><span class="p">]</span> <span class="k">if</span> <span class="n">nrates</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">axes</span>

    <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>  <span class="c1"># Set up colormap and bad pixel color.</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_bad</span><span class="p">(</span><span class="n">bad_color</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

    <span class="c1"># ---------------------------Plot countrate image---------------------------</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">rate</span><span class="p">,</span> <span class="n">cal</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">zip_longest</span><span class="p">(</span><span class="n">rates</span><span class="p">,</span>
                                                          <span class="n">slits_models</span><span class="p">,</span>
                                                          <span class="n">fillvalue</span><span class="o">=</span><span class="kc">None</span><span class="p">)):</span>

        <span class="c1"># -------------------Open files as JWST datamodels-------------------</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span>
        <span class="n">slits_model</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">cal</span><span class="p">)</span> <span class="k">if</span> <span class="n">cal</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="c1"># -----------------------Extract the 2D/3D data----------------------</span>
        <span class="n">data_2d</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">extname</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">data_2d</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># Handle multi-integration data.</span>
            <span class="k">if</span> <span class="n">integration</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
                <span class="n">data_2d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">data_2d</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">integration</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">integration</span> <span class="o">&lt;</span> <span class="n">data_2d</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">data_2d</span> <span class="o">=</span> <span class="n">data_2d</span><span class="p">[</span><span class="n">integration</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid integration &#39;</span><span class="si">{</span><span class="n">integration</span><span class="si">}</span><span class="s2">&#39; for 3D data.&quot;</span><span class="p">)</span>

        <span class="c1"># ---------------------------Scale the data-------------------------</span>
        <span class="n">sigma_clipped_data</span> <span class="o">=</span> <span class="n">sigma_clip</span><span class="p">(</span><span class="n">data_2d</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">maxiters</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">vmin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">sigma_clipped_data</span><span class="p">)</span> <span class="k">if</span> <span class="n">vmin</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">vmin</span>
        <span class="n">vmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">sigma_clipped_data</span><span class="p">)</span> <span class="k">if</span> <span class="n">vmax</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">vmax</span>
        <span class="n">stretch_map</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;log&#39;</span><span class="p">:</span> <span class="n">LogStretch</span><span class="p">(),</span> <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="n">LinearStretch</span><span class="p">(),</span>
                       <span class="s1">&#39;asinh&#39;</span><span class="p">:</span> <span class="n">AsinhStretch</span><span class="p">()}</span>
        <span class="k">if</span> <span class="n">scale</span> <span class="ow">in</span> <span class="n">stretch_map</span><span class="p">:</span>
            <span class="n">norm</span> <span class="o">=</span> <span class="n">ImageNormalize</span><span class="p">(</span><span class="n">sigma_clipped_data</span><span class="p">,</span>
                                  <span class="n">interval</span><span class="o">=</span><span class="n">ManualInterval</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">),</span>
                                  <span class="n">stretch</span><span class="o">=</span><span class="n">stretch_map</span><span class="p">[</span><span class="n">scale</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">norm</span> <span class="o">=</span> <span class="n">simple_norm</span><span class="p">(</span><span class="n">sigma_clipped_data</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">)</span>

        <span class="c1"># ----------------Plot the countrate image &amp; colorbar---------------</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.85</span><span class="p">)</span>
        <span class="n">im</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">data_2d</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span>
                            <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="n">aspect</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
        <span class="n">units</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">bunit_data</span>
        <span class="n">cbar_ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">x1</span> <span class="o">+</span> <span class="mf">0.02</span><span class="p">,</span>
                                <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">y0</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span>
                                <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_position</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">])</span>
        <span class="n">cbar</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">cax</span><span class="o">=</span><span class="n">cbar_ax</span><span class="p">)</span>
        <span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">units</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

        <span class="c1"># -----------------Draw slits and label source ids------------------</span>
        <span class="c1"># slits_model can be s2d/cal from spec2 - contains slit models for all sources.</span>
        <span class="k">if</span> <span class="n">slits_model</span><span class="p">:</span>
            <span class="n">slit_patches</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">slit</span> <span class="ow">in</span> <span class="n">slits_model</span><span class="o">.</span><span class="n">slits</span><span class="p">:</span>
                <span class="n">slit_patch</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">((</span><span class="n">slit</span><span class="o">.</span><span class="n">xstart</span><span class="p">,</span> <span class="n">slit</span><span class="o">.</span><span class="n">ystart</span><span class="p">),</span>
                                       <span class="n">slit</span><span class="o">.</span><span class="n">xsize</span><span class="p">,</span> <span class="n">slit</span><span class="o">.</span><span class="n">ysize</span><span class="p">)</span>
                <span class="n">slit_patches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">slit_patch</span><span class="p">)</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">slit</span><span class="o">.</span><span class="n">ystart</span> <span class="o">+</span> <span class="n">slit</span><span class="o">.</span><span class="n">ysize</span> <span class="o">/</span> <span class="mi">2</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">slit</span><span class="o">.</span><span class="n">xstart</span> <span class="k">if</span> <span class="s1">&#39;nrs1&#39;</span> <span class="ow">in</span> <span class="n">rate</span> <span class="k">else</span> <span class="n">slit</span><span class="o">.</span><span class="n">xstart</span> <span class="o">+</span> <span class="n">slit</span><span class="o">.</span><span class="n">xsize</span>
                <span class="n">ha</span> <span class="o">=</span> <span class="s1">&#39;right&#39;</span> <span class="k">if</span> <span class="s1">&#39;nrs1&#39;</span> <span class="ow">in</span> <span class="n">rate</span> <span class="k">else</span> <span class="s1">&#39;left&#39;</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">slit</span><span class="o">.</span><span class="n">source_id</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="n">ha</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                         <span class="n">fontsize</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">path_effects</span><span class="o">=</span><span class="p">[],</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
            <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">add_collection</span><span class="p">(</span><span class="n">PatchCollection</span><span class="p">(</span><span class="n">slit_patches</span><span class="p">,</span> <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">))</span>

        <span class="c1"># -----------------Construct title and axis labels------------------</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">filename</span>
        <span class="n">title</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">title_prefix</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">title_prefix</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
                 <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filename</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">title_path</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">integration</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;rateints&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;rateints[</span><span class="si">{</span><span class="n">integration</span><span class="si">}</span><span class="s1">]&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Pixel Column&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Pixel Row&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

        <span class="c1"># -------------------------Save the figure?-------------------------</span>
        <span class="k">if</span> <span class="n">save_plot</span><span class="p">:</span>
            <span class="n">save_plot</span> <span class="o">=</span> <span class="n">rate</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;fits&#39;</span><span class="p">,</span> <span class="s1">&#39;png&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">integration</span><span class="p">:</span>
                <span class="n">save_plot</span> <span class="o">=</span> <span class="n">save_plot</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.png&#39;</span> <span class="o">%</span> <span class="n">integration</span><span class="p">)</span>
            <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">save_plot</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>

        <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Function to display the IFU cubes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">show_ifu_cubeslices</span><span class="p">(</span><span class="n">s3d_product</span><span class="p">,</span>
                        <span class="n">wavelengths</span><span class="p">,</span>
                        <span class="n">spaxel_loc</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                        <span class="n">vmin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">vmax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                        <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                        <span class="n">save_figure</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to that takes a 3D IFU data cube and generates:</span>

<span class="sd">    &gt; 2D cube slices based on wavelength (microns).</span>
<span class="sd">    &gt; Associated 1D spectrum for a designated spaxel (spatial pixel) in the data cube.</span>
<span class="sd">    &gt; Corresponding 3D weight image giving the relative weights of the output spaxels.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    s3d_product : list of str</span>
<span class="sd">        3D IFU data cube FITS file.</span>
<span class="sd">    wavelengths : list of float</span>
<span class="sd">        List of wavelength values (microns) at which to create 2D slices.</span>
<span class="sd">    spaxel_loc: tuple</span>
<span class="sd">        List of spaxel location in which to plot the associated 1D spectrum.</span>
<span class="sd">    cmap: str</span>
<span class="sd">        Color Map.</span>
<span class="sd">    vmin, vmax : float, float</span>
<span class="sd">        Minimum &amp; Maximum signal value to use for scaling.</span>
<span class="sd">    title : str, optional</span>
<span class="sd">        Figure Title. Default is None.</span>
<span class="sd">    save_figure : bool, optional</span>
<span class="sd">        Save figure?</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># ------------------------------ Set up figure ------------------------------</span>

    <span class="n">num_wavelengths</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">)</span> <span class="k">if</span> <span class="n">wavelengths</span> <span class="k">else</span> <span class="mi">1</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_wavelengths</span><span class="p">),</span> <span class="mi">18</span><span class="p">))</span>
    <span class="n">gs</span> <span class="o">=</span> <span class="n">grd</span><span class="o">.</span><span class="n">GridSpec</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">num_wavelengths</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
                      <span class="n">height_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">,</span> <span class="n">width_ratios</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">num_wavelengths</span><span class="p">))</span>

    <span class="n">cmap_custom</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">LinearSegmentedColormap</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;darkred&quot;</span><span class="p">,</span>
                                                                   <span class="s2">&quot;darkturquoise&quot;</span><span class="p">,</span>
                                                                   <span class="s2">&quot;blue&quot;</span><span class="p">])</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num_wavelengths</span><span class="p">))</span>

    <span class="n">plot_count</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># ---------------------------- Extract Cube Data ---------------------------</span>

    <span class="n">root</span> <span class="o">=</span> <span class="n">s3d_product</span><span class="p">[:</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span>  <span class="c1"># Root file name.</span>
    <span class="n">s3d</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">s3d_product</span><span class="p">)</span>  <span class="c1"># 3D IFU data cube.</span>
    <span class="n">x1d3</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">root</span> <span class="o">+</span> <span class="s1">&#39;_x1d.fits&#39;</span><span class="p">)</span>  <span class="c1"># 1D extracted spectrum.</span>
    <span class="n">x1d3wave</span> <span class="o">=</span> <span class="n">x1d3</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">spec_table</span><span class="o">.</span><span class="n">WAVELENGTH</span>
    <span class="n">cube</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">data</span>

    <span class="c1"># World Coordinate System (WCS) Transformation keywords.</span>
    <span class="n">wcs</span> <span class="o">=</span> <span class="n">WCS</span><span class="p">(</span><span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">s3d_product</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
    <span class="c1"># wcs = s3d.meta.wcs  # WCS transformation.</span>
    <span class="n">wmap</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">weightmap</span>  <span class="c1"># 3D weight image.</span>
    <span class="n">cdelt3</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">wcsinfo</span><span class="o">.</span><span class="n">cdelt3</span>  <span class="c1"># Axis 3 coordinate increment at reference point.</span>
    <span class="n">crval3</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">wcsinfo</span><span class="o">.</span><span class="n">crval3</span>  <span class="c1"># Third axis value at the reference pixel.</span>
    <span class="c1"># detector = s3d.meta.instrument.detector</span>
    <span class="n">grating</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">grating</span>
    <span class="n">ffilter</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">filter</span>
    <span class="c1"># bunit = s3d.meta.bunit_data</span>

    <span class="c1"># Wavelength range of the grating/filter combination.</span>
    <span class="n">wavstart</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">wcsinfo</span><span class="o">.</span><span class="n">waverange_start</span>
    <span class="n">wavend</span> <span class="o">=</span> <span class="n">s3d</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">wcsinfo</span><span class="o">.</span><span class="n">waverange_end</span>

    <span class="c1"># Loop through each wavelength slices.</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">wslice</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">):</span>

        <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">wavstart</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">wslice</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">6</span> <span class="o">&lt;=</span> <span class="nb">float</span><span class="p">(</span><span class="n">wavend</span><span class="p">):</span>

            <span class="c1"># ------------------------- Plot wavelength slice -------------------------</span>
            <span class="n">nslice</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">wslice</span> <span class="o">-</span> <span class="n">crval3</span><span class="p">)</span><span class="o">/</span><span class="n">cdelt3</span><span class="p">)</span>  <span class="c1"># The slice of the cube.</span>
            <span class="n">slice_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">cube</span><span class="p">[(</span><span class="n">nslice</span><span class="o">-</span><span class="mi">2</span><span class="p">):(</span><span class="n">nslice</span><span class="o">+</span><span class="mi">2</span><span class="p">),</span> <span class="p">:,</span> <span class="p">:],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">vmin</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">vmax</span><span class="p">:</span>
                <span class="n">vmin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">slice_mean</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                <span class="n">vmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">slice_mean</span><span class="p">,</span> <span class="mi">98</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">vmin</span> <span class="o">&lt;</span> <span class="o">-</span><span class="n">vmax</span><span class="p">:</span>
                    <span class="n">vmin</span> <span class="o">=</span> <span class="o">-</span><span class="n">vmax</span>
            <span class="n">slice_norm</span> <span class="o">=</span> <span class="n">ImageNormalize</span><span class="p">(</span><span class="n">slice_mean</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span>
                                        <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="n">AsinhStretch</span><span class="p">())</span>
            <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">plot_count</span><span class="p">],</span> <span class="n">projection</span><span class="o">=</span><span class="n">wcs</span><span class="p">,</span> <span class="n">slices</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">nslice</span><span class="p">))</span>
            <span class="n">slice_image</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">slice_mean</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">slice_norm</span><span class="p">,</span>
                                     <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
            <span class="n">cb_image</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">slice_image</span><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">)</span>
            <span class="n">cb_image</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;MJy/sr&#39;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
            <span class="n">cb_image</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
            <span class="n">cb_image</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_offset_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

            <span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;RA&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
            <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;DEC&#39;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
            <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">s3d_product</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Grating/Filter: </span><span class="si">{</span><span class="n">grating</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">ffilter</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">wslice</span><span class="si">}</span><span class="s2"> microns&quot;</span><span class="p">,</span>
                <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
            <span class="n">ax1</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
            <span class="n">ax1</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ticklabel</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>

            <span class="c1"># ------------------------- Plot spaxel spectrum -------------------------</span>
            <span class="c1"># Zoom in on a Spaxel: Spectrum</span>
            <span class="n">x1d3flux_loc</span> <span class="o">=</span> <span class="n">cube</span><span class="p">[:,</span> <span class="n">spaxel_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">spaxel_loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="n">ax2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="n">num_wavelengths</span> <span class="o">+</span> <span class="n">plot_count</span><span class="p">])</span>

            <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1d3wave</span><span class="p">,</span> <span class="n">x1d3flux_loc</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">spaxel_rect</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">((</span><span class="n">spaxel_loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mf">.5</span><span class="p">,</span> <span class="n">spaxel_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mf">.5</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                                        <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">ax1</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">spaxel_rect</span><span class="p">)</span>

            <span class="n">ax2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$</span><span class="se">\u03BB</span><span class="s1"> [</span><span class="se">\u03BC</span><span class="s1">$m]&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Surface Brightness </span><span class="se">\n</span><span class="s2"> (MJy/sr)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Spaxel at (x, y)=&#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">spaxel_loc</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_offset_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>

            <span class="c1"># ------------------------- Plot weight slice -------------------------</span>
            <span class="c1"># Corresponding Weight Map (wmap) for cube slice.</span>
            <span class="n">ax3</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">num_wavelengths</span> <span class="o">+</span> <span class="n">plot_count</span><span class="p">],</span>
                              <span class="n">projection</span><span class="o">=</span><span class="n">wcs</span><span class="p">,</span> <span class="n">slices</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">nslice</span><span class="p">))</span>
            <span class="n">slice_mean_wmap</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">wmap</span><span class="p">[(</span><span class="n">nslice</span><span class="o">-</span><span class="mi">2</span><span class="p">):(</span><span class="n">nslice</span><span class="o">+</span><span class="mi">2</span><span class="p">),</span> <span class="p">:,</span> <span class="p">:],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">slice_norm_wmap</span> <span class="o">=</span> <span class="n">ImageNormalize</span><span class="p">(</span><span class="n">slice_mean_wmap</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="n">AsinhStretch</span><span class="p">())</span>
            <span class="n">slice_wmap</span> <span class="o">=</span> <span class="n">ax3</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">slice_mean_wmap</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">slice_norm_wmap</span><span class="p">,</span>
                                    <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
            <span class="n">cb_wmap</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">slice_wmap</span><span class="p">,</span> <span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">)</span>
            <span class="n">cb_wmap</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Weight&#39;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
            <span class="n">cb_wmap</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
            <span class="n">cb_wmap</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_offset_text</span><span class="p">()</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

            <span class="n">ax3</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;RA&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
            <span class="n">ax3</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;DEC&#39;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
            <span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">wslice</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; microns: Weight Map&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
            <span class="n">ax3</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
            <span class="n">ax3</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ticklabel</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
            <span class="c1"># Scale information.</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">x1d3flux_loc</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                         <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">x1d3flux_loc</span><span class="p">,</span> <span class="mi">98</span><span class="p">))</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="mf">0.5</span><span class="o">/</span><span class="n">ax2</span><span class="o">.</span><span class="n">get_data_ratio</span><span class="p">())</span>
            <span class="n">plot_count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.98</span><span class="p">,</span> <span class="mf">0.98</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">save_figure</span><span class="p">:</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">root</span><span class="o">+</span><span class="s2">&quot;.png&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<section id="display-detector1pipeline-products">
<h3>8.1 Display <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> Products<a class="headerlink" href="#display-detector1pipeline-products" title="Permalink to this heading">#</a></h3>
<p>Inspect the Stage 1 slope products.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rate_file</span> <span class="o">=</span> <span class="n">rate_sci</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Show the last rate file, as an example.</span>
<span class="n">display_rate</span><span class="p">(</span><span class="n">rate_file</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;asinh&#39;</span><span class="p">,</span>
             <span class="n">aspect</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">title_prefix</span><span class="o">=</span><span class="s1">&#39;REPROCESSED&#39;</span><span class="p">)</span>  <span class="c1"># , extname=&#39;dq&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:09,560 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/astropy/stats/sigma_clipping.py:407: AstropyUserWarning: Input data contains invalid values (NaNs or infs), which were automatically clipped.
  warnings.warn(
</pre></div>
</div>
<img alt="../../../_images/962c3e9599f016a37e211af84837c2fe3cc942ea3d2c28fff0a088ef4466a2b3.png" src="../../../_images/962c3e9599f016a37e211af84837c2fe3cc942ea3d2c28fff0a088ef4466a2b3.png" />
</div>
</div>
</section>
<hr class="docutils" />
<section id="display-spec3pipeline-products">
<h3>8.2 Display <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> Products<a class="headerlink" href="#display-spec3pipeline-products" title="Permalink to this heading">#</a></h3>
<p>Inspect the Stage 3 combined calibrated spectra.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stage3_s3d</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/Level3_g395h-f290lp_s3d.fits&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cube</span> <span class="o">=</span> <span class="n">stage3_s3d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Show the last cube file, as an example.</span>
<span class="n">x1d_file</span> <span class="o">=</span> <span class="n">stage3_x1d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">hdu</span> <span class="o">=</span> <span class="n">fits</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">x1d_file</span><span class="p">)</span>
<span class="n">wavetemp</span> <span class="o">=</span> <span class="n">hdu</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;wavelength&#39;</span><span class="p">]</span>
<span class="n">wavemin</span><span class="p">,</span> <span class="n">wavemax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">wavetemp</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">wavetemp</span><span class="p">)</span>
<span class="n">hdu</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Define parameters for the plot.</span>
<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Level 3 IFU Product: 3D Cube Slices vs. Corresponding 3D Weighted Map&#39;</span>

<span class="c1"># Slices may be blank if the spectrum falls on the other detector at that wavelength.</span>
<span class="n">wavelengths</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span>  <span class="c1"># Wavelength slices (um) to take from the 3D data cube.</span>
<span class="c1"># If all wavelengths are outside cube range, use a default wavelength 1/8 through the range for display</span>
<span class="k">if</span> <span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">wavemax</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">wavemin</span><span class="p">)):</span>
    <span class="n">wavelengths</span> <span class="o">=</span> <span class="p">[</span><span class="n">wavemin</span> <span class="o">+</span> <span class="mf">0.125</span> <span class="o">*</span> <span class="p">(</span><span class="n">wavemax</span> <span class="o">-</span> <span class="n">wavemin</span><span class="p">)]</span>
<span class="n">spaxel_loc</span> <span class="o">=</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">29</span><span class="p">]</span>  <span class="c1"># Spaxel locations for associated 1D spectrum [x, y].</span>

<span class="n">show_ifu_cubeslices</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="n">wavelengths</span><span class="o">=</span><span class="n">wavelengths</span><span class="p">,</span>
                    <span class="n">spaxel_loc</span><span class="o">=</span><span class="n">spaxel_loc</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;REPROCESSED &#39;</span><span class="o">+</span><span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:11,348 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/astropy/wcs/wcs.py:805: FITSFixedWarning: &#39;datfix&#39; made the change &#39;Set DATE-BEG to &#39;2022-06-20T20:32:00.974&#39; from MJD-BEG.
Set DATE-AVG to &#39;2022-06-20T20:44:39.664&#39; from MJD-AVG.
Set DATE-END to &#39;2022-06-20T20:57:18.330&#39; from MJD-END&#39;.
  warnings.warn(
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:11,349 - stpipe - WARNING - /opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/astropy/wcs/wcs.py:805: FITSFixedWarning: &#39;obsfix&#39; made the change &#39;Set OBSGEO-L to   -75.103530 from OBSGEO-[XYZ].
Set OBSGEO-B to   -36.557942 from OBSGEO-[XYZ].
Set OBSGEO-H to 1724200998.176 from OBSGEO-[XYZ]&#39;.
  warnings.warn(
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:23,952 - stpipe - WARNING - /tmp/ipykernel_2218/3016823473.py:156: UserWarning: This figure includes Axes that are not compatible with tight_layout, so results might be incorrect.
  fig.tight_layout(rect=[0, 0, 0.98, 0.98])
</pre></div>
</div>
<img alt="../../../_images/d9260320c85d07f53d0aaab1486842f5253f6579780ec323aeb2be0a74c198fb.png" src="../../../_images/d9260320c85d07f53d0aaab1486842f5253f6579780ec323aeb2be0a74c198fb.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>

<span class="n">x1d</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">x1d_file</span><span class="p">)</span>
<span class="n">x1d_wave</span> <span class="o">=</span> <span class="n">x1d</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">spec_table</span><span class="o">.</span><span class="n">WAVELENGTH</span>
<span class="n">x1d_flux</span> <span class="o">=</span> <span class="n">x1d</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">spec_table</span><span class="o">.</span><span class="n">FLUX</span>
<span class="n">grating</span> <span class="o">=</span> <span class="n">x1d</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">grating</span>
<span class="n">ffilter</span> <span class="o">=</span> <span class="n">x1d</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">filter</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1d_wave</span><span class="p">,</span> <span class="n">x1d_flux</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;REPROCESSED (</span><span class="si">{</span><span class="n">grating</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">ffilter</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">wave</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">wave</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">x1d_flux</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">x1d_flux</span><span class="p">,</span> <span class="mi">98</span><span class="p">),</span>
               <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">wave</span><span class="si">}</span><span class="s1"> microns&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Wavelength (μm)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Flux (Jy)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Level 3 IFU Product: Extracted 1D Spectrum&quot;</span><span class="p">,</span>
          <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">x1d_flux</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">x1d_flux</span><span class="p">,</span> <span class="mi">98</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7f245d9d0750&gt;
</pre></div>
</div>
<img alt="../../../_images/df5ea3dff7b69b95e1cb7fb2bcbb891195ca507d18af5bec7b29038a015f625b.png" src="../../../_images/df5ea3dff7b69b95e1cb7fb2bcbb891195ca507d18af5bec7b29038a015f625b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time5</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime so far: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time5</span><span class="o">-</span><span class="n">time0</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Runtime so far: 50.8000 min
</pre></div>
</div>
</div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="modifying-the-extract1d-reference-file-as-needed">
<h2>9. Modifying the EXTRACT1D Reference File (as needed)<a class="headerlink" href="#modifying-the-extract1d-reference-file-as-needed" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">extract_1d</span></code> step is controlled by a different set of parameters in the EXTRACT1D reference file for extended vs. point source IFU data.</p>
<p><a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/extract_1d/description.html">Extraction for 3D IFU Data:</a></p>
<blockquote>
<div><ul class="simple">
<li><p>For extended sources, rectangular aperture photometry is used, with the entire image extracted and no background subtraction, regardless of what is specified in the reference file or step arguments.</p></li>
<li><p>For point source data, the extraction aperture is centered at the RA/DEC target location indicated by the header. If the target location is undefined in the header, then the extraction region is the center of the IFU cube.</p></li>
<li><p>For point sources, a circular extraction aperture is used, along with an optional circular annulus for background extraction and subtraction. The size of the extraction region and the background annulus size varies with wavelength. The extraction-related vectors are found in the ASDF EXTRACT1D reference file. For each element in the wavelength vector, there are three size components: <code class="docutils literal notranslate"><span class="pre">radius</span></code>, <code class="docutils literal notranslate"><span class="pre">inner_bkg</span></code>, and <code class="docutils literal notranslate"><span class="pre">outer_bkg</span></code>. The radius vector sets the extraction size while <code class="docutils literal notranslate"><span class="pre">inner_bkg</span></code> and <code class="docutils literal notranslate"><span class="pre">outer_bkg</span></code> specify the limits of an annular background aperture.</p></li>
</ul>
</div></blockquote>
<p>Below is an example of how to modify the EXTRACT1D reference file for point sources. More information about this file and how to modify it in <a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/extract_1d">extract_1d</a> and
<a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/extract_1d/reference_files.html#editing-json-reference-file-format-for-non-ifu-data">Editing JSON reference file</a>.</p>
<div class="alert alert-block alert-info">
<p>The <code class="docutils literal notranslate"><span class="pre">ifu_autocen</span></code> parameter provides a new method to center on the point sources even if the header information is imperfect due to inaccuracies caused by, e.g., FGS.</p>
</div>
<div class="alert alert-block alert-danger">
<p><strong>Warning</strong>: Currently, there is no aperture correction in place for NIRSpec, so the <code class="docutils literal notranslate"><span class="pre">radius</span></code> parameter <strong>MUST</strong> remain unchanged for point source to ensure proper flux calibration!</p>
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># If you don&#39;t know the reference file name this should work.</span>
<span class="c1">#extract_1d_ref = Spec3Pipeline().get_reference_file(stage3_s3d, &#39;extract1d&#39;)</span>

<span class="n">refs</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">dump_references</span><span class="p">(</span><span class="n">crds_client</span><span class="o">.</span><span class="n">get_context_used</span><span class="p">(</span><span class="s1">&#39;jwst&#39;</span><span class="p">),</span>
                           <span class="p">[</span><span class="s1">&#39;jwst_nirspec_extract1d_0002.asdf&#39;</span><span class="p">])</span>
<span class="n">extract_1d_ref</span> <span class="o">=</span> <span class="n">refs</span><span class="p">[</span><span class="s1">&#39;jwst_nirspec_extract1d_0002.asdf&#39;</span><span class="p">]</span>

<span class="c1"># Construct the modified file name</span>
<span class="n">basename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">extract_1d_ref</span><span class="p">)[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>  <span class="c1"># Remove &quot;.asdf&quot;</span>
<span class="n">extract_1d_ref_mod</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">spec3_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">basename</span><span class="si">}</span><span class="s2">_demo.asdf&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Original x1d reference file&#39;</span><span class="p">,</span> <span class="n">extract_1d_ref</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Modified x1d reference file&#39;</span><span class="p">,</span> <span class="n">extract_1d_ref_mod</span><span class="p">)</span>

<span class="c1"># Open the original ASDF file, modify it, and save the modified version</span>
<span class="c1"># in your current directory.</span>
<span class="k">with</span> <span class="n">asdf</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">extract_1d_ref</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ref_file</span><span class="p">:</span>
    <span class="c1"># Create a copy of the original tree</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="n">ref_file</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># Modify the tree.</span>
    <span class="n">tree</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;radius&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">2048</span><span class="p">,),</span> <span class="mf">0.45</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
    <span class="n">tree</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;inner_bkg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">2048</span><span class="p">,),</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>
    <span class="n">tree</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;outer_bkg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">2048</span><span class="p">,),</span> <span class="mf">1.2</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">)</span>

    <span class="c1"># Save the modified tree to a new file.</span>
    <span class="k">with</span> <span class="n">asdf</span><span class="o">.</span><span class="n">AsdfFile</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="k">as</span> <span class="n">new_file</span><span class="p">:</span>
        <span class="n">new_file</span><span class="o">.</span><span class="n">write_to</span><span class="p">(</span><span class="n">extract_1d_ref_mod</span><span class="p">,</span> <span class="n">all_array_storage</span><span class="o">=</span><span class="s1">&#39;inline&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Original x1d reference file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_extract1d_0002.asdf
Modified x1d reference file /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jwst_nirspec_extract1d_0002_demo.asdf
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check modified file contents.</span>
<span class="k">with</span> <span class="n">asdf</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">extract_1d_ref_mod</span><span class="p">)</span> <span class="k">as</span> <span class="n">ref_file</span><span class="p">:</span>
    <span class="c1"># Pretty-print the ASDF tree structure.</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">ref_file</span><span class="o">.</span><span class="n">tree</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;asdf_library&#39;: {&#39;author&#39;: &#39;The ASDF Developers&#39;,
                  &#39;homepage&#39;: &#39;http://github.com/asdf-format/asdf&#39;,
                  &#39;name&#39;: &#39;asdf&#39;,
                  &#39;version&#39;: &#39;4.1.0&#39;},
 &#39;data&#39;: {&#39;inner_bkg&#39;: array([1., 1., 1., ..., 1., 1., 1.], dtype=float32),
          &#39;inner_bkg_units&#39;: &#39;arcsec&#39;,
          &#39;outer_bkg&#39;: array([1.2, 1.2, 1.2, ..., 1.2, 1.2, 1.2], dtype=float32),
          &#39;outer_bkg_units&#39;: &#39;arcsec&#39;,
          &#39;radius&#39;: array([0.45, 0.45, 0.45, ..., 0.45, 0.45, 0.45], dtype=float32),
          &#39;radius_units&#39;: &#39;arcsec&#39;,
          &#39;wavelength&#39;: array([0.6       , 0.60229605, 0.6045921 , ..., 5.2954082 , 5.297704  ,
       5.3       ], dtype=float32),
          &#39;wavelength_units&#39;: &#39;micron&#39;},
 &#39;history&#39;: {&#39;entries&#39;: [{&#39;description&#39;: &#39;Update to asdf format as per JIRA &#39;
                                         &#39;issue JP-1730&#39;,
                          &#39;time&#39;: datetime.datetime(2020, 12, 18, 23, 4, 39)},
                         {&#39;description&#39;: &#39;Update parameters to match &#39;
                                         &#39;instrument model&#39;,
                          &#39;time&#39;: datetime.datetime(2023, 8, 25, 14, 39)}],
             &#39;extensions&#39;: [{&#39;extension_class&#39;: &#39;asdf.extension._manifest.ManifestExtension&#39;,
                             &#39;extension_uri&#39;: &#39;asdf://asdf-format.org/core/extensions/core-1.6.0&#39;,
                             &#39;manifest_software&#39;: {...},
                             &#39;software&#39;: {...}}]},
 &#39;meta&#39;: {&#39;author&#39;: &#39;NIRSpec team&#39;,
          &#39;description&#39;: &#39;Revised EXTRACT1D reference file for IFU&#39;,
          &#39;exposure&#39;: {&#39;type&#39;: &#39;NRS_IFU&#39;},
          &#39;instrument&#39;: {&#39;lamp_mode&#39;: &#39;N/A&#39;,
                         &#39;lamp_state&#39;: &#39;N/A&#39;,
                         &#39;name&#39;: &#39;NIRSPEC&#39;},
          &#39;method&#39;: &#39;center&#39;,
          &#39;model_type&#39;: &#39;Extract1dIFUModel&#39;,
          &#39;origin&#39;: &#39;STScI&#39;,
          &#39;pedigree&#39;: &#39;INFLIGHT 2022-01-01 2022-01-01&#39;,
          &#39;reftype&#39;: &#39;EXTRACT1D&#39;,
          &#39;region_type&#39;: &#39;target&#39;,
          &#39;subpixels&#39;: 5,
          &#39;subtract_background&#39;: False,
          &#39;telescope&#39;: &#39;JWST&#39;,
          &#39;useafter&#39;: &#39;2022-01-01T00:00:00&#39;,
          &#39;version&#39;: &#39;1.0&#39;}}
</pre></div>
</div>
</div>
</div>
<p>Now, we re-extract the 1D spectrum by running the <code class="docutils literal notranslate"><span class="pre">Extract1dStep</span></code> and overriding the reference file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">s3d</span> <span class="ow">in</span> <span class="n">stage3_s3d</span><span class="p">:</span>
    <span class="n">Extract1dStep</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">s3d</span><span class="p">,</span>
                       <span class="n">save_results</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">output_dir</span><span class="o">=</span><span class="n">spec3_dir</span><span class="p">,</span>
                       <span class="n">output_use_model</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;x1d_mod&#39;</span><span class="p">,</span>  <span class="c1"># Default suffix is `_extract1dstep.fits`</span>
                       <span class="n">use_source_posn</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="n">ifu_autocen</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># Set this to True for isolated point sources</span>
                       <span class="n">override_extract1d</span><span class="o">=</span><span class="n">extract_1d_ref_mod</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:26,734 - stpipe.Extract1dStep - INFO - Extract1dStep instance created.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:29,898 - stpipe.Extract1dStep - INFO - Step Extract1dStep running with args (&#39;/home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/Level3_g395h-f290lp_s3d.fits&#39;,).
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:29,905 - stpipe.Extract1dStep - INFO - Step Extract1dStep parameters are:
  pre_hooks: []
  post_hooks: []
  output_file: None
  output_dir: /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/
  output_ext: .fits
  output_use_model: True
  output_use_index: True
  save_results: True
  skip: False
  suffix: x1d_mod
  search_output_file: True
  input_dir: &#39;&#39;
  subtract_background: None
  apply_apcorr: True
  use_source_posn: False
  smoothing_length: None
  bkg_fit: None
  bkg_order: None
  log_increment: 50
  save_profile: False
  save_scene_model: False
  center_xy: None
  ifu_autocen: False
  bkg_sigma_clip: 3.0
  ifu_rfcorr: False
  ifu_set_srctype: None
  ifu_rscale: None
  ifu_covar_scale: 1.0
  soss_atoca: True
  soss_threshold: 0.01
  soss_n_os: 2
  soss_wave_grid_in: None
  soss_wave_grid_out: None
  soss_estimate: None
  soss_rtol: 0.0001
  soss_max_grid_size: 20000
  soss_tikfac: None
  soss_width: 40.0
  soss_bad_pix: masking
  soss_modelname: None
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:30,114 - stpipe.Extract1dStep - INFO - Using EXTRACT1D reference file /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/jwst_nirspec_extract1d_0002_demo.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:30,123 - stpipe.Extract1dStep - INFO - Using APCORR file /home/runner/crds_cache/references/jwst/nirspec/jwst_nirspec_apcorr_0005.asdf
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:30,123 - stpipe.Extract1dStep - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:30,333 - stpipe.Extract1dStep - INFO - Input model does not break out variance information. Passing only generalized errors.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:53,951 - stpipe.Extract1dStep - INFO - Results used CRDS context: jwst_1322.pmap
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:54,021 - stpipe.Extract1dStep - INFO - Saved model in /home/runner/work/jwst-pipeline-notebooks/jwst-pipeline-notebooks/notebooks/NIRSPEC/IFU/ifu_data_02729/Obs005/stage3/Level3_g395h-f290lp_x1d_mod.fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:54,022 - stpipe.Extract1dStep - INFO - Step Extract1dStep done
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:54,022 - stpipe - INFO - Results used jwst version: 1.17.1
</pre></div>
</div>
</div>
</div>
<p>We now plot again the 3D/1D final cube/spectra and showing the original extraction box in red and the new extraction box in black.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load necessary files</span>
<span class="n">stage3_x1d_mod</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">spec3_dir</span> <span class="o">+</span> <span class="s1">&#39;*_x1d_mod.fits&#39;</span><span class="p">))</span>
<span class="n">x1d_file</span> <span class="o">=</span> <span class="n">stage3_x1d_mod</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cube_data</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="n">x1d_mod</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">x1d_file</span><span class="p">)</span>
<span class="n">x1d_wave_mod</span> <span class="o">=</span> <span class="n">x1d_mod</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">spec_table</span><span class="o">.</span><span class="n">WAVELENGTH</span>
<span class="n">x1d_flux_mod</span> <span class="o">=</span> <span class="n">x1d_mod</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">spec_table</span><span class="o">.</span><span class="n">FLUX</span>

<span class="c1"># Setup the figure</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
                               <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width_ratios&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                                            <span class="s1">&#39;wspace&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>

<span class="c1"># Plot the original and modified spectra</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1d_wave</span><span class="p">,</span> <span class="n">x1d_flux</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Original Extraction&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1d_wave_mod</span><span class="p">,</span> <span class="n">x1d_flux_mod</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Modified Extraction&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Wavelength (μm)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Flux (Jy)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Level 3 IFU Product: Extracted 1D Spectrum&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">x1d_flux</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">x1d_flux</span><span class="p">,</span> <span class="mi">98</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;sci&#39;</span><span class="p">,</span> <span class="n">scilimits</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="c1"># Plot the IFU cube slice</span>
<span class="n">slice_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">cube_data</span><span class="p">[</span><span class="mi">400</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">vmin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">slice_mean</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">vmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">slice_mean</span><span class="p">,</span> <span class="mi">98</span><span class="p">)</span>
<span class="k">if</span> <span class="n">vmin</span> <span class="o">&lt;</span> <span class="o">-</span><span class="n">vmax</span><span class="p">:</span>
    <span class="n">vmin</span> <span class="o">=</span> <span class="o">-</span><span class="n">vmax</span>
<span class="n">slice_full</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">slice_mean</span><span class="p">,</span>
                        <span class="n">norm</span><span class="o">=</span><span class="n">ImageNormalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="n">LinearStretch</span><span class="p">()),</span>
                        <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">slice_full</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span>
             <span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">)</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;MJy/sr&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="c1"># Annotate the extraction regions</span>
<span class="k">with</span> <span class="n">asdf</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">extract_1d_ref_mod</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ref_file</span><span class="p">:</span>
    <span class="n">radii_data</span> <span class="o">=</span> <span class="n">ref_file</span><span class="o">.</span><span class="n">tree</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Radius [arcsec]:&quot;</span><span class="p">,</span> <span class="n">radii_data</span><span class="p">[</span><span class="s1">&#39;radius&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inner background [arcsec]:&quot;</span><span class="p">,</span> <span class="n">radii_data</span><span class="p">[</span><span class="s1">&#39;inner_bkg&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outer background [arcsec]:&quot;</span><span class="p">,</span> <span class="n">radii_data</span><span class="p">[</span><span class="s1">&#39;outer_bkg&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">x1d_mod</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">source_type</span> <span class="o">==</span> <span class="s1">&#39;POINT&#39;</span><span class="p">:</span>
        <span class="n">x_cen</span><span class="p">,</span> <span class="n">y_cen</span> <span class="o">=</span> <span class="n">x1d_mod</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">extraction_x</span><span class="p">,</span> <span class="n">x1d_mod</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">extraction_y</span>
        <span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="s1">&#39;Radius&#39;</span><span class="p">,</span> <span class="s1">&#39;Inner Background Radius&#39;</span><span class="p">,</span>
                                         <span class="s1">&#39;Outer Background Radius&#39;</span><span class="p">],</span>
                                        <span class="p">[</span><span class="s1">&#39;radius&#39;</span><span class="p">,</span> <span class="s1">&#39;inner_bkg&#39;</span><span class="p">,</span> <span class="s1">&#39;outer_bkg&#39;</span><span class="p">],</span>
                                        <span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">]):</span>
            <span class="n">ax2</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">Circle</span><span class="p">((</span><span class="n">x_cen</span><span class="p">,</span> <span class="n">y_cen</span><span class="p">),</span> <span class="n">radii_data</span><span class="p">[</span><span class="n">radius</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">10</span><span class="p">,</span>
                                 <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">))</span>

    <span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X (pixels)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y (pixels)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Full IFU Cube: </span><span class="se">\n</span><span class="s2"> Extraction Region Preview&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-03-04 22:37:54,523 - stpipe - WARNING - /tmp/ipykernel_2218/4248034433.py:55: UserWarning: No artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.
  ax2.legend(fontsize=15)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Radius [arcsec]: 0.45
Inner background [arcsec]: 1.0
Outer background [arcsec]: 1.2
</pre></div>
</div>
<img alt="../../../_images/9f9309f902056460958c64f67e0ed2df463b7ac966eb715e1873a9d9d3cda1f0.png" src="../../../_images/9f9309f902056460958c64f67e0ed2df463b7ac966eb715e1873a9d9d3cda1f0.png" />
</div>
</div>
<p><strong>The spectra will look identical if the source is extended.</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">time5</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Runtime so far: </span><span class="si">{</span><span class="nb">round</span><span class="p">((</span><span class="n">time5</span><span class="o">-</span><span class="n">time0</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">0.4f</span><span class="si">}</span><span class="s2"> min&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Runtime so far: 51.3000 min
</pre></div>
</div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="related-notebooks">
<h2>Related Notebooks<a class="headerlink" href="#related-notebooks" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/spacetelescope/jwst-caveat-examples/tree/main/NIRSPEC_General">NIRSpec Workaround Notebooks</a></p></li>
<li><p><a class="reference external" href="https://github.com/spacetelescope/jdat_notebooks/tree/main/notebooks">JDAT: JWST Data Analysis Example Notebooks</a></p></li>
</ul>
<hr class="docutils" />
<figure>
       <img src="https://raw.githubusercontent.com/spacetelescope/notebooks/master/assets/stsci_pri_combo_mark_horizonal_white_bkgd.png" alt="Space Telescope Logo\" align="right" style="width: 200px"/>
</figure>
<p><span class="xref myst">Top of Page</span></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "spacetelescope/jwst-pipeline-notebooks",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/NIRSPEC/IFU"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../FSlit/JWPipeNB-NIRSpec-FS.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">NIRSpec FS Pipeline Notebook</p>
      </div>
    </a>
    <a class="right-next"
       href="../MOS/JWPipeNB-NIRSpec-MOS.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">NIRSpec MOS Pipeline Notebook</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#table-of-contents">Table of Contents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration">1. Configuration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-dependencies-and-parameters">Install dependencies and parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set-crds-context-and-server">Set CRDS Context and Server</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#package-imports">2. Package Imports</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#define-convience-functions">Define Convience Functions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#demo-mode-setup-ignore-if-not-using-demo-data">3. Demo Mode Setup (ignore if not using demo data)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#directory-setup">4. Directory Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-1-detector1pipeline-calwebb-detector1">5. Stage 1: <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_detector1</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-detector1pipeline">5.1 Configure <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#run-detector1pipeline">5.2 Run <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#calibrating-science-files">5.2.1 Calibrating Science Files</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#calibrating-background-files">5.2.2 Calibrating Background Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-2-spec2pipeline-calwebb-spec2">6. Stage 2: <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_spec2</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-spec2pipeline">6.1 Configure <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-spec2pipeline-association-files">6.2 Create <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> Association Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#run-spec2pipeline">6.3 Run <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">6.3.1 Calibrating Science Files</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">6.3.2 Calibrating Background Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stage-3-spec3pipeline-calwebb-spec3">7. Stage 3: <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> (<code class="docutils literal notranslate"><span class="pre">calwebb_spec3</span></code>)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configure-spec3pipeline">7.1 Configure <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-spec3pipeline-association-files">7.2 Create <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> Association Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#run-spec3pipeline">7.3 Run <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualize-the-data">8. Visualize the Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#display-detector1pipeline-products">8.1 Display <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> Products</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#display-spec3pipeline-products">8.2 Display <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> Products</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modifying-the-extract1d-reference-file-as-needed">9. Modifying the EXTRACT1D Reference File (as needed)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#related-notebooks">Related Notebooks</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By STScI
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>